# 进销存系统 用例文档

by Trap x00

## 更新历史

| 修改人员 | 日期        | 变更原因   | 版本号  |
| ---- | --------- | ------ | ---- |
| 全体成员 | 2017/9/23 | 完成最初版本 | V1.0 |
|      |           |        |      |
|      |           |        |      |


# 1.引言

## 1.1 目的

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。

现公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度，该公司聘请公司S开发一套进销存系统。

本文档描述了上述进销存系统的用户需求。

## 1.2 阅读说明

## 1.3 参考文献

# 2.用例列表及用例图

|  参与者   | 用例   |
| :----: | :--- |
| 库存管理人员 |      |
| 进货销售人员 |      |
|  财务人员  |      |
|  总经理   |      |

# 3.详细用例描述

### 用例0：商品分类管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 0                                        |
| 名称      | 商品分类管理                                   |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/21                                |
| 参与者     | 库存管理人员，目标是简单、精准、快速的使用系统进行商品分类管理。         |
| 触发条件    | 库存管理人员进行商品分类管理。                          |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 库存管理人员完成更新、添加或修改商品分类操作,保存变更日志。           |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员对商品分类进行**增加、删除或修改**操作。<br/> 3. 系统更新商品分类信息，并显示更新后偶的商品分类信息。 |
| 扩展流程    | 2a.选择在非叶节点的分类添加分类<br/> &emsp;1.提示改不能添加商品分类并返回2<br/>2b.选择叶节点的分类添加分类<br/>&emsp;1.提示添加分类成功<br/>2c.选择删除非叶节点的分类<br/>&emsp;1.提示该分类下仍然有商品分类，不能删除并返回2<br/>2d.增加已存在的商品分类<br/>&emsp;1.提示该分类已经存在并返回2 |
| 特殊需求    | 增加分类时，系统自动给该分类生成一个编号，编号格式为 **PRO-xxxx**(xxxx表示分类id) |



### 用例1：商品管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 1                                        |
| 名称      | 商品管理                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/21                                |
| 参与者     | 库存管理人员，目标是简单、精准、快速的使用系统进行商品管理。           |
| 触发条件    | 库存管理人员进行商品管理。                            |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 保存变更日志。                                  |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员选择相应的分类<br/>3.系统显示库存管理人员选择的商品分类里的商品列表<br/>4.库存管理人员对商品进行**增加、删除、修改或查询操作，完善操作**。<br/> 5. 系统更新商品信息，并显示更新后的商品信息。 |
| 扩展流程    | 4a.增加已经存在商品<br/> &emsp; 1.提示商品已存在并返回3<br/>4b.查询不存在的商品<br/>&emsp;1.提示该商品不存在<br/> |
| 特殊需求    | 1.商品的查询可以通过输入关键字、商品编号等进行模糊查找<br/>2.增加商品时根据其所在的分类以及添加次序自动生成编号，格式为**PRO-xxxx-yyyy**(xxxx为分类id，yyyy为商品id)<br/>3.一开始需要给商品规定一个进价和售价作为默认值并保存一个最近的进价和售价属性。 |



### 用例2：库存查看

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 2                                        |
| 名称      | 库存查看                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/21                                |
| 参与者     | 库存管理人员，目标是简单、快速的使用系统查询某一时间段内库存变化信息。      |
| 触发条件    | 库存管理人员进行库存信息查看时。                         |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 无                                        |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存人员输入需要查询的时间段.<br/> 2.系统根据输入时间段显示此时间段内的出/入库数量/金额，销售/进货的数量/金额<br/>3.系统对库存数量进行合计<br/> |
| 扩展流程    | 2a.输出时间段格式不对或不合实际<br/>1.提示时间段格式错误并返回2    |
| 特殊需求    | 无                                        |

### 用例3：库存盘点

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 3                                        |
| 名称      | 库存盘点                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/21                                |
| 参与者     | 库存管理人员，目标是简单、快速的使用系统进行库存盘点，并且导出Excel。    |
| 触发条件    | 库存管理人员进行库存盘点操作时。                         |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 导出Excel                                  |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员盘点库存.<br/> 2.系统显示当天的库存快照，包括当天的各种商品的**名称、型号、库存数量、库存均价、批次、批号、出厂日期，并且显示行号**。<br/>3.导出Excel<br/> |
| 扩展流程    | 1a.如果当天没有库存。<br/> &emsp;1.提示当天无库存无法提供库存快照。 |
| 特殊需求    | 无                                        |

### 用例4：建立库存赠送单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 4                                        |
| 名称      | 建立库存赠送单                                  |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 库存管理人员，目标是简单、快速的使用系统建立库存赠送清单。            |
| 触发条件    | 库存管理人员建立库存赠送单时。                          |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 库存赠送单被系统送出，保存变更日志。                       |
| 优先级     | 中等                                       |
| 正常流程    | 1.系统显示库存商品.<br/> 2.库存管理员选择库存中的商品。<br/>3.库存管理员输入选中商品数量<br/>4.提交库存赠送单<br/>5.系统提交库存赠送单给总经理进行审批<br/>6.审批通过后更新信息，否则返回2。 |
| 扩展流程    | 3a.输入数量超出商品库存数量<br/>&emsp;1.系统提示超过商品存在数量 &emsp; |
| 特殊需求    | 无                                        |

### 用例5：建立库存报溢单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 5                                        |
| 名称      | 建立库存报溢单                                  |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 库存管理人员，目标使系统库存中的商品数量增加到与实际库房中数量相等。       |
| 触发条件    | 实际库房中的商品数量比系统中记录数量的多                     |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 建立库存报溢单，保存变更日志。                          |
| 优先级     | 中等                                       |
| 正常流程    | 1.系统显示库存商品的数量.<br/> 2.库存管理人员选择需要进行报溢的商品。<br/>3.输入实际库房中的商品数量<br/>4.提交库存报溢单<br/>5.系统发送库存报溢单给总经理进行审批<br/>6.若审批通过则更新信息，否则返回2。 |
| 扩展流程    | 2a.为选择商品就输入数量<br/> &emsp;1.提示未选择商品。<br/>3a.输入商品数量小于系统中商品数量<br/> &emsp;1.提示输入数量错误 |
| 特殊需求    | 无                                        |



### 用例6：建立库存报损单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 6                                        |
| 名称      | 建立库存报损单                                  |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 库存管理人员，目标使系统库存中的商品数量减少到与实际库房中数量相等。       |
| 触发条件    | 实际库房中的商品数量比系统中记录数量的少。                    |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 建立库存报损单，保存变更日志。                          |
| 优先级     | 中等                                       |
| 正常流程    | 1.系统显示库存商品的数量.<br/> 2.库存管理人员选择需要进行报损的商品。<br/>3.输入实际库房中的商品数量<br/>4.提交库存报损单<br/>5.系统发送库存报损单给总经理进行审批<br/>6.若审批通过则更新信息，否则返回2. |
| 扩展流程    | 2a.为选择商品就输入数量<br/> &emsp;1.提示未选择商品。<br/>3a.输入商品数量多于系统中商品数量<br/> &emsp;1.提示输入数量错误 |
| 特殊需求    | 无                                        |



### 用例7：建立库存报警单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 7                                        |
| 名称      | 建立库存报警单                                  |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 库存管理人员，目标设置一个警戒数量，提示商品库存数量不足。            |
| 触发条件    | 当库存数量低于警戒数量时                             |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 当库存数量低于警戒数量给库存管理人员发送警报信息，保存变更日志。         |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员设置库存警戒数量.<br/> 2.提交库存报警单<br/>3.系统发送库存报警单给总经理进行审批<br/>4.若审批通过则更新信息，否则返回1。 |
| 扩展流程    | 无                                        |
| 特殊需求    | 无                                        |

### 用例8：库存管理人员响应进出货

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 8                                        |
| 名称      | 库存管理人员响应进出货                              |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 库存管理人员，目的是响应总经理的审批，完成现实中的进出货             |
| 触发条件    | 系统中的任何单通过总经理审批。                          |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 完成现实中商品的进出货                              |
| 优先级     | 中等                                       |
| 正常流程    | 1.系统中单通过总经理审批，自动完成相应数据更新。<br/> 2.系统给库存管理人员发送消息。<br/>3.库存管理人员完成现实中商品的进出货。 |
| 扩展流程    | 无。                                       |
| 特殊需求    | 若总经理未通过审批，则库存管理人员处于等待状态。                 |

### 用例9：客户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 9                                        |
| 名称      | 客户管理                                     |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 客户信息需要被增删改查                              |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储客户信息并将本次修改记入日志，包括客户的所有属性：**、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员，以及修改记录的销售人员编号** |
| 优先级     | 低                                        |
| 正常流程    | 1、输入客户的姓名或编号或关键词查找到客户。<br/>2、修改客户信息。<br/>3、系统保存客户信息的修改。<br/>4、提示修改成功或失败。 |
| 扩展流程    | 1-3a、增加客户信息<br/>&emsp;1、销售人员输入客户信息（包括所有属性）。<br/>&emsp;2、系统保存新的客户信息。<br/>2-3b删除客户信息<br/>&emsp;1、删除客户信息<br/>&emsp;2、系统保存客户信息的修改<br/>1-4c、查询客户信息<br/>&emsp;1、输入客户的姓名或编号或关键词查找到客户<br/>&emsp;2、系统显示客户信息<br/> 1-3d、放弃修改客户信息<br/>&emsp;1、系统还原用户信息并返回用户界面 |
| 特殊需求    | 1、 应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。<br/>2、 应收额度**仅最高权限**可修改。 |

### 用例10：制定进货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 10                                       |
| 名称      | 制定进货单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有新的货物入库                                  |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的进货单并记入日志，包括： **单据编号**，**供应商，仓库，操作员，入库商品列表，备注，总额合计。**其中入库商品列表包含的信息有：**商品编号，名称（从商品选择界面进行选择），型号，数量（手动输入），单价（默认为商品信息中的进价），金额，备注（手动输入）**。 |
| 优先级     | 高                                        |
| 正常流程    | 1、销售人员新建一个进货单<br/>2、销售人员输入进货单信息。<br/>3、系统保存进货单信息。<br/>4、销售人员提交进货单。 |
| 扩展流程    | 1-3a、取消制定进货单<br/>&emsp;1、系统删除本次数据，取消进货单。<br/>2b、非法的进货单信息（单据编号）<br/>&emsp;1、系统提示错误并拒绝输入<br/> |
| 特殊需求    | 1、入库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2、进货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、**单据编号**格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

### 用例11：制定进货退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 11                                       |
| 名称      | 制定进货退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有货物需要退货                                  |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的退货单并记入日志，包括：**单据编号**，**供应商，仓库，操作员，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**。 |
| 优先级     | 高                                        |
| 正常流程    | 1、销售人员新建一个进货退货单<br/>2、销售人员输入进货退货单信息。<br/>3、系统保存进货退货单信息。<br/>4、销售人员提交进货退货单。 |
| 扩展流程    | 1-3a、取消制定进货退货单<br/>&emsp;1、系统删除本次数据，取消进货退货单。<br/>2b、非法的进货退货单信息（单据编号）<br/>&emsp;1、系统提示错误并拒绝输入<br/> |
| 特殊需求    | 1、退库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2、退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、**单据编号**格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

### 用例12：制定销售单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 12                                       |
| 名称      | 制定销售单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 货物需要出售                                   |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的销售出货单并记入日志，包括： **单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 **。出货商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** |
| 优先级     | 中                                        |
| 正常流程    | 1、销售人员新建一个销售出货单<br/>2、销售人员输入销售单信息。<br/>3、系统保存销售单信息。<br/>4、销售人员提交销售单。 |
| 扩展流程    | 1-3a、取消制定销售单<br/>&emsp;1、系统删除本次数据，取消销售单。<br/>2b、非法的销售单信息（单据编号）<br/>&emsp;1、系统提示错误并拒绝输入<br/> |
| 特殊需求    | 1、**编号**格式为：XSD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2、销售单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、出货商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/>4、销售人员分为**销售员**和**销售经理**。销售员最多折让1000元，销售经理可以折让5000元，总经理可以任意金额的折让。 |

### 用例13：制定销售退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 13                                       |
| 名称      | 制定销售退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 货物被退货                                    |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的销售退货单并记入日志，包括： **单据编号，客户，业务员，操作员，仓库，商品清单，商品总价，备注 **。商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** |
| 优先级     | 中                                        |
| 正常流程    | 1、销售人员新建一个销售出货单<br/>2、销售人员输入销售退货单信息。<br/>3、系统保存销售退货单信息。<br/>4、销售人员提交销售退货单。 |
| 扩展流程    | 1-3a、取消制定销售退货单<br/>&emsp;1、系统删除本次数据，取消销售退货单。<br/>2b、非法的销售退货单信息（单据编号）<br/>&emsp;1、系统提示错误并拒绝输入<br/> |
| 特殊需求    | 1、**编号**格式为：XSTHD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2、销售单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/> |

### 用例14：进货销售人员响应审批消息

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 14                                       |
| 名称      | 进货销售人员响应审批消息                             |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有审批消息                                    |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 将本次操作记入日志                                |
| 优先级     | 中                                        |
| 正常流程    | 1、系统提示销售人员之前提交的单据审批通过。<br/>2、销售人员根据单据更改库存数据和客户的应收应付数据。<br/>3、系统提示修改成功。 |
| 扩展流程    | 1a、单据审批不通过<br/>&emsp;1、销售人员重新制定单据并提交。    |
| 特殊需求    | 无                                        |

### 用例15：账户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 15                                       |
| 名称      | 账户管理                                     |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是对已有账号进行增删改查。                     |
| 触发条件    | 需要进行增加账户、删除账户、修改账户属性或查询账户。               |
| 前置条件    | 财务人员已经登录，财务人员具有最高权限。                     |
| 后置条件    | 保存对账户信息的修改，记录日志。                         |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员进入相关界面；<br/>2. 系统检查财务人员权限并给出需要填写的信息列表；<br/>3. 财务人员填写相关信息；<br/>4. 系统检查信息并让用户确认；<br/>5. 用户确认；<br/>6. 系统执行相应操作并返回结果。 |
| 扩展流程    | 2a. 财务人员不具备最高权限：<br/>&emsp; 1. 系统提示错误信息；<br/>&emsp; 2. 用户确认并退出系统。<br/>4a. 增加账户或者修改账户属性时，系统发现已经有同名账户存在：<br/>&emsp;1. 系统提示错误，并返回至3。<br/>4b. 删除账户时，账户余额不为0：<br/>&emsp;1. 系统提示错误，并返回至3。<br/>4c. 查询账户时，账户不存在：<br/>&emsp; 1. 系统提示错误，并返回至3。 |
| 特殊需求    | 查询的时候可以通过输入关键字进行模糊查找。                    |

### 用例16：制定收款单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 16                                       |
| 名称      | 制定收款单                                    |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是制定收款单。                           |
| 触发条件    | 有新的收款，需要制定收款单。                           |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 保存新的收款单并等待审核，记录日志。                       |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员收到消息并响应消息；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善**单据编号(SKD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息<br/>3. 财务人员填写剩余信息，包括**客户（包括供应商和销售商）**、**转账列表（包括银行账户，转账金额，备注）**<br/>4. 系统自动完善**总额汇总**。<br/>5. 财务人员再次检查信息并点击**“提交”**按钮。<br/>6. 系统提交并显示确认信息。<br/>7. 如果财务人员还有新的收款单要填写，跳回2；若无，结束。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据，不能再添加下一步：<br/>&emsp;1. 系统弹出错误提示，并退出系统。</br>5. 财务人员并未写完信息就点击了**“提交”**按钮：<br/>&emsp;1. 系统弹出错误提示，提示财务人员正确填写完所有数据，并不进行下一步。<br/> |
| 特殊需求    | 无。                                       |

### 用例17：制定付款单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 17                                       |
| 名称      | 制定付款单                                    |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/20                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是制定付款单。                           |
| 触发条件    | 有新的付款，需要制定付款单。                           |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 保存新的付款单等待审核，并记录日志。                       |
| 优先级     | 中                                        |
| 正常流程    | 1. 财务人员收到消息并响应消息；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善**单据编号(FKD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息<br/>3. 财务人员填写剩余信息，包括**客户（包括供应商和销售商）**、**转账列表（包括银行账户，转账金额，备注）**；<br/>4. 系统自动完善**总额汇总**。<br/>5. 财务人员再次检查信息并点击**“提交”**按钮。<br/>6. 系统提交并显示确认信息。<br/>7. 如果财务人员还有新的付款单要填写，跳回2；若无，结束。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据，不能再添加下一步：<br/>&emsp;1. 系统弹出错误提示，并退出系统。</br>5. 财务人员并未写完信息就点击了**“提交”**按钮：<br/>&emsp;1. 系统弹出错误提示，提示财务人员正确填写完所有数据，并不进行下一步。<br/> |
| 特殊需求    | 无。                                       |

### 用例18：制定现金费用单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 18                                       |
| 名称      | 制定现金费用单                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是制定现金费用单，管理报销等现金操作                |
| 触发条件    | 有新的现金费用，需要制定现金费用单。                       |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 保存新的现金费用单等待审核，记录日志。                      |
| 优先级     | 中                                        |
| 正常流程    | 1. 财务人员进入制定现金费用单界面；<br/>2. 系统显示需要填写的信息，并自动完善**单据编号(XJFYD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息；<br/>3. 财务人员填写剩余信息，包括**银行账户**、**条目清单（包括条目名，金额，备注）**；<br/>4. 系统自动完善**总额汇总**；<br/>5. 财务人员再次检查信息并点击**“提交”**按钮。<br/>6. 系统入账并显示确认信息。<br/>7. 如果财务人员还有新的现金费用单要填写，跳回2；若无，结束 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据，不能再添加下一步：<br/>&emsp;1. 系统弹出错误提示，并退出系统。</br>5. 财务人员并未写完信息就点击了**“提交”**按钮：<br/>&emsp;1. 系统弹出错误提示，提示财务人员正确填写完所有数据，并不进行下一步。<br/> |
| 特殊需求    | 无。                                       |

### 用例19：查看销售明细表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 19                                       |
| 名称      | 查看销售明细表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/15                                |
| 参与者     | 财务人员或总经理，目的是查看销售明细表，统计一段时间内商品的销售情况，即查询销售出货单据记录。 |
| 触发条件    | 财务人员或总经理需要查看某段时间内的销售明细表。                 |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 财务人员或总经理已经登录。                            |
| 优先级     | 中                                        |
| 正常流程    | 1. 财务人员或总经理进入相关界面；<br/>2. 系统显示需要填写的筛选条件信息，包括 **时间区间，商品名，客户，业务员，仓库**；<br/>3. 财务人员或总经理填写筛选条件信息；<br/>4. 系统根据提交的信息，查询相关条目，即销售出货单据记录，并以列表形式显示，列表中包含如下信息：**时间（精确到天），商品名，型号，数量，单价，总额**。 |
| 扩展流程    | 4a. 财务人员或总经理需要导出报表：<br/>&emsp; 1. 财务人员或总经理选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp; 2. 系统根据财务人员或总经理的要求导出相应报表和信息。 |
| 特殊需求    | 财务人员不能修改和删除已经有的单据。                       |

### 用例20：查看经营历程表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 20                                       |
| 名称      | 查看经营历程表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员或总经理，目的是查看经营历程表。                     |
| 触发条件    | 财务人员或总经理需要查看某段时间内的经营历程表                  |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 如果进行了红冲，则保存红冲数据。                         |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员或总经理进入查看经营历程表界面；<br/>2. 系统显示需要填写的信息；<br/>3. 财务人员填写筛选条件，包括 **时间区间，单据类型，客户，业务员，仓库**，单据类型分为**销售类单据（销售出货单，销售退货单）**、**进货类单据（进货单，进货退货单）**、**财务类单据（付款单，收款单，现金费用单）**、**库存类单据（报溢单，报损单，赠送单）**;<br/>4. 系统通过这些筛选条件，筛选出满足条件的所有单据，并显示给财务人员。 |
| 扩展流程    | 4a. 财务人员或总经理需要导出报表：<br/>&emsp; 1. 财务人员或总经理选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp; 2. 系统根据财务人员或者总经理的要求导出相应报表和信息。 |
| 特殊需求    | 财务人员不能修改和删除已经有的单据。                       |

### 用例21：红冲

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 21                                       |
| 名称      | 红冲                                       |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是进行红冲或者红冲并复制。                     |
| 触发条件    | 财务人员需要进行红冲或者红冲并复制。                       |
| 前置条件    | 财务人员已经登录且处于查看销售明细表界面。                    |
| 后置条件    | 保存红冲数据，记录日志。                             |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员选定一条单据；<br/>2. 系统生成一个一模一样但数量取反的新单据并返回等待确认；<br/>&emsp; 3. 财务人员确认；<br/>&emsp;4. 系统提交。 |
| 扩展流程    | 3a. 财务人员需要进行**红冲并复制**：<br/>&emsp; 1. 财务人员进行修改，并提交；<br/>&emsp;2. 系统返回进行确认；<br/>&emsp; 3. 财务人员确认并提交。后转主流程4。 |
| 特殊需求    | 无。                                       |

### 用例22：查看经营情况表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 22                                       |
| 名称      | 查看经营情况表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员或总经理，目的是查看经营情况表，统计显示某一段时间内的经营收支状况和利润。经营收入显示为折让后，并显示出折让了多少。 |
| 触发条件    | 财务人员或总经理需要查看某段时间内的经营情况表。                 |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 财务人员或总经理已经登录。                            |
| 优先级     | 中                                        |
| 正常流程    | 1. 财务人员或总经理进入相关界面；<br/>2. 系统提示选择具体时间段；<br/>3. 财务人员或总经理选择时间段；<br/>4. 系统显示信息：<br/>&emsp;1. **收入类**：**销售收入、商品类收入**（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示**折让后总收入**，并显示折让了多少；<br/>&emsp;2. **支出类**：**销售成本、商品类支出**（商品报损 商品赠出）。支出类显示**总支出**；<br/>&emsp;3. **利润**：**折让后总收入-总支出。** |
| 扩展流程    | 4a. 财务人员或总经理需要导出报表：<br/>&emsp; 1. 财务人员或总经理选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp; 2. 系统根据财务人员或总经理的要求导出相应报表和信息。 |
| 特殊需求    | 财务人员或总经理不能修改和删除已经有的单据。                   |

### 用例23：期初建账

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 23                                       |
| 名称      | 期初建账                                     |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是进行一套账的初始化操作。                     |
| 触发条件    | 财务人员需要进行期初建账。                            |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 把这套账单独存储，并以此作为系统的启动初始状态，记录日志。            |
| 优先级     | 低                                        |
| 正常流程    | 1. 财务人员进入期初建账界面；<br/>2. 系统显示需要填写的信息；<br/>3. 财务人员填写信息，包括  **添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）。**；<br/>4. 系统将期初信息单独存储，并将此信息作为系统的启动初始状态。 |
| 扩展流程    | 4a. 财务人员没有填写结束即提交：<br/>&emsp;1. 系统显示错误提示，并返回上一步。 |
| 特殊需求    | 无。                                       |

### 用例24：完成现实银行账户操作

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 24                                       |
| 名称      | 完成现实银行账户操作                               |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/9/22                                |
| 参与者     | 财务人员，目的是财务人员收到审批结束的消息后，根据该消息完成现实银行账户操作。  |
| 触发条件    | 财务人员收到消息，已有完成审批。                         |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 现实银行账户操作完成，客户应付/应收数据已经修改；或者重新修改单据并且已经提交。记录日志。 |
| 优先级     | 中                                        |
| 正常流程    | 1. 财务人员收到消息，进入操作界面；<br/>2. 如果审核通过：<br/>&emsp; 2(1). 系统显示**单据**以及相关信息；<br/>&emsp; 2(2). 财务人员根据这些信息，完成现实银行账户操作。<br/>&emsp; 2(3). 系统处理相关信息。<br/>3. 如果审核不通过：<br/>&emsp; 3(1). 系统显示不通过原因，并标记单据为**未通过审批**；<br/>&emsp; 3(2). 财务人员进行修改并提交；<br/>&emsp; 3(3). 系统提交新的单据。 |
| 扩展流程    | 3(2)a. 财务人员没有填写结束即提交：<br/>&emsp;1. 系统显示错误提示，并返回上一步；<br/>3(2)b. 财务人员放弃此单据：<br/>&emsp; 1.财务人员选择废弃此单据；<br/>&emsp; 2. 系统标记单据为**已废弃**并显示返回信息。 |
| 特殊需求    | 无。                                       |

### 用例25：审批单据

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 25                                       |
| 名称      | 审批单据                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017.9.14                                |
| 最后更新日期  | 2017.9.22                                |
| 参与者     | 总经理，目标是通过审核各类单据来更改库存数据和客户应收应付数据          |
| 触发条件    | 存在处于提交状态的单据                              |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录单据审批日志                               |
| 优先级     | 高                                        |
| 正常流程    | 1.总经理查看申请单据；<br/>2.系统显示所有处于提交状态的申请单据；<br/>3.总经理通过审批，一次可通过多个单据审批；<br/>4.系统将通过审批的申请单状态设置为审批后，根据单据修改库存数据和客户应收应付数据，并记录在日志中； |
| 扩展流程    | 1a、非法标识<br/>&emsp;1.系统提示错误并拒绝输入；<br/>3a、总经理不通过审批；<br/>&emsp;1.系统将单据返回给操作员，将单据状态设置为未通过审批，并将操作记录在日志中；<br/> |
| 特殊需求    | 单据包括销售出货单、销售退货单、进货单、进货退货单、付款单、收款单、现金费用单、报溢单、报损单、赠送单。 |

### 用例26：制定促销策略

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 26                                       |
| 名称      | 制定促销策略                                   |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017.9.15                                |
| 最后更新日期  | 2017.9.20                                |
| 参与者     | 总经理，目标是通过多样化的销售手段增加利润，根据最新的市场状况调整销售商品    |
| 触发条件    | 商品厂家提出自己商品的促销要求；节假日或者竞争促销；提前处理有可能会报废的商品；去除现有的销售策略 |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录销售策略日志                               |
| 优先级     | 中                                        |
| 正常流程    | **1.0 组合商品降价促销**<br/>&emsp;1.总经理输入商品标识；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为组合降价商品之一；<br/>&emsp;4.系统记录当前商品；<br/>总经理重复1～4步，直到组合商品全部选择完毕；<br/>&emsp;5.总经理输入组合商品降价信息，包括降价金额、开始日期和结束日期；<br/>&emsp;6.系统显示组合降价商品列表，包括商品标识、描述、价格、特价、开始日期和结束日期；<br/>&emsp;7.总经理结束输入；<br/>&emsp;8.系统记录组合商品降价信息并自动生成日志；<br/> |
| 扩展流程    | 1a、非法标识<br/>&emsp;1.系统提示错误并拒绝输入；<br/>3a、该商品已经被选择为组合降价商品；<br/>&emsp;&emsp;1.系统提示该商品已被选择为组合降价商品并拒绝输入；<br/>5a、总经理要移除已输入的商品特价信息<br/>&emsp;1.总经理输入商品标识；<br/>&emsp;2.系统移除该商品；<br/>**1.1.0满额赠代金券策略**<br/>&emsp;1、总经理输入满额赠代金券信息，包括额度、代金券面值、开始日期和结束日期；<br/>&emsp;&emsp;1a、在期间内已有相同额度满额赠代金券；<br/>&emsp;&emsp;&emsp;1.系统提示已有满额赠代金券并拒绝输入；<br/>2、系统显示满额赠代金券信息列表；<br/>&emsp;2a、总经理要移除已输入的满额赠代金券信息<br/>&emsp;&emsp;1. 总经理输入额度；<br/>&emsp;&emsp;2.系统移除该额度的满额赠代金券信息；<br/>总经理重复1～2步，直到输入所有满额赠代金券信息<br/>3.总经理结束输入；4.系统记录满额赠代金券信息并生成日志；<br/>**1.1.1满额赠品策略**<br/>1、总经理输入满额赠品信息，包括额度、赠品标识、开始时间和结束时间；<br/>&emsp;&emsp;1a、在期间内已有相同额度总额赠送（赠品也相同）；<br/>&emsp;&emsp;&emsp;1.系统提示已有特价并拒绝输入；<br/>1b、总经理修改额度、赠品、开始时间和结束时间信息;<br/>&emsp;&emsp;1.总经理输入修改内容；<br/>&emsp;&emsp;2.系统修改已有记录；<br/>2、系统显示满额赠品信息列表；<br/>&emsp;2a、总经理要移除已输入的满额赠品信息<br/>&emsp;&emsp;1. 总经理输入额度；<br/>&emsp;&emsp;2.系统移除该额度的满额赠品信息；<br/>总经理重复1～2步，直到输入所有满额赠品信息<br/>3.总经理结束输入；<br/>4.系统自动建立库存赠送单并生成日志；<br/>**1.2.0客户赠送代金券策略**<br/>1、总经理输入不同级别客户赠代金券信息，包括客户级别、代金券面值、开始日期和结束日期；<br/>&emsp;&emsp;1a、在期间内已有相同客户赠送代金券策略；<br/>&emsp;&emsp;&emsp;1.系统提示已有该级别客户赠代金券策略并拒绝输入；<br/>2、系统显示客户赠代金券信息列表；<br/>&emsp;2a、总经理要移除已输入的客户赠代金券信息<br/>&emsp;&emsp;1. 总经理输入某级别客户；<br/>&emsp;&emsp;2.系统移除该级别客户的赠代金券信息；<br/>总经理重复1～2步，直到输入所有客户赠代金券信息<br/>3.总经理结束输入；4.系统记录客户赠代金券信息并生成日志；<br/>**1.2.1客户赠送礼品策略**<br/>1、总经理输入客户赠品信息，包括客户级别、赠品标识、开始时间和结束时间；<br/>&emsp;&emsp;1a、在期间内已有相同级别客户赠送礼品策略（赠品也相同）；<br/>&emsp;&emsp;&emsp;1.系统提示已有该策略并拒绝输入；<br/>1b、总经理修改客户级别、赠品、开始时间和结束时间信息;<br/>&emsp;&emsp;1.总经理输入修改内容；<br/>&emsp;&emsp;2.系统修改已有记录；<br/>2、系统显示客户赠送礼品信息列表；<br/>&emsp;2a、总经理要移除已输入的客户赠送礼品信息<br/>&emsp;&emsp;1. 总经理输入客户级别；<br/>&emsp;&emsp;2.系统移除该级别客户赠送礼品信息；<br/>总经理重复1～2步，直到输入所有客户赠送礼品信息<br/>3.总经理结束输入；<br/>4.系统自动建立库存赠送单并生成日志；<br/>**1.2.2客户价格折让策略**<br/>&emsp;1、总经理输入客户价格折让信息，包括客户级别、购买总额、折让价格、开始日期和结束日期；<br/>&emsp;&emsp;1a、在期间内已有相同级别客户价格折让策略；<br/>&emsp;&emsp;&emsp;1.系统提示已有客户价格折让策略并拒绝输入；<br/>2、系统显示客户价格折让信息列表；<br/>&emsp;2a、总经理要移除已输入的客户价格折让信息<br/>&emsp;&emsp;1. 总经理输入客户级别；<br/>&emsp;&emsp;2.系统移除该级别客户的客户价格折让信息；<br/>总经理重复1～2步，直到输入所有客户价格折让信息<br/>3.总经理结束输入；4.系统记录客户价格折让信息并生成日志；<br/> |
| 特殊需求    | 无                                        |

### 用例27：查看日志

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 27                                       |
| 名称      | 查看日志                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017.9.21                                |
| 最后更新日期  | 2017.9.21                                |
| 参与者     | 总经理和财务人员，目标是查看主要操作的记录                    |
| 触发条件    | 需要查看职员的主要操作                              |
| 前置条件    | 总经理和财务人员必须已经被识别和授权                       |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.总经理或财务人员查看主要操作日志；<br/>2.系统显示所有主要操作记录（包括操作类型、时间、操作人员）；<br/>3.总经理或财务人员输入筛选条件（操作类型、时间、操作人员）；<br/>4.系统显示筛选结果；<br/> |
| 扩展流程    | 1a、非法标识<br/>&emsp;1.系统提示错误并拒绝输入；<br/>3a、非法筛选条件<br/>&emsp;1.系统提示筛选条件不成立；<br/> |
| 特殊需求    | 主要操作包括商品分类、商品管理、库存赠送、 库存报溢、 库存报损、 库存报警、客户管理、进货单制定、进货退货单制定、销售单制定、销售退货单制定、账户管理、收款单制定、付款单制定、审批报表和销售策略制定。 |

### 用例28：管理用户账户

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 28                                       |
| 名称      | 管理用户账户                                   |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/9/21                                |
| 参与者     | 管理员，目的是负责对用户账户的信息和权限管理                   |
| 触发条件    | 需要进行管理用户账户信息。                            |
| 前置条件    | 管理员已经登录。                                 |
| 后置条件    | 保存对账户信息的修改，记录日志。                         |
| 优先级     | 高                                        |
| 正常流程    | 1. 管理员进入界面；<br/>2. 管理员进行相关操作，包括**查看所有用户**，**新增用户**，**删除用户**，**修改用户信息**以及**修改用户权限**；<br/>3. 系统执行操作并返回结果。 |
| 扩展流程    | 无。                                       |
| 特殊需求    | 无。                                       |