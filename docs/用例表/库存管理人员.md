
##   库存管理人员

## 用例1：商品分类管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 1                                        |
| 名称      | 商品分类管理                                   |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/11                               |
| 参与者     | 库存管理人员，目标是使用系统进行商品分类管理。                  |
| 触发条件    | 库存管理人员进行商品分类管理。                          |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成更新、添加或修改商品分类操作，记录日志              |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员对商品分类进行**增加、删除或修改**操作。<br/> &emsp;2.1库存管理人员选中一个分类进行增加分类操作<br/>&emsp;&emsp;2.1.1库存管理人员输入增加新分类的信息和名称<br/>&emsp;&emsp;2.1.2系统在该分类下生成一个子类，并自动生成编号<br/>&emsp;2.2库存管理人员选中一个分类进行删除操作<br/>&emsp;&emsp;2.2.1系统删除成功<br/>&emsp;2.3库存管理人员选中一个分类进行修改操作<br/>&emsp;&emsp;2.3.1库存管理人员修改信息，输入新名称<br/>&emsp;&emsp;2.3.2系统修改对应分类信息<br/>3. 系统更新商品分类信息，并显示更新后的商品分类信息，保存变更日志。 |
| 扩展流程    | 2.1a.库存管理人员选择在非叶节点的分类添加分类<br/> &emsp;1.系统提示改不能添加商品分类并返回2.1<br/>2.1b.库存管理人员增加已存在的商品分类<br/>&emsp;1.系统提示该分类已经存在并返回2.1<br/>2.2a.库存管理人员选择删除非叶节点的分类<br/>&emsp;1.系统提示该分类下仍然有商品分类，不能删除并返回2<br/> |
| 特殊需求    | 增加分类时，系统自动给该分类生成一个编号，编号格式为 **PRO-xxxx**(xxxx表示分类id) |



## 用例2：商品管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 2                                        |
| 名称      | 商品管理                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标是使用系统进行商品管理。                    |
| 触发条件    | 库存管理人员进行商品管理。                            |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成增加、删除、修改或查询商品操作，记录日志             |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员选择相应的分类<br/>3.系统显示库存管理人员选择的商品分类里的商品列表<br/>4.库存管理人员对商品进行**增加、删除、修改或查询操作**。<br/>&emsp;4.1库存管理人员选择一个叶节点进行增加商品操作<br/> &emsp;&emsp;&emsp;4.1.1库存管理人员输入新增商品信息<br/>&emsp;&emsp;4.1.2系统在对应位置增加新商品<br/>&emsp;4.2库存管理人员选择一个商品进行删除操作<br/>&emsp;&emsp;4.2.1系统删除该商品信息和编号<br/>&emsp;4.3库存管理人员选择一个商品进行修改操作<br/>&emsp;&emsp;4.3.1库存管理人员输入需要修改的信息<br/>&emsp;&emsp;4.3.2系统更新修改后商品信息<br/>&emsp;4.4库存管理人员查询商品<br/>&emsp;&emsp;4.4.1库存管理人员输入商品名或商品编号进行搜索<br/>&emsp;&emsp;4.4.2系统查找相关商品并显示信息<br/>5.系统更新信息，记录操作日志。 |
| 扩展流程    | 4.1a.库存管理人员增加已经存在商品<br/> &emsp; 1.系统提示商品已存在并返回3<br/>4.4a.库存管理人员查询不存在的商品<br/>&emsp;1.系统提示该商品不存在并返回4.4<br/> |
| 特殊需求    | 1.商品的查询可以通过输入关键字、商品编号等进行模糊查找<br/>2.增加商品时根据其所在的分类以及添加次序自动生成编号，格式为**PRO-xxxx-yyyy**(xxxx为分类id，yyyy为商品id)<br/>3.一开始需要给商品规定一个进价和售价作为默认值并保存一个最近的进价和售价属性。 |




## 用例3：库存查看

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 3                                        |
| 名称      | 库存查看                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标是使用系统查询某一时间段内库存变化信息，记录日志        |
| 触发条件    | 库存管理人员进行库存信息查看时。                         |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 无                                        |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员输入需要查询的时间段.<br/> 2.系统根据输入时间段显示此时间段内的出/入库数量/金额，销售/进货的数量/金额<br/>3.库存管理人员选择查看库存合计<br/>4.系统对库存数量进行合计 |
| 扩展流程    | 2a.库存管理人员输出时间段格式不对或不合实际<br/>1.系统提示时间段格式错误并返回2 |
| 特殊需求    | 无                                        |

## 用例4：库存盘点

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 4                                        |
| 名称      | 库存盘点                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员/总经理，目标是使用系统进行库存盘点，并且导出Excel。      |
| 触发条件    | 库存管理人员/总经理进行库存盘点操作时。                     |
| 前置条件    | 库存管理人员/总经理已经登录。                          |
| 后置条件    | 导出Excel。                                 |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员进行盘点库存.<br/> 2.系统显示当天的库存快照，包括当天的各种商品的**名称、型号、库存数量、库存均价、批次、批号、出厂日期，并且显示行号**。<br/>3.库存管理人员选择导出Excel<br/>4.系统导出Excel到指定位置 |
| 扩展流程    | 1a.系统当天没有库存。<br/> &emsp;1.系统提示当天无库存无法提供库存快照。 |
| 特殊需求    | 无                                        |



## 用例5：商品赠送


| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 5                                        |
| 名称      | 商品赠送                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标是使用系统完成商品赠送。                    |
| 触发条件    | 商品赠送策略制定完成，赠送条件促发后                       |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成发送赠品操作，记录日志                      |
| 优先级     | 中等                                       |
| 正常流程    | 1.系统提醒赠送消息.<br/> 2.库存管理员进入消息通知界面根据制定好的商品赠送策略选择相应的商品进行赠送 3.系统自动减去赠送出去的商品数量，更新商品信息记录日志 |
| 扩展流程    | 3a.库存管理人员输入数量超出商品库存数量<br/>&emsp;1.系统提示超过商品存在数量，需要补货 |
| 特殊需求    | 无                                        |



## 用例6：库存监控

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 6                                        |
| 名称      | 库存监控                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标监控库存中商品数量，提醒库存管理人员保持库存数量与实际数量相同，并提醒及时进货 |
| 触发条件    | 当库存数量比实际数量多/低，或者低于警戒数量时                  |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 系统商品数量与库房实际数量保持一致，记录日志                   |
| 优先级     | 中等                                       |
| 正常流程    | 1、当实际商品库房数量与系统商品数量不同或商品库存数量低于警戒值时，系统给库存管理人员发送消息<br/>2、库存管理人员选择需要调整的商品<br/>&emsp;2.1库存管理人员选择库存比系统数量多的商品，输入数量<br/>&emsp;&emsp;2.1.1系统生成库存报溢单发送给总经理<br/>&emsp;2.2库存管理人员选择库存比系统数量少的商品，输入数量<br/>&emsp;&emsp;2.2.1系统生成库存报损单发送给总经理<br/>&emsp;2.3库存管理人员选择数量低于警戒值的商品<br/>&emsp;&emsp;2.3.1系统生成库存报警单发送给总经理<br/>3.系统记录日志。 |
| 扩展流程    | 无                                        |
| 特殊需求    | 无                                        |



## 用例7：库存管理人员响应通知

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 7                                        |
| 名称      | 库存管理人员响应通知                               |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目的是响应总经理的审批，完成现实中的进出货             |
| 触发条件    | 系统中的进出货单通过总经理审批。                         |
| 前置条件    | 库存管理人员必须得到识别和授权。                         |
| 后置条件    | 库存管理人员响应通知                               |
| 优先级     | 中等                                       |
| 正常流程    | 1. 用户收到消息，选择某一条通知；<br/>2. 如果审核通过，系统显示**单据**以及**审批成功**信息；<br/>&emsp;2.1.1. 用户选择已读：<br/>&emsp;&emsp;2.1.1.1. 系统删除消息，若删除失败显示提示，并记录日志。<br/>&emsp;2.1.2. 用户选择忽略：<br/>&emsp;&emsp;2.2.2.1. 系统回到消息列表界面，不删除消息。<br/>3. 如果审核不通过，系统显示单据状态为**未通过审批**，并显示未通过原因，以及单据的所有信息；<br/>&emsp;3.1. 用户选择放弃：<br/>&emsp;&emsp;3.1.1. 系统显示单据所有信息，并提示用户确认放弃；<br/>&emsp;&emsp;3.1.2. 用户确认放弃；<br/>&emsp;&emsp;3.1.3. 系统标记单据为已废弃，保存，删除通知，若删除失败显示错误信息，记录日志，并显示成功信息。<br/>&emsp;3.2. 用户选择忽略消息：<br/>&emsp;&emsp;3.2.1. 系统不删除通知。 |
| 扩展流程    | 无                                        |
| 特殊需求    | 若总经理未通过审批，则库存管理人员处于等待状态。                 |

## 用例8：库存管理人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 8                                        |
| 名称      | 库存管理人员管理草稿箱                              |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/10/7                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目的是查看草稿箱，恢复草稿的编写，或者删除草稿。          |
| 触发条件    | 库存管理人员需要管理草稿箱                            |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 草稿箱操作完成并保存，记录日志                          |
| 优先级     | 中                                        |
| 正常流程    | 1.库存管理人员进入草稿箱列表<br/>2.系统显示已经存储的所有草稿的简略信息<br/>3.库存管理人员选择一个草稿查看详细信息<br/>&emsp;3.1. 系统显示草稿详细信息。<br/>4.库存管理人员选择删除一个草稿项<br/>&emsp;4.1系统显示已经选择的草稿的简略信息，并提示是否确认操作 <br/>&emsp;4.3. 库存管理人员确认删除； <br/>&emsp;4.4. 系统删除草稿项，并提示成功。<br/>5.系统记录日志 |
| 扩展流程    | 2a. 系统读取已有草稿项失败<br/>  &emsp;1.系统提示读取草稿项失败，回到2。<br/>4a.系统删除草稿失败<br/>&emsp;1.   系统提示删除失败，库存管理人员确认后，回到2。<br/>4b 库存管理人员清空草稿箱<br/>&emsp;1.库存管理人员全选草稿进行删除操作<br/>&emsp;   2.系统清空草稿箱<br/>5a.库存管理人员继续填写单子<br/>&emsp;1.系统自动补充草稿中的内容到库存监控页面的报损/报溢/报警单中，并删除原草稿，自动备份新草稿<br/> |
| 特殊需求    | 无                                        |

