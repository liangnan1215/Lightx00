###  用例9：客户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 9                                        |
| 名称      | 客户管理                                     |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/4                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 客户信息需要被增删改查                              |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储客户信息并将本次修改记入日志                         |
| 优先级     | 低                                        |
| 正常流程    | 1. 用户增加客户：<br/>1.1. 用户进入增加客户界面；<br/>1.2. 系统显示需要填写的信息，包括客户的所有属性：**、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员，以及修改记录的销售人员编号**；<br/>1.3. 用户填写信息；<br/>1.4. 系统进入**修改客户确认**界面，显示用户填写的信息；<br/>1.5. 用户确认；<br/>1.6. 系统增加账户，并显示成功信息。<br/>2. 用户查询客户：<br/>2.1. 用户输入客户信息，包括**分类、级别、姓名、电话**，支持模糊查找；<br/>2.2. 系统根据输入条件，查找客户信息，并在列表中显示满足条件的客户。<br/>3. 用户删除客户：<br/>3.1. 用户查询到需要的客户，并选择客户，点击删除客户；<br/>3.2. 系统弹出窗口，显示客户的所有信息；<br/>3.3. 用户确认；<br/>3.4. 系统删除账户，并显示成功信息。<br/>4. 用户修改客户：<br/>4.1. 用户查询到需要的客户，并选择客户，点击修改客户信息；<br/>4.2. 系统弹出窗口，显示客户的所有信息，并让用户可修改客户名称；<br/>4.3. 用户修改需要修改的信息并提交；<br/>4.4. 系统保存修改，并显示成功信息。 |
| 扩展流程    | 1a,4a. 增加账户或者修改客户信息时，系统发现已经有同名客户存在：<br/>1. 系统弹出窗口，提示重名冲突；<br/>2. 用户确认；<br/>3. 系统关闭弹出窗口，返回上一个页面。<br/>1.5a,3.3a,4.3a. 用户增加、修改或删除过程中点击放弃或者在确认窗口中点击取消按钮：<br/>1. 系统退回上一个页面，如有弹出窗口关闭弹出窗口。<br/>1.6a,3.4a,4.4a.系统保存失败；<br/>1、系统并显示失败信息。2、用户点击确认返回**客户管理**页面。 |
| 特殊需求    | 1、 应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。<br/>2、 应收额度**仅最高权限**可修改。 |

###   用例10：制定进货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 10                                       |
| 名称      | 制定进货单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/4                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有新的货物入库                                  |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的进货单并记入日志。                         |
| 优先级     | 高                                        |
| 正常流程    | 1、销售人员新建一个进货单，进货单自动填充**单据编号**以及**操作员**信息<br/>2、销售人员输入剩下的进货单信息。包括**供应商，仓库，入库商品列表，备注，总额合计。**其中入库商品列表包含的信息有：**商品编号，名称（从商品选择界面进行选择），型号，数量（手动输入），单价（默认为商品信息中的进价），金额，备注（手动输入）**<br/>3、销售人员点击**提交**进货单，系统进入**确认提交单据**页面。<br/>4、销售人员点击**确认提交**进货单，系统弹出提示框，提示保存成功，销售人员点击**确认**后，返回**人员功能**主界面。 |
| 扩展流程    | 1-3a、取消制定进货单<br/>&emsp;1、进货销售人员点击**取消**，系统弹出询问框，询问是否要存入草稿箱。<br/>2.1、进货销售人员点击**存入**，系统弹出提示框，提示操作是否成功，用户点击确认后返回**人员功能**主界面。<br/>2.2、进货销售人员点击**不存入**，系统回到**人员功能**主界面。<br/>2.3进货销售人员点击**取消**，系统回到**修改单据**主界面，继续填写未完的单据。<br/>1b、一天的进货单达99999张<br/>1、系统无法生成空白进货单，并弹出提示框，用户点击**确认**按钮，返回**人员功能**主界面<br/>2b、非法的进货单信息数据格式<br/>&emsp;1、系统在文本框旁提示错误并拒绝提交<br/>2c、用户在填写过程中按下回撤快捷键<br/>&emsp;1. 系统回撤操作。<br/>2d、 用户在填写过程中按下重做快捷键<br/>&emsp;1. 系统重做。<br/>2e、用户在填写过程中按下复位按钮：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认<br/>&emsp;&emsp;2.2.1. 系统返回前一个界面，并不清除数据。<br/>4a、系统保存失败<br/> 1、销售人员点击**确认提交**进货单，系统弹出提示框，提示保存失败，销售人员点击**确认**后，返回**人员功能**主界面 |
| 特殊需求    | 1、入库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2、进货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、**单据编号**格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

###  用例11：制定进货退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 11                                       |
| 名称      | 制定进货退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/5                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有货物需要退货                                  |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的退货单并记入日志，包括：**单据编号**，**供应商，仓库，操作员，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**。 |
| 优先级     | 高                                        |
| 正常流程    | 1、销售人员新建一个进货退货单，进货退货单自动填充**单据编号**以及**操作员**信息<br/>2、销售人员输入剩下的进货退货单信息。包括**供应商，仓库，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**<br/>3、销售人员点击**提交**进货退货单，系统进入**确认提交单据**页面。<br/>4、销售人员点击**确认提交**进货退货单，系统弹出提示框，提示保存成功，销售人员点击**确认**后，返回**人员功能**主界面。 |
| 扩展流程    | 1-3a、取消制定进货单<br/>&emsp;1、进货销售人员点击**取消**，系统弹出询问框，询问是否要存入草稿箱。<br/>2.1、进货销售人员点击**存入**，系统弹出提示框，提示操作是否成功，用户点击确认后返回**人员功能**主界面。<br/>2.2、进货销售人员点击**不存入**，系统回到**人员功能**主界面。<br/>2.3进货销售人员点击**取消**，系统回到**修改单据**主界面，继续填写未完的单据。<br/>1b、一天的进货单达99999张<br/>1、系统无法生成空白进货退货单，并弹出提示框，用户点击**确认**按钮，返回**人员功能**主界面<br/>2b、非法的进货退货单信息数据格式<br/>&emsp;1、系统在文本框旁提示错误并拒绝提交<br/>2c、用户在填写过程中按下回撤快捷键<br/>&emsp;1. 系统回撤操作。<br/>2d、 用户在填写过程中按下重做快捷键<br/>&emsp;1. 系统重做。<br/>2e、用户在填写过程中按下复位按钮：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认<br/>&emsp;&emsp;2.2.1. 系统返回前一个界面，并不清除数据。<br/>4a、系统保存失败<br/> 1、销售人员点击**确认提交**进货退货单，系统弹出提示框，提示保存失败，销售人员点击**确认**后，返回**人员功能**主界面 |
| 特殊需求    | 1、退库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2、退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、**单据编号**格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

###  用例12：制定销售单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 12                                       |
| 名称      | 制定销售单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/5                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 货物需要出售                                   |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的销售出货单并记入日志，包括： **单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 **。出货商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** |
| 优先级     | 中                                        |
| 正常流程    | 1、销售人员新建一个销售单，销售单自动填充**单据编号**以及**操作员**信息<br/>2、销售人员输入剩下的销售单信息。包括**客户，业务员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 **。出货商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** <br/>3、销售人员点击**提交**销售单，系统进入**确认提交单据**页面。<br/>4、销售人员点击**确认提交**销售单，系统弹出提示框，提示保存成功，销售人员点击**确认**后，返回**人员功能**主界面。 |
| 扩展流程    | 1-3a、取消制定销售单<br/>&emsp;1、进货销售人员点击**取消**，系统弹出询问框，询问是否要存入草稿箱。<br/>2.1、进货销售人员点击**存入**，系统弹出提示框，提示操作是否成功，用户点击确认后返回**人员功能**主界面。<br/>2.2、进货销售人员点击**不存入**，系统回到**人员功能**主界面。<br/>2.3进货销售人员点击**取消**，系统回到**修改单据**主界面，继续填写未完的单据。<br/>1b、一天的销售单达99999张<br/>1、系统无法生成空白销售单，并弹出提示框，用户点击**确认**按钮，返回**人员功能**主界面<br/>2b、非法的销售单信息数据格式<br/>&emsp;1、系统在文本框旁提示错误并拒绝提交<br/>2c、用户在填写过程中按下回撤快捷键<br/>&emsp;1. 系统回撤操作。<br/>2d、 用户在填写过程中按下重做快捷键<br/>&emsp;1. 系统重做。<br/>2e、用户在填写过程中按下复位按钮：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认<br/>&emsp;&emsp;2.2.1. 系统返回前一个界面，并不清除数据。<br/>4a、系统保存失败<br/> 1、销售人员点击**确认提交**销售单，系统弹出提示框，提示保存失败，销售人员点击**确认**后，返回**人员功能**主界面 |
| 特殊需求    | 1、**编号**格式为：XSD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2、销售单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、出货商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/>4、销售人员分为**销售员**和**销售经理**。销售员最多折让1000元，销售经理可以折让5000元，总经理可以任意金额的折让。 |

###  用例13：制定销售退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 13                                       |
| 名称      | 制定销售退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/10/5                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 货物被退货                                    |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 存储本次新建的销售退货单并记入日志，包括： **单据编号，客户，业务员，操作员，仓库，商品清单，商品总价，备注 **。商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** |
| 优先级     | 中                                        |
| 正常流程    | 1、销售人员新建一个销售退货单，销售退货单自动填充**单据编号**以及**操作员**信息<br/>2、销售人员输入剩下的销售退货单信息。包括**客户，业务员，仓库，商品清单，商品总价，备注 **。商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注** <br/>3、销售人员点击**提交**销售退货单，系统进入**确认提交单据**页面。<br/>4、销售人员点击**确认提交**销售退货，系统弹出提示框，提示保存成功，销售人员点击**确认**后，返回**人员功能**主界面。 |
| 扩展流程    | 1-3a、取消制定销售退货单<br/>&emsp;1、进货销售人员点击**取消**，系统弹出询问框，询问是否要存入草稿箱。<br/>2.1、进货销售人员点击**存入**，系统弹出提示框，提示操作是否成功，用户点击确认后返回**人员功能**主界面。<br/>2.2、进货销售人员点击**不存入**，系统回到**人员功能**主界面。<br/>2.3进货销售人员点击**取消**，系统回到**修改单据**主界面，继续填写未完的单据。<br/>1b、一天的销售单达99999张<br/>1、系统无法生成空白销售退货单，并弹出提示框，用户点击**确认**按钮，返回**人员功能**主界面<br/>2b、非法的销售退货单信息数据格式<br/>&emsp;1、系统在文本框旁提示错误并拒绝提交<br/>2c、用户在填写过程中按下回撤快捷键<br/>&emsp;1. 系统回撤操作。<br/>2d、 用户在填写过程中按下重做快捷键<br/>&emsp;1. 系统重做。<br/>2e、用户在填写过程中按下复位按钮：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认<br/>&emsp;&emsp;2.2.1. 系统返回前一个界面，并不清除数据。<br/>4a、系统保存失败<br/> 1、销售人员点击**确认提交**销售退货单，系统弹出提示框，提示保存失败，销售人员点击**确认**后，返回**人员功能**主界面 |
| 特殊需求    | 1、**编号**格式为：XSTHD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2、销售退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3、商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/> |

###  用例14：进货销售人员响应审批消息

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 14                                       |
| 名称      | 进货销售人员响应审批消息                             |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/5                                |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有审批消息                                    |
| 前置条件    | 判断是否登录，若未登录，则登录。                         |
| 后置条件    | 将本次操作记入日志                                |
| 优先级     | 中                                        |
| 正常流程    | 1、用户点击**通知**进入**审批消息**页面<br/>2、用户双击一条**审批消息**进入**单据详细信息**页面，系统显示已通过单据详细情况<br/>3.1.1、进货销售人员点击**完成**按钮<br/>3.1.2、系统将通知删除，记入日志<br/>3.2.1、进货销售人员点击**取消**按钮<br/>3.2.2、系统返回**审批消息**页面 |
| 扩展流程    | 2a 单据未通过<br/>1.1、进货销售人员点击**废弃**单据<br/>1.2、系统弹出窗口提示“是否确认废弃”<br/>1.3、进货销售人员点击**确认废弃**按钮,系统删除单据<br/>2.1、进货销售人员点击**修改**按钮<br/>2.2、系统进入**修改单据**界面<br/>2.3、进货销售人员输入单据信息<br/>2.4、销售人员点击**提交**销售退货单，系统进入**确认提交单据**页面。<br/>2.5、销售人员点击**确认提交**销售退货，系统弹出提示框，提示保存成功，销售人员点击**确认**后，返回**人员功能**主界面。 |
| 特殊需求    | 无                                        |

### 用例15：进货销售人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 15                                       |
| 名称      | 进货销售人员管理草稿箱                              |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/10/1                                |
| 最后更新日期  | 2017/10/4                                |
| 参与者     | 进货销售人员，目的是查看草稿箱，恢复草稿的编写，或者删除草稿。          |
| 触发条件    | 进货销售人员需要管理草稿箱。                           |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 草稿箱操作完成并已经保存。                            |
| 优先级     | 中                                        |
| 正常流程    | 1. 进货销售人员点击草稿箱功能按钮；<br/>2. 系统进入草稿箱列表，显示已经存储的所有草稿的简略信息（包括时间，单据名以及ID（如果有的话），对于客户草稿显示时间，客户姓名，分类），并提供多选框：<br/>3. 进货销售人员查看单据详细信息：<br/>&emsp;3.1. 进货销售人员双击或者点击查看草稿按钮；<br/>&emsp;3.2. 系统弹出窗口，显示单据详细信息，并提供继续填写以及返回按钮。<br/>&emsp;3.3. 用户点击返回按钮；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 进货销售人员删除草稿项：<br/>&emsp;4.1. 进货销售人员在草稿列表界面选择需要删除的单据，并点击删除按钮；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息（包括时间，单据名以及ID（如果有的话）），并提示用户确认操作；<br/>&emsp;4.3. 进货销售人员确认操作；<br/>&emsp;4.4. 系统删除草稿项，并显示成功提示。<br/>&emsp;4.5. 用户确认后，返回草稿列表。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统弹出消息显示读取草稿项失败，用户确认后，回到查看草稿箱页面。<br/>4a. 进货销售人员继续一个单据的填写：<br/>&emsp;1. 进货销售人员在一个草稿项后面点击“继续填写”按钮；<br/>&emsp;2. 系统引导进对应单据填写页面，并自动填写已经备份的内容，并删除备份单据。<br/>4a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统弹出消息提示删除失败，用户确认后，回到查看草稿箱页面。<br/>4.1a. 进货销售人员清空草稿箱：<br/>&emsp;1. 进货销售人员点击选择全部按钮；<br/>&emsp;2. 系统自动选择所有草稿项，并进入删除确认界面。<br/> 2b. 进货销售人员点击返回：<br/>&emsp;1. 系统返回人员功能主界面。<br/>4.2a. 进货销售人员查看被选择草稿的详细信息：<br/>&emsp;1. 进货销售人员双击条目；<br/>&emsp;2. 系统弹出窗口，显示被选择草稿的信息；<br/>&emsp;3. 进货销售人员确认后，返回删除确认界面。<br/> |
| 特殊需求    | 无。                                       |
