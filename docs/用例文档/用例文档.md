# 进销存系统 用例文档

by Trap x00

<!-- TOC -->

- [进销存系统 用例文档](#进销存系统-用例文档)
- [0. 更新历史](#0-更新历史)
- [1. 引言](#1-引言)
    - [1.1 目的](#11-目的)
    - [1.2 阅读说明](#12-阅读说明)
    - [1.3 参考文献](#13-参考文献)
- [2. 用例图](#2-用例图)
- [3. 详细用例描述](#3-详细用例描述)
    - [用例1：商品分类管理](#用例1商品分类管理)
    - [用例2：商品管理](#用例2商品管理)
    - [用例3：库存查看](#用例3库存查看)
    - [用例4：库存盘点](#用例4库存盘点)
    - [用例5：商品赠送](#用例5商品赠送)
    - [用例6：库存监控](#用例6库存监控)
    - [用例7：库存管理人员响应通知](#用例7库存管理人员响应通知)
    - [用例8：库存管理人员管理草稿箱](#用例8库存管理人员管理草稿箱)
    - [用例9：客户管理](#用例9客户管理)
    - [用例10：制定进货单](#用例10制定进货单)
    - [用例11：制定进货退货单](#用例11制定进货退货单)
    - [用例12：制定销售单](#用例12制定销售单)
    - [用例13：制定销售退货单](#用例13制定销售退货单)
    - [用例14：进货销售人员响应通知](#用例14进货销售人员响应通知)
    - [用例15：进货销售人员管理草稿箱](#用例15进货销售人员管理草稿箱)
    - [用例16：账户管理](#用例16账户管理)
    - [用例17：制定收款单](#用例17制定收款单)
    - [用例18：制定付款单](#用例18制定付款单)
    - [用例19：制定现金费用单](#用例19制定现金费用单)
    - [用例20：查看销售明细表](#用例20查看销售明细表)
    - [用例21：查看经营历程表](#用例21查看经营历程表)
    - [用例22：红冲](#用例22红冲)
    - [用例23：查看经营情况表](#用例23查看经营情况表)
    - [用例24：期初建账](#用例24期初建账)
    - [用例25：财务人员响应通知](#用例25财务人员响应通知)
    - [用例26：财务人员管理草稿箱](#用例26财务人员管理草稿箱)
    - [用例27：审批单据](#用例27审批单据)
    - [用例28：制定促销策略](#用例28制定促销策略)
    - [用例29：查看日志](#用例29查看日志)
    - [用例30：总经理管理草稿箱](#用例30总经理管理草稿箱)
    - [用例31：管理用户账户](#用例31管理用户账户)
    - [用例32：人脸识别登录](#用例32人脸识别登录)
    - [用例33：管理备份日志](#用例33管理备份日志)

<!-- /TOC -->



# 0. 更新历史

| 修改人员 | 日期         | 变更原因             | 版本号  |
| ---- | ---------- | ---------------- | ---- |
| 全体成员 | 2017/9/29  | 完成最初版本           | V1.0 |
| 陈俊达  | 2017/10/8  | 修改用例编号以及大部分用例描述  | V2.0 |
| 陈俊达  | 2017/10/17 | 评审后的最终版          | V3.0 |
| 陈俊达  | 2017/11/24 | 增加用例。            | V3.1 |
| 张凌哲  | 2017/12/20 | 增加用例备份为云。        | V3.2 |
| 张凌哲  | 2017/12/30 | 修改之前的用例。         | V3.3 |
| 张凌哲  | 2018/1/7   | 根据新发布的需求修改之前的用例。 | V3.4 |
| 张美玲  | 2018/1/7   | 将促销策略用例拆分        | V3.5 |
| 梁楠   | 2018/1/11  | 完善用例文档           | v3.6 |

# 1. 引言

## 1.1 目的

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。

现公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度，该公司聘请公司S开发一套进销存系统。

本文档描述了上述进销存系统的用户需求。

## 1.2 阅读说明

## 1.3 参考文献

# 2. 用例图

![用例图](/用例图.png)

# 3. 详细用例描述

## 用例1：商品分类管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 1                                        |
| 名称      | 商品分类管理                                   |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/11                               |
| 参与者     | 库存管理人员，目标是使用系统进行商品分类管理。                  |
| 触发条件    | 库存管理人员进行商品分类管理。                          |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成更新、添加或修改商品分类操作，记录日志              |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员对商品分类进行**增加、删除或修改**操作。<br/> &emsp;2.1库存管理人员选中一个分类进行增加分类操作<br/>&emsp;&emsp;2.1.1库存管理人员输入增加新分类的信息和名称<br/>&emsp;&emsp;2.1.2系统在该分类下生成一个子类，并自动生成编号<br/>&emsp;2.2库存管理人员选中一个分类进行删除操作<br/>&emsp;&emsp;2.2.1系统删除成功<br/>&emsp;2.3库存管理人员选中一个分类进行修改操作<br/>&emsp;&emsp;2.3.1库存管理人员修改信息，输入新名称<br/>&emsp;&emsp;2.3.2系统修改对应分类信息<br/>3. 系统更新商品分类信息，并显示更新后的商品分类信息，保存变更日志。 |
| 扩展流程    | 2.1a.库存管理人员选择在非叶节点的分类添加分类<br/> &emsp;1.系统提示改不能添加商品分类并返回2.1<br/>2.1b.库存管理人员增加已存在的商品分类<br/>&emsp;1.系统提示该分类已经存在并返回2.1<br/>2.2a.库存管理人员选择删除非叶节点的分类<br/>&emsp;1.系统提示该分类下仍然有商品分类，不能删除并返回2<br/> |
| 特殊需求    | 增加分类时，系统自动给该分类生成一个编号，编号格式为 **PRO-xxxx**(xxxx表示分类id) |



## 用例2：商品管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 2                                        |
| 名称      | 商品管理                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标是使用系统进行商品管理。                    |
| 触发条件    | 库存管理人员进行商品管理。                            |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成增加、删除、修改或查询商品操作，记录日志             |
| 优先级     | 高                                        |
| 正常流程    | 1.系统显示商品分类信息.<br/> 2.库存管理人员选择相应的分类<br/>3.系统显示库存管理人员选择的商品分类里的商品列表<br/>4.库存管理人员对商品进行**增加、删除、修改或查询操作**。<br/>&emsp;4.1库存管理人员选择一个叶节点进行增加商品操作<br/> &emsp;&emsp;&emsp;4.1.1库存管理人员输入新增商品信息<br/>&emsp;&emsp;4.1.2系统在对应位置增加新商品<br/>&emsp;4.2库存管理人员选择一个商品进行删除操作<br/>&emsp;&emsp;4.2.1系统删除该商品信息和编号<br/>&emsp;4.3库存管理人员选择一个商品进行修改操作<br/>&emsp;&emsp;4.3.1库存管理人员输入需要修改的信息<br/>&emsp;&emsp;4.3.2系统更新修改后商品信息<br/>&emsp;4.4库存管理人员查询商品<br/>&emsp;&emsp;4.4.1库存管理人员输入商品名或商品编号进行搜索<br/>&emsp;&emsp;4.4.2系统查找相关商品并显示信息<br/>5.系统更新信息，记录操作日志。 |
| 扩展流程    | 4.1a.库存管理人员增加已经存在商品<br/> &emsp; 1.系统提示商品已存在并返回3<br/>4.4a.库存管理人员查询不存在的商品<br/>&emsp;1.系统提示该商品不存在并返回4.4<br/> |
| 特殊需求    | 1.商品的查询可以通过输入关键字、商品编号等进行模糊查找<br/>2.增加商品时根据其所在的分类以及添加次序自动生成编号，格式为**PRO-xxxx-yyyy**(xxxx为分类id，yyyy为商品id)<br/>3.一开始需要给商品规定一个进价和售价作为默认值并保存一个最近的进价和售价属性。 |




## 用例3：库存查看

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 3                                        |
| 名称      | 库存查看                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目标是使用系统查询某一时间段内库存变化信息，记录日志        |
| 触发条件    | 库存管理人员进行库存信息查看时。                         |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 无                                        |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员输入需要查询的时间段.<br/> 2.系统根据输入时间段显示此时间段内的出/入库数量/金额，销售/进货的数量/金额<br/>3.库存管理人员选择查看库存合计<br/>4.系统对库存数量进行合计 |
| 扩展流程    | 2a.库存管理人员输出时间段格式不对或不合实际<br/>1.系统提示时间段格式错误并返回2 |
| 特殊需求    | 无                                        |

## 用例4：库存盘点

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 4                                        |
| 名称      | 库存盘点                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员/总经理，目标是使用系统进行库存盘点，并且导出Excel。      |
| 触发条件    | 库存管理人员/总经理进行库存盘点操作时。                     |
| 前置条件    | 库存管理人员/总经理已经登录。                          |
| 后置条件    | 导出Excel。                                 |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员进行盘点库存.<br/> 2.系统显示当天的库存快照，包括当天的各种商品的**名称、型号、库存数量、库存均价、批次、批号、出厂日期，并且显示行号**。<br/>3.库存管理人员选择导出Excel<br/>4.系统导出Excel到指定位置 |
| 扩展流程    | 1a.系统当天没有库存。<br/> &emsp;1.系统提示当天无库存无法提供库存快照。 |
| 特殊需求    | 无                                        |



## 用例5：商品赠送


| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 5                                        |
| 名称      | 商品赠送                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2018/1/12                                |
| 参与者     | 库存管理人员，目标是使用系统完成商品赠送。                    |
| 触发条件    | 商品赠送策略制定完成，赠送条件促发后                       |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 库存管理人员完成发送赠品操作，记录日志                      |
| 优先级     | 中等                                       |
| 正常流程    | 1.库存管理人员选择库存赠送功能<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(ZSD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3.库存管理员进入消息通知界面根据制定好的商品赠送策略选择相应的商品进行赠送 ;<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无                                        |



## 用例6：库存监控

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 6                                        |
| 名称      | 库存监控                                     |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2018/1/12                                |
| 参与者     | 库存管理人员，目标监控库存中商品数量，提醒库存管理人员保持库存数量与实际数量相同，并提醒及时进货 |
| 触发条件    | 当库存数量比实际数量多/低，或者低于警戒数量时                  |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 系统商品数量与库房实际数量保持一致，记录日志                   |
| 优先级     | 中等                                       |
| 正常流程    | 1、当实际商品库房数量与系统商品数量不同或商品库存数量低于警戒值时,库存管理人员使用系统监控。<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3、库存管理人员选择需要调整的商品<br/>&emsp;3.1库存管理人员选择库存比系统数量多的商品，输入数量<br/>&emsp;&emsp;3.1.1系统生成库存报溢单发送给总经理<br/>&emsp;3.2库存管理人员选择库存比系统数量少的商品，输入数量<br/>&emsp;&emsp;3.2.1系统生成库存报损单发送给总经理<br/>&emsp;3.3库存管理人员选择数量低于警戒值的商品<br/>&emsp;&emsp;3.3.1系统生成库存报警单发送给总经理<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无                                        |



## 用例7：库存管理人员响应通知

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 7                                        |
| 名称      | 库存管理人员响应通知                               |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目的是响应总经理的审批，完成现实中的进出货             |
| 触发条件    | 系统中的进出货单通过总经理审批。                         |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 将本次操作记入日志。                               |
| 优先级     | 中等                                       |
| 正常流程    | 1. 用户选择响应审批功能并更新审批信息；<br/>2. 系统更新通知信息。如果是其他通知，则显示通知信息；如果是单据审批通过，系统显示**单据**以及**审批成功**信息；<br/>&emsp;2.1.1. 用户选择已读：<br/>&emsp;&emsp;2.1.1.1. 系统删除消息，若删除失败显示提示，并记录日志。<br/>&emsp;2.1.2. 用户选择忽略：<br/>&emsp;&emsp;2.2.2.1. 系统回到消息列表界面，不删除消息。<br/>3. 如果审核不通过，系统显示单据状态为**未通过审批**，并显示未通过原因，以及单据的所有信息；<br/>&emsp;3.1. 用户选择放弃：<br/>&emsp;&emsp;3.1.1. 系统显示单据所有信息，并提示用户确认放弃；<br/>&emsp;&emsp;3.1.2. 用户确认放弃；<br/>&emsp;&emsp;3.1.3. 系统标记单据为已废弃，保存，删除通知，若删除失败显示错误信息，记录日志，并显示成功信息。<br/>&emsp;3.2. 用户选择忽略消息：<br/>&emsp;&emsp;3.2.1. 系统不删除通知。 |
| 扩展流程    | 无。                                       |
| 特殊需求    | 无。                                       |

## 用例8：库存管理人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 8                                        |
| 名称      | 库存管理人员管理草稿箱                              |
| 创建者     | 梁楠                                       |
| 最后一次更新者 | 梁楠                                       |
| 创建日期    | 2017/10/7                                |
| 最后更新日期  | 2017/10/12                               |
| 参与者     | 库存管理人员，目的是查看草稿箱，恢复草稿的编写，或者删除草稿。          |
| 触发条件    | 库存管理人员需要管理草稿箱                            |
| 前置条件    | 库存管理人员已经登录。                              |
| 后置条件    | 草稿箱操作完成并保存，记录日志                          |
| 优先级     | 中                                        |
| 正常流程    | 1.库存管理人员进入草稿箱列表<br/>2.系统显示已经存储的所有草稿的简略信息<br/>3.库存管理人员选择一个草稿查看详细信息<br/>&emsp;3.1. 系统显示草稿详细信息。<br/>4.库存管理人员选择删除一个草稿项<br/>&emsp;4.1系统显示已经选择的草稿的简略信息，并提示是否确认操作 <br/>&emsp;4.3. 库存管理人员确认删除； <br/>&emsp;4.4. 系统删除草稿项，并提示成功。<br/>5.系统记录日志 |
| 扩展流程    | 2a. 系统读取已有草稿项失败<br/>  &emsp;1.系统提示读取草稿项失败，回到2。<br/>4a.系统删除草稿失败<br/>&emsp;1.   系统提示删除失败，库存管理人员确认后，回到2。<br/>4b 库存管理人员清空草稿箱<br/>&emsp;1.库存管理人员全选草稿进行删除操作<br/>&emsp;   2.系统清空草稿箱<br/>5a.库存管理人员继续填写单子<br/>&emsp;1.系统自动补充草稿中的内容到库存监控页面的报损/报溢/报警单中，并删除原草稿，自动备份新草稿<br/> |
| 特殊需求    | 无                                        |

##  用例9：客户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 9                                        |
| 名称      | 客户管理                                     |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 客户信息需要被增删改查                              |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 存储客户信息并将本次修改记入日志                         |
| 优先级     | 低                                        |
| 正常流程    | 1. 用户增加客户：<br/>&emsp;1.1. 用户选择增加客户功能；<br/>&emsp;1.2. 系统显示需要填写的信息，包括客户的所有属性：**编号、分类（进货商.销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员，以及修改记录的销售人员编号**；<br/>&emsp;1.3. 用户填写信息；<br/>&emsp;1.4. 系统显示客户的所有信息，并要求用户确认；<br/>&emsp;1.5. 用户确认；<br/>&emsp;1.6. 系统提交信息，并显示成功消息，并记录日志。<br/>2. 用户查询客户：<br/>&emsp;2.1. 用户输入客户信息，包括**编号.分类.级别.姓名.电话**，支持模糊查找；<br/>&emsp;2.2. 系统根据输入条件，查找客户信息，并在列表中显示满足条件的客户；<br/>&emsp;2.3. 用户点击一条客户信息；<br/>&emsp;2.4. 系统显示该客户的详细信息；<br/>&emsp;2.5. 用户确认；<br/>&emsp;2.6. 系统提交信息，并显示成功消息，并记录日志。<br/>3. 用户删除客户：<br/>&emsp;3.1. 用户查询到需要的客户，并选择客户，点击删除客户；<br/>&emsp;3.2. 系统弹出窗口，显示客户的所有信息；<br/>&emsp;3.3. 用户确认；<br/>&emsp;3.4. 系统删除账户，并显示成功信息。<br/>4. 用户修改客户：<br/>&emsp;4.1. 用户查询到需要的客户，并选择客户，点击修改客户信息；<br/>&emsp;4.2. 系统弹出窗口，显示客户的所有信息，并让用户可修改客户名称；<br/>&emsp;4.3. 用户修改需要修改的信息并提交；<br/>&emsp;4.4. 系统保存修改，并显示成功信息。 |
| 扩展流程    | 3a. 当要删除的客户应收应付不为0时：<br/>&emsp;1. 弹出对话框提示用户再次确认是否要删除；<br/>&emsp;2. 用户确认。<br/>1.4a,3.2a,4.3a. 用户增加.修改或删除过程中点击放弃或者在确认窗口中点击取消按钮：<br/>&emsp;1. 系统退回上一个页面，如有弹出窗口关闭弹出窗口。<br/>1.6a,3.4a,4.4a.系统保存失败；<br/>&emsp;1. 系统并显示失败信息。<br/>&emsp;2. 用户点击确认<br/>&emsp;3. 系统返回客户信息页面。 |
| 特殊需求    | 1. 应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。<br/>2. 应收额度**仅最高权限**可修改。 |

##   用例10：制定进货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 10                                       |
| 名称      | 制定进货单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定进货单。                         |
| 触发条件    | 有新的进货，需要制定进货单。                           |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写进货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括 **单据编号**，**供应商，仓库，操作员，入库商品列表，备注，总额合计。**其中入库商品列表包含的信息有：**商品编号，名称（从商品选择界面进行选择），型号，数量（手动输入），单价（默认为商品信息中的进价），金额，备注（手动输入）**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 1.入库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2.进货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.**单据编号**格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

##  用例11：制定进货退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 11                                       |
| 名称      | 制定进货退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定进货退货单。                       |
| 触发条件    | 有新的退货，需要制定进货退货单。                         |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写进货退货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHTHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号**，**供应商，仓库，操作员，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>3e.填写商品数量时，超过了已有库存量：<br/>&emsp;1.提示用户，超出了已有库存量；<br/>&emsp;2.用户确认，返回填写界面。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 1.退库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2.退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.**单据编号**格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |
=======
| 正常流程    | 1. 进货销售人员选择填写进货退货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHTHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号**，**供应商，仓库，操作员，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>3e.填写商品数量时，超过了已有库存量：<br/>&emsp;1.提示用户，超出了已有库存量；<br/>&emsp;2.用户确认，返回填写界面。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。 |
| 特殊需求    | 1.退库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2.退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.**单据编号**格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |



##  用例12：制定销售单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 12                                       |
| 名称      | 制定销售单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定销售单。                         |
| 触发条件    | 有新的商品出售，需要制定销售单。                         |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写销售单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(XSD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 **。出货商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>3e.填写商品数量时，超过了已有库存量：<br/>&emsp;1.提示用户，超出了已有库存量；<br/>&emsp;2.用户确认，返回填写界面。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 1.**编号**格式为：XSD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2.销售单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.出货商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/>4.销售人员分为**销售员**和**销售经理**。销售员最多折让1000元，销售经理可以折让5000元，总经理可以任意金额的折让。 |

##  用例13：制定销售退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 13                                       |
| 名称      | 制定销售退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定销售退货单。                       |
| 触发条件    | 有新的商品被退货，需要制定销售退货单。                      |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写销售退货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(XSTHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号，客户，业务员，操作员，仓库，商品清单，商品总价，备注 **。商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 1.**编号**格式为：XSTHD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2.销售退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/> |

##  用例14：进货销售人员响应通知

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 14                                       |
| 名称      | 进货销售人员响应通知                               |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有审批消息                                    |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 将本次操作记入日志。                               |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户点击选择通知功能；<br/>2. 系统显示所有进货单、进货退货单、销售单、销售退货单的简略信息，包括**单据编号、审批结果** ；<br/>3. 用户选择一条审批消息；<br/> 4.系统显示已通过单据详细情况<br/> 5.用户选择完成单据；<br/> 6.系统将通知删除，记入日志。<br/> |
| 扩展流程    | 3a 单据未通过<br/>&emsp;1.1. 用户选择废弃单据；<br/>&emsp;1.2. 系统提示确认废弃；<br/>&emsp;1.3. 用户点击确认废弃；<br/> &emsp; 1.4. 系统删除单据。<br/>&emsp;2.1. 用户选择修改单据；<br/>&emsp;2.2.系统进入修改单据，系统显示已有信息，并使之可修改；<br/>&emsp;2.3. 进货销售人员输入单据信息并提交；<br/>&emsp;2.4. 系统显示单据的所有信息，并要求用户确认；<br/>&emsp;2.5.销售人员确认提交单据；<br/> &emsp;2.6. 系统提交信息，并显示成功消息，并记录日志。</br/> 5a 进货销售人员选择取消<br/> &emsp;1. 系统返回审批消息页面 |
| 特殊需求    | 无                                        |

## 用例15：进货销售人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 15                                       |
| 名称      | 进货销售人员管理草稿箱                              |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/10/1                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是查看草稿箱，恢复草稿单据的编写，或者删除草稿单据。      |
| 触发条件    | 进货销售人员需要管理草稿箱。                           |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 草稿箱操作完成并已经保存，记录日志。                       |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择草稿箱功能；<br/>2. 系统进入草稿箱列表，显示已经存储的所有草稿的简略信息（单据包括时间，单据名以及ID，客户信息包括客户姓名，分类（如果有的话）），并可以让用户进行选择：<br/>3. 进货销售人员查看草稿详细信息：<br/>&emsp;3.1. 用户选择一条草稿并要求查看详情；<br/>&emsp;3.2. 系统显示草稿详细信息，并提供继续填写以及返回功能。<br/>&emsp;3.3. 用户返回；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 用户删除草稿项：<br/>&emsp;4.1. 用户在草稿列表界面选择需要删除的草稿，并进行删除；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息（单据包括时间，单据名以及ID，客户信息包括客户姓名，分类（如果有的话）），并提示用户确认操作；<br/>&emsp;4.3. 财务人员确认操作；<br/>&emsp;4.4. 系统删除草稿项，显示成功提示，并记录日志。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统显示读取草稿项失败。<br/>3a. 进货销售人员继续一个草稿的填写：<br/>&emsp;1. 进货销售人员选择一个草稿并继续填写；<br/>&emsp;2. 系统删除备份草稿，并让用户继续填写原来的草稿。<br/>3a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统提示删除失败，并记录日志。<br/>4.2a. 进货销售人员查看被选择草稿的详细信息：<br/>&emsp;1. 进货销售人员选择一条草稿，并要求查看草稿信息；<br/>&emsp;2. 系统显示被选择草稿的信息。 |
| 特殊需求    | 无                                        |



## 用例16：账户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 16                                       |
| 名称      | 账户管理                                     |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 财务人员，目的是对已有账号进行增删改查。                     |
| 触发条件    | 需要进行增加账户、删除账户、修改账户属性或查询账户。               |
| 前置条件    | 财务人员已经登录，财务人员具有最高权限。                     |
| 后置条件    | 保存对账户信息的修改，记录日志。                         |
| 优先级     | 高                                        |
| 正常流程    | 1. 用户增加账户：<br/>&emsp;1.1. 用户选择增加账户功能；<br/>&emsp;1.2. 系统显示需要填写的信息，即**账户名称**以及**余额**；<br/>&emsp;1.3. 用户填写信息；<br/>&emsp;1.4. 系统再次显示用户填写的信息，并要求确认；<br/>&emsp;1.5. 用户确认；<br/>&emsp;1.6. 系统增加账户，显示成功信息，记录日志。<br/>2. 用户查询账户：<br/>&emsp;2.1. 用户填写输入条件，即**账户名称**；<br/>&emsp;2.2. 系统根据输入条件，查找账户信息，并在列表中显示账户的**账户名称**以及**余额**。<br/>3. 用户删除账户：<br/>&emsp;3.1. 用户查询到需要的账户，选择一个账户并删除账户；<br/>&emsp;3.2. 系统提示用户确认；<br/>&emsp;3.3. 用户确认；<br/>&emsp;3.4. 系统删除账户，显示成功信息，记录日志。<br/>4. 用户修改账户：<br/>&emsp;4.1. 用户查询到需要的账户，并选择账户，点击修改账户信息；<br/>&emsp;4.2. 系统显示账户的所有信息，并让用户可修改**账户名称**；<br/>&emsp;4.3. 用户修改需要修改的信息并提交；<br/>&emsp;4.4. 系统保存修改，显示成功信息，记录日志。 |
| 扩展流程    | 1,3,4. 财务人员不具备最高权限：<br/>&emsp;1. 系统提示财务人员不具备最高权限；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回上一个页面。<br/>1a,4a. 增加账户或者修改账户属性时，系统发现已经有同名账户存在：<br/>&emsp;1. 系统提示重名冲突；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回上一个页面。<br/>3a. 删除账户时，账户余额不为0：<br/>&emsp;1. 系统提示账户余额不为0；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写信息界面。<br/>1.5a,3.3a,4.3a. 用户增加、修改或删除过程中放弃或者在确认时返回：<br/>&emsp;1. 系统丢弃更改，退回上一个页面。 |
| 特殊需求    | 支持模糊查找，即支持输入用户名中部分字来查找账户名里有这些字的账户。       |

## 用例17：制定收款单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 17                                       |
| 名称      | 制定收款单                                    |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是制定收款单。                           |
| 触发条件    | 用户需要制定收款单。                               |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员选择填写付款单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善**单据编号(SKD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息；<br/>3. 财务人员填写剩余信息，包括**客户（包括供应商和销售商）**、**转账列表（包括银行账户，转账金额，备注）**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认：<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无。                                       |


## 用例18：制定付款单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 18                                       |
| 名称      | 制定付款单                                    |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是制定付款单。                           |
| 触发条件    | 用户需要制定付款单。                               |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员选择填写付款单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善**单据编号(FKD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息；<br/>3. 财务人员填写剩余信息，包括**客户（包括供应商和销售商）**、**转账列表（包括银行账户，转账金额，备注）**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认：<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无。                                       |

## 用例19：制定现金费用单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 19                                       |
| 名称      | 制定现金费用单                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是制定现金费用单。                         |
| 触发条件    | 用户需要制定现金费用单。                             |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员选择制定现金费用单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善**单据编号(XJFYD-yyyyMMdd-xxxxx)**，**操作员（当前登录用户）**信息；<br/>3. 财务人员填写剩余信息，包括**客户（包括供应商和销售商）**、**转账列表（包括银行账户，转账金额，备注）**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;2.1. 用户确认：<br/>&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无。                                       |

## 用例20：查看销售明细表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 20                                       |
| 名称      | 查看销售明细表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员或总经理，目的是查看销售明细表，统计一段时间内商品的销售情况，即查询销售出货单据记录。 |
| 触发条件    | 财务人员或总经理需要查看某段时间内的销售明细表。                 |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 如导出单据，则系统记录日志。                           |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择查看销售明细表功能；<br/>2. 系统显示需要填写的筛选条件信息，包括 **时间区间，商品名，客户，业务员，仓库**；<br/>3. 用户填写筛选条件信息；<br/>4. 系统根据提交的信息，查询相关条目，即销售出货单据记录，并以列表形式显示，列表中包含如下信息：**时间（精确到天），商品名，型号，数量，单价，总额**。 |
| 扩展流程    | 3a. 用户填写过程中输入了不正确格式的信息：<br/>&emsp;1. 系统在输入框旁边提示输入错误，并拒绝提交。<br/>4a. 用户需要导出报表：<br/>&emsp;1. 用户选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp;2. 系统记录日志，根据用户的要求导出相应报表和信息。如果导出失败，则提示失败信息。<br/>4b. 用户双击一条单据信息：<br/>&emsp;1. 系统显示单据的所有信息。 |
| 特殊需求    | 用户不能修改和删除已经有的单据。                         |

## 用例21：查看经营历程表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 21                                       |
| 名称      | 查看经营历程表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员或总经理，目的是查看经营历程表。                     |
| 触发条件    | 财务人员或总经理需要查看某段时间内的经营历程表                  |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 如导出单据，则系统记录日志。                           |
| 优先级     | 高                                        |
| 正常流程    | 1. 用户选择查看经营历程表功能；<br/>2. 系统显示需要填写的信息；<br/>3. 财务人员填写筛选条件，包括 **时间区间，单据类型，客户，业务员，仓库**，单据类型分为**销售类单据（销售出货单，销售退货单）**、**进货类单据（进货单，进货退货单）**、**财务类单据（付款单，收款单，现金费用单）**、**库存类单据（报溢单，报损单，赠送单）**;<br/>4. 系统通过这些筛选条件，筛选出满足条件的所有单据，并显示单据的所有信息给财务人员。 |
| 扩展流程    | 3a. 用户填写过程中输入了不正确格式的信息：<br/>&emsp;1. 系统在输入框旁边提示输入错误，并拒绝提交。<br/>4a. 用户需要导出报表：<br/>&emsp;1. 用户选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp;2. 系统记录日志，根据用户的要求导出相应报表和信息。如果导出失败，则提示失败信息。<br/>4b. 用户双击一条单据信息：<br/>&emsp;1. 系统弹出窗口，显示单据的所有信息。 |
| 特殊需求    | 财务人员不能修改和删除已经有的单据。                       |

## 用例22：红冲

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 22                                       |
| 名称      | 红冲                                       |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是进行红冲或者红冲并复制。                     |
| 触发条件    | 财务人员需要进行红冲或者红冲并复制。                       |
| 前置条件    | 财务人员已经登录且正在查看经营历程表。                      |
| 后置条件    | 保存红冲数据，记录日志。                             |
| 优先级     | 高                                        |
| 正常流程    | 1. 财务人员选定一条单据；<br/>2. 系统生成一个一模一样但数量取反的新单据，并显示单据的所有信息等待确认；<br/>3.1. 财务人员确认；<br/>&emsp;3.1.1. 系统提交订单，记录日志，并显示成功信息。<br/>3.2. 用户不确认：<br/>&emsp;3.2.1. 系统不提交新单据，返回之前界面。 |
| 扩展流程    | 3a. 财务人员需要进行**红冲并复制**：<br/>&emsp;1. 系统进入单据编辑界面；<br/>&emsp;2. 财务人员进行修改；<br/>&emsp;3. 系统在财务人员填写的过程中检查数据格式；<br/>&emsp;&emsp;3.1 用户在操作中若按下回撤或重做快捷键，系统应回撤或重做。<br/>&emsp;&emsp;3.2. 用户在填写过程中取消操作：<br/>&emsp;&emsp;&emsp;3.2.1. 系统提示用户是否保存草稿；<br/>&emsp;&emsp;&emsp;3.2.2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;&emsp;3.2.2.1.1. 系统保存草稿，记录日志，并给予提示信息。若成功保存，回到用户功能主界面；若没能成功保存，则回到填单据界面。<br/>&emsp;&emsp;&emsp;3.2.2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;&emsp;3.2.2.2.1. 系统不保存草稿，退回到查看经营历程表界面。<br/>&emsp;&emsp;&emsp;3.2.2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;&emsp;3.2.2.3.1. 系统返回修改单据页面。<br/>&emsp;&emsp;3.3. 用户回撤操作：<br/>&emsp;&emsp;&emsp;1. 系统回撤操作。<br/>&emsp;&emsp;3.4. 用户重做操作：<br/>&emsp;&emsp;&emsp;1. 系统重做回撤操作。<br/>&emsp;&emsp;3.5. 用户复位信息：<br/>&emsp;&emsp;&emsp;1. 系统提示用户确认操作：<br/>&emsp;&emsp;&emsp;2. 若用户确认，则系统将单据重置为初始的红冲单据状态；若不确认，则什么都不做。<br/>&emsp;4. 财务人员提交；<br/>&emsp;5. 系统显示新单据的信息。 <br/>3.1.1a. 用户确认提交后，系统处理过程中出现网络错误或者文件读写错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统退回红冲信息显示界面。 |
| 特殊需求    | 无。                                       |


## 用例23：查看经营情况表

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 23                                       |
| 名称      | 查看经营情况表                                  |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员或总经理，目的是查看经营情况表，统计显示某一段时间内的经营收支状况和利润。经营收入显示为折让后，并显示出折让了多少。 |
| 触发条件    | 财务人员或总经理需要查看某段时间内的经营情况表。                 |
| 前置条件    | 财务人员或总经理已经登录。                            |
| 后置条件    | 如导出单据，则记录日志。                             |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择查看经营情况表功能；<br/>2. 系统提示选择具体时间段；<br/>3. 用户选择时间段；<br/>4. 系统显示信息：<br/>&emsp;- **收入类**：**销售收入、商品类收入**（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示**折让后总收入**，并显示折让了多少；<br/>&emsp;- **支出类**：**销售成本、商品类支出**（商品报损 商品赠出）。支出类显示**总支出**；<br/>&emsp;- **利润**：**折让后总收入-总支出**。 |
| 扩展流程    | 3a. 用户填写过程中输入了不正确格式的信息：<br/>&emsp;1. 系统在输入框旁边提示输入错误，并拒绝提交。<br/>4a. 用户需要导出报表：<br/>&emsp;1. 用户选中需要导出的报表和信息，并选定导出地址和格式；<br/>&emsp;2. 系统记录日志，根据用户的要求导出相应报表和信息。如果导出失败，则提示失败信息。 |
| 特殊需求    | 财务人员或总经理不能修改和删除已经有的单据。                   |

## 用例24：期初建账

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 24                                       |
| 名称      | 期初建账                                     |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是进行一套账的初始化操作。                     |
| 触发条件    | 财务人员需要进行期初建账。                            |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 把这套账单独存储，并以此作为系统的启动初始状态，记录日志。            |
| 优先级     | 低                                        |
| 正常流程    | 1. 用户选择期初建账功能；<br/>2. 系统显示需要填写的信息，并自动根据上年情况填入数据；<br/>3. 用户填写信息，包括**添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）**并提示信息；<br/>4. 系统再次显示账的所有信息并提示用户确认；<br/>5. 用户确认；<br/>6. 系统建账并保存，显示成功信息，并记录日志，并要求用户选择继续填写或回到主界面；<br/>7.用户选择继续填写；<br/>8.系统提示是否重置；<br/>9.用户选择确定重置；<br/>10.系统重置填写单据界面。 |
| 扩展流程    | 3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做操作。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d. 用户取消：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并给予提示信息。若成功保存，回到用户功能主界面；若没能成功保存，则回到填单据界面。<br/>&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;2.2.1. 系统不保存草稿，退回人员功能主界面。<br/>&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;2.3.1. 系统返回填写界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或文件读写错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统退回单据填写页面。<br/>6a.用户选择返回主界面：<br/>&emsp;1.系统回到人员功能主界面。<br/>8a.用户选择取消重置：<br/>&emps;1.系统更新单据编号，其他内容不变。 |
| 特殊需求    | 无。                                       |

## 用例25：财务人员响应通知

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 25                                       |
| 名称      | 财务人员响应通知                                 |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是财务人员收到审批结束的消息后，根据该消息完成现实银行账户操作。  |
| 触发条件    | 财务人员收到消息，已有单据完成审批。                       |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 现实银行账户操作完成，客户应付/应收数据已经修改；或者重新修改单据并且已经提交。记录日志。 |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择响应通知功能；<br/>2. 系统更新通知列表。如果是其他通知，则显示通知信息；如果是单据审批通过，系统显示**单据**以及**审批成功**信息；<br/>&emsp;2.1.1. 用户选择已读：<br/>&emsp;&emsp;2.1.1.1. 系统删除消息，若删除失败显示提示，并记录日志。<br/>&emsp;2.1.2. 用户选择忽略：<br/>&emsp;&emsp;2.2.2.1. 系统回到消息列表界面，不删除消息。<br/>3. 如果是单据审批不通过，系统显示单据状态为**未通过审批**，并显示未通过原因，以及单据的所有信息；<br/>&emsp;3.1. 用户进行修改单据操作；<br/>&emsp;&emsp;3.1.1. 系统让用户修改单据，参考CashBill, ReceivalBill, PaymentBil, ReverseBill。<br/>&emsp;3.2. 用户选择放弃：<br/>&emsp;&emsp;3.2.1. 系统显示单据所有信息，并提示用户确认放弃；<br/>&emsp;&emsp;3.2.2. 用户确认放弃；<br/>&emsp;&emsp;3.2.3. 系统标记单据为已废弃，保存，删除通知，若删除失败显示错误信息，记录日志，并显示成功信息。<br/>&emsp;3.3. 用户选择忽略消息：<br/>&emsp;&emsp;3.3.1. 系统不删除通知。 |
| 扩展流程    | 3.2.2a. 用户不确认，则系统退回上一个页面。                |
| 特殊需求    | 无。                                       |

## 用例26：财务人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 26                                       |
| 名称      | 财务人员管理草稿箱                                |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/10/1                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 财务人员，目的是查看草稿箱，恢复草稿单据的编写，或者删除草稿单据。        |
| 触发条件    | 财务人员需要管理草稿箱。                             |
| 前置条件    | 财务人员已经登录。                                |
| 后置条件    | 草稿箱操作完成并已经保存，记录日志。                       |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择草稿箱功能；<br/>2. 系统进入草稿箱列表，显示已经存储的所有草稿的简略信息（包括时间，单据名以及ID（如果有的话）），并可以让用户进行选择：<br/>3. 财务人员查看单据详细信息：<br/>&emsp;3.1. 用户选择一条单据并要求查看详情；<br/>&emsp;3.2. 系统显示单据详细信息，并提供继续填写以及返回功能。<br/>&emsp;3.3. 用户返回；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 用户删除草稿项：<br/>&emsp;4.1. 用户在草稿列表界面选择需要删除的单据，并进行删除；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息（包括时间，单据名以及ID（如果有的话）），并提示用户确认操作；<br/>&emsp;4.3. 财务人员确认操作；<br/>&emsp;4.4. 系统删除草稿项，显示成功提示，并记录日志。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统显示读取草稿项失败。<br/>3a. 财务人员继续一个单据的填写：<br/>&emsp;1. 财务人员选择一个单据并继续填写；<br/>&emsp;2. 系统删除备份单据，并让用户继续填写原来的单据。<br/>3a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统提示删除失败，并记录日志。<br/>4.2a. 财务人员查看被选择草稿的详细信息：<br/>&emsp;1. 财务人员选择一条草稿，并要求查看草稿信息；<br/>&emsp;2. 系统显示被选择草稿的信息。 |
| 特殊需求    | 无。                                       |

## 用例27：审批单据

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 27                                       |
| 名称      | 审批单据                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2018/1/7                                 |
| 参与者     | 总经理，目标是通过审核各类单据来更改库存数据和客户应收应付数据          |
| 触发条件    | 存在处于提交状态的单据                              |
| 前置条件    | 总经理已经登录                                  |
| 后置条件    | 将审批不通过消息发给相应操作员，记录日志                     |
| 优先级     | 高                                        |
| 正常流程    | 1.总经理查看申请审批的单据；<br/>2.系统显示所有处于提交状态的申请单据；<br/>3.总经理查看某张单据详情；<br/>4.系统显示该单据具体内容；<br/>5.总经理通过审批；<br/>6.系统将通过审批的单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据，并在日志中记录通过单据审批操作。 |
| 扩展流程    | 3a.总经理选择多张单据批量通过；<br/>&emsp;1.系统将单据状态设置为已通过，并发送通知，根据单据内容修改库存数据和客户应收应付数据，并在日志中记录批量审批操作；<br/>5a.总经理拒绝通过审批；<br/>&emsp;1.系统将单据返回给操作员，并发送通知，将单据状态设置为未通过审批，并在日志中记录拒绝通过审批操作； |
| 特殊需求    | 单据包括销售出货单、销售退货单、进货单、进货退货单、付款单、收款单、现金费用单、报溢单、报损单、赠送单。 |

## 用例28：管理促销策略

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 28                                       |
| 名称      | 管理促销策略                                   |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2018/1/7                                 |
| 参与者     | 总经理，目标是通过多样化的销售手段增加利润，根据最新的市场状况调整销售商品    |
| 触发条件    | 商品厂家提出自己商品的促销要求；节假日或者竞争促销；提前处理有可能会报废的商品；去除现有的销售策略 |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录销售策略日志                               |
| 优先级     | 中                                        |
| 正常流程    | **1.0制定组合商品降价促销策略**<br/>&emsp;1.总经理输入商品标识；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为组合降价商品之一；<br/>&emsp;4.系统记录当前商品；<br/>总经理重复1～4步，直到组合商品全部选择完毕；<br/>&emsp;5.总经理输入组合商品降价信息，包括降价金额、开始日期和结束日期并确认提交；<br/>&emsp;6.系统保存促销策略内容，记录日志；<br/> |
| 扩展流程    | 3a.该商品已经被选择为组合降价商品；<br/>&emsp;&emsp;1.系统提示该商品已被选择为组合降价商品；<br/>3b.总经理删除商品，不作为组合降价商品之一<br/>&emsp;1.系统移除该商品；<br/>5a,4.3a.总经理未提交就直接退出或取消提交；<br/>&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;3.系统保存草稿，记录日志；<br/>**2.0满额促销策略**<br/>&emsp;*2.1满额赠送代金券*<br/>&emsp;1、总经理输入满额赠代金券信息（包括额度、代金券面值、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/>&emsp;*2.2满额赠送礼品策略*<br/>&emsp;1、总经理输入商品标识；<br/>&emsp;&emsp;1a.商品标识无法识别；<br/>&emsp;&emsp;&emsp;1.系统提示商品格式不正确；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为赠品；<br/>&emsp;&emsp;3a.该商品已经被选择为赠品；<br/>&emsp;&emsp;&emsp;1.系统提示该商品已被选择为品；<br/>&emsp;&emsp;3b.总经理删除商品，不将商品作为礼品赠送<br/>&emsp;&emsp;&emsp;1.系统移除该商品；<br/>&emsp;4.系统记录当前商品；<br/>&emsp;5.总经理完成赠品选择；<br/>&emsp;6.系统显示需要填写的满额赠送礼品策略信息（包括额度，开始时间和结束时间）；<br/>&emsp;7.总经理输入信息并确认提交；<br/>&emsp;&emsp;7a.总经理提交的促销策略与等待生效和进行中的促销策略存在冲突；<br/>&emsp;&emsp;&emsp;1.系统提示与已有促销策略存在冲突；<br/>&emsp;&emsp;7b.总经理未提交就直接退出或者取消提交；<br/>&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不记录任何内容；<br/>&emsp;&emsp;3.系统保存草稿，记录日志<br/>&emsp;8.系统保存促销策略信息，自动建立库存赠送单，记录日志；<br/>**3.0客户赠送代金券策略**<br/>&emsp;*3.1客户赠送代金券策略*<br/>&emsp;1、总经理输入客户赠代金券信息（包括客户级别、代金券面值、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/>&emsp;&emsp;1b.总经理提交的促销策略与等待生效和进行中的促销策略存在冲突；<br/>&emsp;&emsp;&emsp;1.系统提示与已有促销策略存在冲突；<br/>&emsp;2.系统保存促销策略内容，记录日志；<br/>*3.2客户赠送礼品策略*<br/>&emsp;1、总经理输入商品标识；<br/>&emsp;&emsp;1a、商品标识无法识别；<br/>&emsp;&emsp;&emsp;1.系统提示商品格式不正确；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为赠品；<br/>&emsp;&emsp;3a.该商品已经被选择为组合降价商品；<br/>&emsp;&emsp;&emsp;1.系统提示该商品已被选择为赠品；<br/>&emsp;&emsp;3b.总经理删除商品，不将商品作为礼品赠送；<br/>&emsp;&emsp;&emsp;1.系统移除该商品；<br/>&emsp;4.系统记录当前商品；<br/>&emsp;5.总经理完成赠品选择；<br/>&emsp;6.系统显示需要填写的客户赠送礼品策略信息（包括客户级别，开始时间和结束时间）；<br/>&emsp;7.总经理输入信息并确认提交；<br/>&emsp;&emsp;&emsp;7a.总经理未提交就直接退出或者取消提交；<br/>&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不记录任何内容；<br/>&emsp;&emsp;3.系统保存草稿，记录日志<br/>&emsp;8.系统保存促销策略信息，自动建立库存赠送单，记录日志；<br/>*3.3客户价格折让策略*<br/>&emsp;1、总经理输入客户价格折让信息（包括客户级别、价格折让度、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/> |
| 特殊需求    | 无                                        |

## 用例29：管理促销策略

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 29                                       |
| 名称      | 查看日志                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2018/1/6                                 |
| 最后更新日期  | 2018/1/7                                 |
| 参与者     | 总经理                                      |
| 触发条件    | 需要对已有促销策略进行管理                            |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.总经理查看促销策略：<br/>&emsp;1.1.总经理查看已有的促销策略；<br/>&emsp;1.2.系统列表显示所有提交的促销策略；<br/>&emsp;1.3.总经理输入筛选条件；<br/>&emsp;1.4.系统显示筛选结果；<br/>&emsp;1.5.总经理查看某条促销策略详情；<br/>&emsp;1.6.系统显示该促销策略的具体内容；<br/>2.总经理删除促销策略：<br/>&emsp;2.1.总经理删除等待生效或者已经过期的促销策略；<br/>&emsp;2.2.系统废弃该促销策略，记录日志；<br/> |
| 扩展流程    | 2.1a.总经理要求删除正在生效的促销策略；<br/>&emsp;1.系统提示无法删除并拒绝输入；<br/>2.1b.总经理要求删除已经作废的促销策略；<br/>&emsp;1.系统直接删除该促销策略；<br/> |
| 特殊需求    | 无                                        |

## 用例30：查看日志

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 29                                       |
| 名称      | 查看日志                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 总经理，财务人员，系统管理员，目标是查看主要操作的记录              |
| 触发条件    | 需要查看职员的主要操作                              |
| 前置条件    | 总经理和财务人员必须已经被识别和授权                       |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.查看本地操作日志<br/>&emsp;1.1总经理或财务人员或系统管理员查看主要操作日志；<br/>&emsp;1.2.系统按照操作时间顺序显示所有主要操作记录（包括时间、操作人员、操作类型）；<br/>&emsp;1.3.总经理或财务人员或系统管理员选择某时间段进行查询；<br/>&emsp;1.4.系统按照操作时间顺序显示该时间段内所有操作日志。<br/>2.查看远程操作日志<br/>&emsp;2.1.总经理或财务人员或系统管理员取回远程操作日志；<br/>&emsp;2.2.系统显示远程日志存储网址；<br/>&emsp;2.3.总经理或财务人员或系统管理员选择查看某远程操作日志；<br/>&emsp;2.4.系统跳转并显示该记录；<br/> |
| 扩展流程    | 1.1a.总经理或财务人员或系统管理员查看操作日志详情；<br/>&emsp;1.系统显示操作日志详细情况（有单据列出单据具体内容）；<br/> |
| 特殊需求    | 主要操作包括商品分类、商品管理、库存赠送、 库存报溢、 库存报损、 库存报警、客户管理、进货单制定、进货退货单制定、销售单制定、销售退货单制定、账户管理、收款单制定、付款单制定、审批报表和销售策略制定。 |

## 用例31：总经理管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 30                                       |
| 名称      | 总经理管理草稿箱                                 |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/10/2                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 总经理，目标是管理暂存的促销策略信息                       |
| 触发条件    | 无                                        |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录修改草稿、删除草稿日志                          |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择草稿箱功能；<br/>2. 系统进入草稿箱列表，显示已经存储的所有促销策略草稿的简略信息（类型，起讫时间，商品信息（如果有的话），代金券信息（如果有的话）），并可以让用户进行选择：<br/>3. 总经理查看促销策略详情：<br/>&emsp;3.1. 总经理选择一条促销策略并要求查看详细信息；<br/>&emsp;3.2. 系统显示促销策略具体内容；<br/>&emsp;3.3. 总经理直接返回；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 用户删除草稿项：<br/>&emsp;4.1. 总经理在草稿列表界面删除的草稿；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息，并提示用户确认操作；<br/>&emsp;4.3. 总经理确认删除；<br/>&emsp;4.4. 系统删除草稿项，显示成功提示，记录日志。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统显示读取草稿项失败。<br/>3a. 总经理继续促销策略的填写：<br/>&emsp;1. 总经理选择一个促销策略并继续填写；<br/>&emsp;2. 系统删除备份单据，并让用户继续填写原来的单据；<br/>3a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统提示删除失败，并记录日志；<br/>4.2a. 总经理查看被选择草稿的详细信息：<br/>&emsp;1. 总经理查看一条草稿的详情；<br/>&emsp;2. 系统显示促销策略草稿的具体内容； |
| 特殊需求    | 若系统读取或删除备份信息失败，则提示用户发生未知错误，返回草稿箱界面。      |



## 用例32：管理用户账户

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 31                                       |
| 名称      | 管理用户账户                                   |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2018/1/7                                 |
| 参与者     | 管理员，目的是负责对用户账户的信息和权限管理                   |
| 触发条件    | 需要进行管理用户账户信息。                            |
| 前置条件    | 管理员已经登录。                                 |
| 后置条件    | 保存对账户信息的修改，记录日志。                         |
| 优先级     | 高                                        |
| 正常流程    | 1. 管理员新建账户：<br/>&emsp;1.1. 系统提示管理员填写姓名，角色，工号，账户名、密码以及是否具有最高权限；<br/>&emsp;1.2. 用户填写信息，确认提交；<br/>&emsp;&emsp;1.3. 系统保存账户内容，记录日志。<br/>2. 管理员查询账户：<br/>&emsp;2.1. 管理员输入筛选条件，包括姓名、就职单位、工号、就职状态；<br/>&emsp;2.2. 系统根据筛选条件，显示符合条件的所有信息；<br/>3.管理员删除账户：<br/>&emsp;3.1.管理员删除该账户；<br/>&emsp;3.2.系统将该账户标为已删除，记录日志；<br/>4.管理员修改账户：<br/>&emsp;4.1.管理员查看完账户详情后，修改账户信息；<br/>&emsp;4.2.系统允许修改，等待输入；<br/>&emsp;4.3.管理员完成修改，确认提交；<br/>&emsp;4.4.系统更新记录，记录日志；<br/> |
| 扩展流程    | 1.2b,4.3c.提交的账户已经存在；<br/>&emsp;1.系统警告账户已经存在；<br/>4.3a.管理员修改后直接退出或取消提交；<br/>&emsp;1.系统不保存更改；<br/>1.2a,4.3b.提交的账户信息中与设定值范围不符（如姓名填数字）；<br/>&emsp;1.系统警告管理员具体错误。<br/>1.1a. 用户可选择一个用户后新增或更新人脸信息：<br/>&emsp;1. 系统打开摄像头，提示注册人脸信息；<br/>&emsp;2. 用户将脸放入摄像头可以摄像的位置，并确认注册。<br/>&emsp;3. 系统记录人脸信息，并提交人脸信息。 |
| 特殊需求    | 无                                        |

## 用例33：人脸识别登录

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 32                                       |
| 名称      | 人脸识别登录                                   |
| 创建者     | 陈俊达                                      |
| 最后一次更新者 | 陈俊达                                      |
| 创建日期    | 2017/11/24                               |
| 最后更新日期  | 2017/11/24                               |
| 参与者     | 所有用户，目的是使用人脸进行登录。                        |
| 触发条件    | 需要进行登录。                                  |
| 前置条件    | 用户进行登录。                                  |
| 后置条件    | 如果用户已经注册过，即登录。                           |
| 优先级     | 高                                        |
| 正常流程    | 1. 用户进入人脸识别登录界面；<br/>2. 系统提示用户将脸放入摄像头可以摄像的位置；<br/>3. 用户将脸放入摄像头可以摄像的位置，并登录；<br/>4. 系统验证人脸信息，并成功登录。 |
| 扩展流程    | 4.1a. 系统发现人脸并没有注册：<br/>&emsp;1. 系统提示人脸未注册。<br/>4.1b. 系统未发现摄像头：<br/>&emsp;1. 系统提示未检测到摄像头。 |
| 特殊需求    | 无。                                       |

## 用例34：云备份日志

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 33                                       |
| 名称      | 管理备份日志                                   |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/12/16                               |
| 最后更新日期  | 2018/1/8                                 |
| 参与者     | 系统管理员，目的是防止本地日志记录过多，占用磁盘                 |
| 触发条件    | 需要清除过多的日志                                |
| 前置条件    | 系统管理员必须已经被识别和授权                          |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.管理员备份日志；<br/>&emsp;1.1.管理员选择备份日志功能；<br/>&emsp;1.2.系统备份日志；<br/> |
| 扩展流程    | 1.2a.系统备份日志失败；<br/>&emsp;1.系统显示操作失败；     |
| 特殊需求    | 无。                                       |