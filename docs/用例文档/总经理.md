## 用例27：审批单据

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 27                                       |
| 名称      | 审批单据                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/14                               |
| 参与者     | 总经理，目标是通过审核各类单据来更改库存数据和客户应收应付数据          |
| 触发条件    | 存在处于提交状态的单据                              |
| 前置条件    | 总经理已经登录                                  |
| 后置条件    | 将审批不通过消息发给相应操作员，记录日志                     |
| 优先级     | 高                                        |
| 正常流程    | 1.总经理查看申请审批的单据；<br/>2.系统显示所有处于提交状态的申请单据；<br/>3.总经理查看某张单据详情；<br/>4.系统显示该单据具体内容；<br/>5.总经理通过审批；<br/>6.系统将通过审批的单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据，并在日志中记录通过单据审批操作。 |
| 扩展流程    | 3a.总经理选择多张单据批量通过；<br/>&emsp;1.系统将单据状态设置为已通过，并发送通知，根据单据内容修改库存数据和客户应收应付数据，并在日志中记录批量审批操作；<br/>5a.总经理拒绝通过审批；<br/>&emsp;1.系统将单据返回给操作员，并发送通知，将单据状态设置为未通过审批，并在日志中记录拒绝通过审批操作； |
| 特殊需求    | 单据包括销售出货单、销售退货单、进货单、进货退货单、付款单、收款单、现金费用单、报溢单、报损单、赠送单。 |

## 用例28：制定促销策略

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 28                                       |
| 名称      | 制定促销策略                                   |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/2                                |
| 参与者     | 总经理，目标是通过多样化的销售手段增加利润，根据最新的市场状况调整销售商品    |
| 触发条件    | 商品厂家提出自己商品的促销要求；节假日或者竞争促销；提前处理有可能会报废的商品；去除现有的销售策略 |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录销售策略日志                               |
| 优先级     | 中                                        |
| 正常流程    | **1.0制定组合商品降价促销策略**<br/>&emsp;1.总经理输入商品标识；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为组合降价商品之一；<br/>&emsp;4.系统记录当前商品；<br/>总经理重复1～4步，直到组合商品全部选择完毕；<br/>&emsp;5.总经理输入组合商品降价信息，包括降价金额、开始日期和结束日期并确认提交；<br/>&emsp;6.系统保存促销策略内容，记录日志；<br/> |
| 扩展流程    | 1a.商品标识格式不正确<br/>&emsp;1.系统提示商品标识格式不正确；<br/>3a.该商品已经被选择为组合降价商品；<br/>&emsp;&emsp;1.系统提示该商品已被选择为组合降价商品；<br/>3b.总经理删除商品，不作为组合降价商品之一<br/>&emsp;1.系统移除该商品；<br/>5a,4.3a.总经理未提交就直接退出或取消提交；<br/>&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;3.系统保存草稿，记录日志；<br/>**2.0满额促销策略**<br/>&emsp;*2.1满额赠送代金券*<br/>&emsp;1、总经理输入满额赠代金券信息（包括额度、代金券面值、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/>&emsp;*2.2满额赠送礼品策略*<br/>&emsp;1、总经理输入商品标识；<br/>&emsp;&emsp;1a.商品标识无法识别；<br/>&emsp;&emsp;&emsp;1.系统提示商品格式不正确；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为赠品；<br/>&emsp;&emsp;3a.该商品已经被选择为赠品；<br/>&emsp;&emsp;&emsp;1.系统提示该商品已被选择为品；<br/>&emsp;&emsp;3b.总经理删除商品，不将商品作为礼品赠送<br/>&emsp;&emsp;&emsp;1.系统移除该商品；<br/>&emsp;4.系统记录当前商品；<br/>&emsp;5.总经理完成赠品选择；<br/>&emsp;6.系统显示需要填写的满额赠送礼品策略信息（包括额度，开始时间和结束时间）；<br/>&emsp;7.总经理输入信息并确认提交；<br/>&emsp;&emsp;7a.总经理提交的促销策略与等待生效和进行中的促销策略存在冲突；<br/>&emsp;&emsp;&emsp;1.系统提示与已有促销策略存在冲突；<br/>&emsp;&emsp;7b.总经理未提交就直接退出或者取消提交；<br/>&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不记录任何内容；<br/>&emsp;&emsp;3.系统保存草稿，记录日志<br/>&emsp;8.系统保存促销策略信息，自动建立库存赠送单，记录日志；<br/>**3.0客户赠送代金券策略**<br/>&emsp;*3.1客户赠送代金券策略*<br/>&emsp;1、总经理输入客户赠代金券信息（包括客户级别、代金券面值、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/>&emsp;&emsp;1b.总经理提交的促销策略与等待生效和进行中的促销策略存在冲突；<br/>&emsp;&emsp;&emsp;1.系统提示与已有促销策略存在冲突；<br/>&emsp;2.系统保存促销策略内容，记录日志；<br/>*3.2客户赠送礼品策略*<br/>&emsp;1、总经理输入商品标识；<br/>&emsp;&emsp;1a、商品标识无法识别；<br/>&emsp;&emsp;&emsp;1.系统提示商品格式不正确；<br/>&emsp;2.系统显示商品信息，包括商品标识、描述和价格；<br/>&emsp;3.总经理选择该商品作为赠品；<br/>&emsp;&emsp;3a.该商品已经被选择为组合降价商品；<br/>&emsp;&emsp;&emsp;1.系统提示该商品已被选择为赠品；<br/>&emsp;&emsp;3b.总经理删除商品，不将商品作为礼品赠送；<br/>&emsp;&emsp;&emsp;1.系统移除该商品；<br/>&emsp;4.系统记录当前商品；<br/>&emsp;5.总经理完成赠品选择；<br/>&emsp;6.系统显示需要填写的客户赠送礼品策略信息（包括客户级别，开始时间和结束时间）；<br/>&emsp;7.总经理输入信息并确认提交；<br/>&emsp;&emsp;7a.总经理提交的促销策略与等待生效和进行中的促销策略存在冲突；<br/>&emsp;&emsp;&emsp;1.系统提示与已有促销策略存在冲突；<br/>&emsp;&emsp;7b.总经理未提交就直接退出或者取消提交；<br/>&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;1.系统不记录任何内容；<br/>&emsp;&emsp;3.系统保存草稿，记录日志<br/>&emsp;8.系统保存促销策略信息，自动建立库存赠送单，记录日志；<br/>*3.3客户价格折让策略*<br/>&emsp;1、总经理输入客户价格折让信息（包括客户级别、价格折让度、开始日期和结束日期）并确认提交；<br/>&emsp;&emsp;1a.总经理不提交就直接退出或取消提交；<br/>&emsp;&emsp;&emsp;1.系统询问是否保存草稿；<br>&emsp;&emsp;&emsp;2.总经理保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理不保存草稿；<br/>&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不保存任何内容；<br/>&emsp;&emsp;&emsp;3.系统保存草稿，记录日志；<br/> |
| 特殊需求    | 无                                        |

## 用例29：管理促销策略

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 29                                       |
| 名称      | 查看日志                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 总经理和财务人员，目标是查看主要操作的记录                    |
| 触发条件    | 需要查看职员的主要操作                              |
| 前置条件    | 总经理和财务人员必须已经被识别和授权                       |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.总经理查看促销策略：<br/>&emsp;2.1.总经理查看已有的促销策略；<br/>&emsp;2.2.系统按照最后一次修改时间顺序列表显示所有促销策略；<br/>&emsp;2.3.总经理输入筛选条件；<br/>&emsp;2.4.系统显示筛选结果；<br/>&emsp;2.5.总经理查看某条促销策略详情；<br/>&emsp;2.6.系统显示该促销策略的具体内容；<br/>2.总经理删除促销策略：<br/>&emsp;3.1.总经理查看促销策略详情后，删除等待生效或者已经过期的促销策略；<br/>&emsp;3.2.系统废弃该促销策略，记录日志；<br/> |
| 扩展流程    | 3.1a.总经理要求删除正在生效的促销策略；<br/>&emsp;1.系统提示无法删除并拒绝输入；<br/>4.1a、总经理要求编辑正在生效或已过期的促销策略；<br/>&emsp;1.系统提示无法修改并拒绝输入；<br/> |
| 特殊需求    |                                          |



## 用例30：查看日志

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 29                                       |
| 名称      | 查看日志                                     |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 总经理和财务人员，目标是查看主要操作的记录                    |
| 触发条件    | 需要查看职员的主要操作                              |
| 前置条件    | 总经理和财务人员必须已经被识别和授权                       |
| 后置条件    | 无                                        |
| 优先级     | 低                                        |
| 正常流程    | 1.总经理或财务人员查看主要操作日志；<br/>2.系统按照操作时间顺序显示所有主要操作记录（包括时间、操作人员、操作类型）；<br/>3.总经理或财务人员输入筛选条件（时间、操作人员、操作类型）；<br/>4.系统显示筛选结果；<br/>5.总经理或财务人员选择某时间段进行查询；<br/>6.系统按照操作时间顺序显示该时间段内所有操作日志。 |
| 扩展流程    | 1a.总经理或财务人员查看操作日志详情；<br/>&emsp;1.系统显示操作日志详细情况（有单据列出单据具体内容）；<br/>3a.筛选条件无效（不属于时间或操作人员或具体操作名称）<br/>&emsp;1.系统警告筛选条件无效； |
| 特殊需求    | 主要操作包括商品分类、商品管理、库存赠送、 库存报溢、 库存报损、 库存报警、客户管理、进货单制定、进货退货单制定、销售单制定、销售退货单制定、账户管理、收款单制定、付款单制定、审批报表和销售策略制定。 |

## 用例31：总经理管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 30                                       |
| 名称      | 总经理管理草稿箱                                 |
| 创建者     | 张美玲                                      |
| 最后一次更新者 | 张美玲                                      |
| 创建日期    | 2017/10/2                                |
| 最后更新日期  | 2017/10/15                               |
| 参与者     | 总经理，目标是管理暂存的促销策略信息                       |
| 触发条件    | 无                                        |
| 前置条件    | 总经理必须已经被识别和授权                            |
| 后置条件    | 系统记录修改草稿、删除草稿日志                          |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择草稿箱功能；<br/>2. 系统进入草稿箱列表，显示已经存储的所有促销策略草稿的简略信息（类型，起讫时间，商品信息（如果有的话），代金券信息（如果有的话）），并可以让用户进行选择：<br/>3. 总经理查看促销策略详情：<br/>&emsp;3.1. 总经理选择一条促销策略并要求查看详细信息；<br/>&emsp;3.2. 系统显示促销策略具体内容；<br/>&emsp;3.3. 总经理直接返回；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 用户删除草稿项：<br/>&emsp;4.1. 总经理在草稿列表界面删除的草稿；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息，并提示用户确认操作；<br/>&emsp;4.3. 总经理确认删除；<br/>&emsp;4.4. 系统删除草稿项，显示成功提示，记录日志。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统显示读取草稿项失败。<br/>3a. 总经理继续促销策略的填写：<br/>&emsp;1. 总经理选择一个促销策略并继续填写；<br/>&emsp;2. 系统删除备份单据，并让用户继续填写原来的单据；<br/>3a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统提示删除失败，并记录日志；<br/>4.2a. 总经理查看被选择草稿的详细信息：<br/>&emsp;1. 总经理查看一条草稿的详情；<br/>&emsp;2. 系统显示促销策略草稿的具体内容； |
| 特殊需求    | 若系统读取或删除备份信息失败，则提示用户发生未知错误，返回草稿箱界面。      |