###  用例9：客户管理

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 9                                        |
| 名称      | 客户管理                                     |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 客户信息需要被增删改查                              |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 存储客户信息并将本次修改记入日志                         |
| 优先级     | 低                                        |
| 正常流程    | 1. 用户增加客户：<br/>&emsp;1.1. 用户选择增加客户功能；<br/>&emsp;1.2. 系统显示需要填写的信息，包括客户的所有属性：**分类（进货商.销售商）、级别（五级，一级普通用户，五级VIP客户）.姓名.电话.地址.邮编.电子邮箱.应收额度.应收.应付.默认业务员，以及修改记录的销售人员编号**；<br/>&emsp;1.3. 用户填写信息；<br/>&emsp;1.4. 系统显示客户的所有信息，并要求用户确认；<br/>&emsp;1.5. 用户确认；<br/>&emsp;1.6. 系统提交信息，并显示成功消息，并记录日志。<br/>2. 用户查询客户：<br/>&emsp;2.1. 用户输入客户信息，包括**分类.级别.姓名.电话**，支持模糊查找；<br/>&emsp;2.2. 系统根据输入条件，查找客户信息，并在列表中显示满足条件的客户；<br/>&emsp;2.3. 用户点击一条客户信息；<br/>&emsp;2.4. 系统显示该客户的详细信息；<br/>&emsp;2.5. 用户确认；<br/>&emsp;2.6. 系统提交信息，并显示成功消息，并记录日志。<br/>3. 用户删除客户：<br/>&emsp;3.1. 用户查询到需要的客户，并选择客户，点击删除客户；<br/>&emsp;3.2. 系统弹出窗口，显示客户的所有信息；<br/>&emsp;3.3. 用户确认；<br/>&emsp;3.4. 系统删除账户，并显示成功信息。<br/>4. 用户修改客户：<br/>&emsp;4.1. 用户查询到需要的客户，并选择客户，点击修改客户信息；<br/>&emsp;4.2. 系统弹出窗口，显示客户的所有信息，并让用户可修改客户名称；<br/>&emsp;4.3. 用户修改需要修改的信息并提交；<br/>&emsp;4.4. 系统保存修改，并显示成功信息。 |
| 扩展流程    | 1a,4a. 增加客户或者修改客户信息时，系统发现已经有同名客户存在：<br/>&emsp;1. 系统弹出窗口，提示重名冲突；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统关闭弹出窗口，返回上一个页面。<br/>1.4a,3.2a,4.3a. 用户增加.修改或删除过程中点击放弃或者在确认窗口中点击取消按钮：<br/>&emsp;1. 系统退回上一个页面，如有弹出窗口关闭弹出窗口。<br/>1.6a,3.4a,4.4a.系统保存失败；<br/>&emsp;1. 系统并显示失败信息。<br/>&emsp;2. 用户点击确认<br/>&emsp;3. 系统返回客户信息页面。 |
| 特殊需求    | 1. 应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。<br/>2. 应收额度**仅最高权限**可修改。 |

###   用例10：制定进货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 10                                       |
| 名称      | 制定进货单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/14                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定进货单。                         |
| 触发条件    | 有新的进货，需要制定进货单。                           |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写进货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括 **单据编号**，**供应商，仓库，操作员，入库商品列表，备注，总额合计。**其中入库商品列表包含的信息有：**商品编号，名称（从商品选择界面进行选择），型号，数量（手动输入），单价（默认为商品信息中的进价），金额，备注（手动输入）**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。 |
| 特殊需求    | 1.入库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2.进货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.**单据编号**格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

###  用例11：制定进货退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 11                                       |
| 名称      | 制定进货退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定进货退货单。                       |
| 触发条件    | 有新的退货，需要制定进货退货单。                         |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写进货退货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(JHTHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号**，**供应商，仓库，操作员，出库商品列表，备注，总额合计。**其中出库商品列表包含的信息有：**商品编号，名称，型号，数量，单价，金额，备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。 |
| 特殊需求    | 1.退库商品列表信息中需手动输入 **名称（从商品选择界面进行选择），数量，单价（默认为商品信息中的进价），备注**，其余信息皆是自动计算并填充。<br/>2.退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.**单据编号**格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子。 |

###  用例12：制定销售单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 12                                       |
| 名称      | 制定销售单                                    |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/15                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定销售单。                         |
| 触发条件    | 有新的商品出售，需要制定销售单。                         |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写销售单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(XSD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 **。出货商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。 |
| 特殊需求    | 1.**编号**格式为：XSD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2.销售单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.出货商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/>4.销售人员分为**销售员**和**销售经理**。销售员最多折让1000元，销售经理可以折让5000元，总经理可以任意金额的折让。 |

###  用例13：制定销售退货单

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 13                                       |
| 名称      | 制定销售退货单                                  |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/16                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是制定销售退货单。                       |
| 触发条件    | 有新的商品被退货，需要制定销售退货单。                      |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 系统保存新的单据，并记录日志。                          |
| 优先级     | 高                                        |
| 正常流程    | 1. 进货销售人员选择填写销售退货单功能；<br/>2. 系统显示已有信息，并给出需要填写的信息，自动完善单据编号(XSTHD-yyyyMMdd-xxxxx)，操作员（当前登录用户）信息；<br/>3. 进货销售人员填写剩余信息，包括**单据编号，客户，业务员，操作员，仓库，商品清单，商品总价，备注 **。商品清单中要显示商品的**编号，名称，型号，数量，单价，金额，商品备注**并提交；<br/>4. 系统显示单据的所有信息，并要求用户确认；<br/>5. 用户确认；<br/>6. 系统提交信息，并显示成功消息，并记录日志。 |
| 扩展流程    | 2a. 系统发现当天已经有99999条单据：<br/>&emsp;1. 系统提示单据数量已满。<br/>3a. 用户在填写过程中回撤操作：<br/>&emsp;1. 系统回撤操作。<br/>3b. 用户在填写过程中重做操作：<br/>&emsp;1. 系统重做。<br/>3c. 系统发现用户填写过程中有数据格式错误：<br/>&emsp;1. 系统提示数据格式错误，并拒绝提交。<br/>3d.用户在填写过程中复位信息：<br/>&emsp;1. 系统提示用户确认；<br/>&emsp;&emsp;2.1. 用户确认：<br/>&emsp;&emsp;&emsp;2.1.1. 系统清空用户所填数据。<br/>&emsp;&emsp;2.2. 用户不确认：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不清除数据。<br/>5a. 用户取消操作：<br/>&emsp;1. 系统提示用户是否保存草稿。<br/>&emsp;&emsp;2.1. 用户选择保存草稿：<br/>&emsp;&emsp;&emsp;2.1.1. 系统保存草稿，记录日志，并退出。<br/>&emsp;&emsp;2.2. 用户选择不保存草稿：<br/>&emsp;&emsp;&emsp;2.2.1. 系统不保存草稿并退出。<br/>&emsp;&emsp;2.3. 用户选择返回：<br/>&emsp;&emsp;&emsp;2.3.1. 系统返回填写单据界面。<br/>6a. 用户确认提交后，系统处理过程中出现网络错误或者读写文件错误：<br/>&emsp;1. 系统提示错误信息；<br/>&emsp;2. 用户确认；<br/>&emsp;3. 系统返回填写单据界面。 |
| 特殊需求    | 1.**编号**格式为：XSTHD-yyyyMMdd-xxxxx，**客户**仅显示销售商，**业务员**：和这个客户打交道的公司员工，设置一个客户默认的业务员<br/>2.销售退货单需通过审批后再更改库存数据和客户的应收应付数据。<br/>3.商品清单中，**名称**：从商品选择界面选择，**数量**：手动输入，**单价**：默认为商品信息里的销售价，可修改，**金额**：自动生成，**备注**：手动输入<br/> |

###  用例14：进货销售人员响应通知

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 14                                       |
| 名称      | 进货销售人员响应通知                               |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/9/21                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员                                   |
| 触发条件    | 有审批消息                                    |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 将本次操作记入日志                                |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户点击选择通知功能；<br/>2. 系统显示所有进货单、进货退货单、销售单、销售退货单的简略信息，包括**单据编号、审批结果** ；<br/>3. 用户选择一条审批消息；<br/> 4.系统显示已通过单据详细情况<br/> 5.用户选择完成单据；<br/> 6.系统将通知删除，记入日志。<br/> |
| 扩展流程    | 3a 单据未通过<br/>&emsp;1.1. 用户选择废弃单据；<br/>&emsp;1.2. 系统提示确认废弃；<br/>&emsp;1.3. 用户点击确认废弃；<br/> &emsp; 1.4. 系统删除单据。<br/>&emsp;2.1. 用户选择修改单据；<br/>&emsp;2.2.系统进入修改单据，系统显示已有信息，并使之可修改；<br/>&emsp;2.3. 进货销售人员输入单据信息并提交；<br/>&emsp;2.4. 系统显示单据的所有信息，并要求用户确认；<br/>&emsp;2.5.销售人员确认提交单据；<br/> &emsp;2.6. 系统提交信息，并显示成功消息，并记录日志。</br/> 5a 进货销售人员选择取消<br/> &emsp;1. 系统返回审批消息页面 |
| 特殊需求    | 无                                        |

### 用例15：进货销售人员管理草稿箱

| 项       | 值                                        |
| ------- | ---------------------------------------- |
| ID      | 15                                       |
| 名称      | 进货销售人员管理草稿箱                              |
| 创建者     | 张凌哲                                      |
| 最后一次更新者 | 张凌哲                                      |
| 创建日期    | 2017/10/1                                |
| 最后更新日期  | 2017/10/13                               |
| 参与者     | 进货销售人员，目的是查看草稿箱，恢复草稿单据的编写，或者删除草稿单据。      |
| 触发条件    | 进货销售人员需要管理草稿箱。                           |
| 前置条件    | 进货销售人员已经登录。                              |
| 后置条件    | 草稿箱操作完成并已经保存，记录日志。                       |
| 优先级     | 中                                        |
| 正常流程    | 1. 用户选择草稿箱功能；<br/>2. 系统进入草稿箱列表，显示已经存储的所有草稿的简略信息（单据包括时间，单据名以及ID，客户信息包括客户姓名，分类（如果有的话）），并可以让用户进行选择：<br/>3. 进货销售人员查看草稿详细信息：<br/>&emsp;3.1. 用户选择一条草稿并要求查看详情；<br/>&emsp;3.2. 系统显示草稿详细信息，并提供继续填写以及返回功能。<br/>&emsp;3.3. 用户返回；<br/>&emsp;3.4. 系统退回草稿列表界面。<br/>4. 用户删除草稿项：<br/>&emsp;4.1. 用户在草稿列表界面选择需要删除的草稿，并进行删除；<br/>&emsp;4.2. 系统显示已经选择的草稿的简略信息（单据包括时间，单据名以及ID，客户信息包括客户姓名，分类（如果有的话）），并提示用户确认操作；<br/>&emsp;4.3. 财务人员确认操作；<br/>&emsp;4.4. 系统删除草稿项，显示成功提示，并记录日志。 |
| 扩展流程    | 2a. 系统读取已有草稿项失败：<br/>&emsp;1. 系统显示读取草稿项失败。<br/>3a. 进货销售人员继续一个草稿的填写：<br/>&emsp;1. 进货销售人员选择一个草稿并继续填写；<br/>&emsp;2. 系统删除备份草稿，并让用户继续填写原来的草稿。<br/>3a.2a,4.4a. 系统删除草稿项失败：<br/>&emsp;1. 系统提示删除失败，并记录日志。<br/>4.2a. 进货销售人员查看被选择草稿的详细信息：<br/>&emsp;1. 进货销售人员选择一条草稿，并要求查看草稿信息；<br/>&emsp;2. 系统显示被选择草稿的信息。 |
| 特殊需求    | 无                                        |