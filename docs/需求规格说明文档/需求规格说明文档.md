# 进销存系统 需求规格说明文档

<!-- TOC -->

- [进销存系统 需求规格说明文档](#进销存系统-需求规格说明文档)
- [0. 更新历史](#0-更新历史)
- [1. 引言](#1-引言)
    - [1.1 引言](#11-引言)
    - [1.2 范围](#12-范围)
- [2. 总体描述](#2-总体描述)
    - [2.1 商品前景](#21-商品前景)
    - [2.2 业务需求](#22-业务需求)
    - [2.3 商品功能](#23-商品功能)
    - [2.4 用户特征](#24-用户特征)
        - [2.4.1 库存管理人员](#241-库存管理人员)
        - [2.4.2 进货销售人员](#242-进货销售人员)
        - [2.4.3 财务人员](#243-财务人员)
        - [2.4.4 总经理](#244-总经理)
        - [2.4.5 管理员](#245-管理员)
    - [2.5 约束](#25-约束)
    - [2.6 假设](#26-假设)
- [3. 详细需求描述](#3-详细需求描述)
    - [3.1 对外接口需求](#31-对外接口需求)
        - [3.1.1 公用UI元素](#311-公用ui元素)
        - [3.1.2 查看日志](#312-查看日志)
        - [3.1.3 填写单据](#313-填写单据)
        - [3.1.4 查看单据](#314-查看单据)
        - [3.1.5 处理通知](#315-处理通知)
    - [3.2 功能需求](#32-功能需求)
        - [3.2.1 商品分类管理](#321-商品分类管理)
            - [3.2.1.1 特性描述](#3211-特性描述)
            - [3.2.1.2 刺激/响应序列](#3212-刺激响应序列)
            - [3.2.1.3 相关功能需求](#3213-相关功能需求)
        - [3.2.2 商品管理](#322-商品管理)
            - [3.2.2.1 特性描述](#3221-特性描述)
            - [3.2.2.2 刺激/响应序列](#3222-刺激响应序列)
            - [3.2.2.3 相关功能需求](#3223-相关功能需求)
        - [3.2.3 库存查看](#323-库存查看)
            - [3.2.3.1 特性描述](#3231-特性描述)
            - [3.2.3.2 刺激/相应序列](#3232-刺激相应序列)
            - [3.2.3.3 相关功能需求](#3233-相关功能需求)
        - [3.2.4 库存盘点](#324-库存盘点)
            - [3.2.4.1 特性描述](#3241-特性描述)
            - [3.2.4.2 刺激/相应序列](#3242-刺激相应序列)
            - [3.2.4.3 相关功能需求](#3243-相关功能需求)
        - [3.2.5 商品赠送](#325-商品赠送)
            - [3.2.5.1 特性描述](#3251-特性描述)
            - [3.2.5.2 刺激/相应序列](#3252-刺激相应序列)
            - [3.2.5.3 相关功能需求](#3253-相关功能需求)
        - [3.2.6 库存监控](#326-库存监控)
            - [3.2.6.1 特性描述](#3261-特性描述)
            - [3.2.6.2 刺激/相应序列](#3262-刺激相应序列)
            - [3.2.6.3 相关功能需求](#3263-相关功能需求)
        - [3.2.7 库存管理人员响应通知](#327-库存管理人员响应通知)
            - [3.2.7.1 特性描述](#3271-特性描述)
            - [3.2.7.2 刺激/相应序列](#3272-刺激相应序列)
            - [3.2.7.3 相关功能需求](#3273-相关功能需求)
        - [3.2.8 库存管理人员管理草稿箱](#328-库存管理人员管理草稿箱)
            - [3.2.8.1 特性描述](#3281-特性描述)
            - [3.2.8.2刺激/相应序列](#3282刺激相应序列)
            - [3.2.8.3 相关功能需求](#3283-相关功能需求)
        - [3.2.9 客户管理](#329-客户管理)
            - [3.2.9.1 特性描述](#3291-特性描述)
            - [3.2.9.2 刺激/响应序列](#3292-刺激响应序列)
            - [3.2.9.3 相关功能需求](#3293-相关功能需求)
        - [3.2.10 制定进货单](#3210-制定进货单)
            - [3.2.10.1 特性描述](#32101-特性描述)
            - [3.2.10.2 刺激/响应序列](#32102-刺激响应序列)
            - [3.2.10.3 相关功能需求](#32103-相关功能需求)
        - [3.2.11 制定进货退货单](#3211-制定进货退货单)
            - [3.2.11.1 特性描述](#32111-特性描述)
            - [3.2.11.2 刺激/响应序列](#32112-刺激响应序列)
            - [3.2.11.3 相关功能需求](#32113-相关功能需求)
        - [3.2.12 制定销售单](#3212-制定销售单)
            - [3.2.12.1 特性描述](#32121-特性描述)
            - [3.2.12.2 刺激/响应序列](#32122-刺激响应序列)
            - [3.2.12.3 相关功能需求](#32123-相关功能需求)
        - [3.2.13 制定销售退货单](#3213-制定销售退货单)
            - [3.2.13.1 特性描述](#32131-特性描述)
            - [3.2.13.2 刺激/响应序列](#32132-刺激响应序列)
            - [3.2.13.3 相关功能需求](#32133-相关功能需求)
        - [3.2.14 进货销售人员响应通知](#3214-进货销售人员响应通知)
            - [3.2.14.1 特性描述](#32141-特性描述)
            - [3.2.14.2 刺激/响应序列](#32142-刺激响应序列)
            - [3.2.14.3 相关功能需求](#32143-相关功能需求)
        - [3.2.15 进货销售人员管理草稿箱](#3215-进货销售人员管理草稿箱)
            - [3.2.15.1 特性描述](#32151-特性描述)
            - [3.2.15.2 刺激/响应序列](#32152-刺激响应序列)
            - [3.2.15.3 相关功能需求](#32153-相关功能需求)
        - [3.2.16 账户管理](#3216-账户管理)
            - [3.2.16.1 特性描述](#32161-特性描述)
            - [3.2.16.2 刺激/响应序列](#32162-刺激响应序列)
            - [3.2.16.3 相关功能需求](#32163-相关功能需求)
        - [3.2.17 制定收款单](#3217-制定收款单)
            - [3.2.17.1 特性描述](#32171-特性描述)
            - [3.2.17.2 刺激/响应序列](#32172-刺激响应序列)
            - [3.2.17.3 相关功能需求](#32173-相关功能需求)
        - [3.2.18 制定付款单](#3218-制定付款单)
            - [3.2.18.1 特性描述](#32181-特性描述)
            - [3.2.18.2 刺激/响应序列](#32182-刺激响应序列)
            - [3.2.18.3 相关功能需求](#32183-相关功能需求)
        - [3.2.19 制定现金费用单](#3219-制定现金费用单)
            - [3.2.19.1 特性描述](#32191-特性描述)
            - [3.2.19.2 刺激/响应序列](#32192-刺激响应序列)
            - [3.2.19.3 相关功能需求](#32193-相关功能需求)
        - [3.2.20 查看销售明细表](#3220-查看销售明细表)
            - [3.2.20.1 特性描述](#32201-特性描述)
            - [3.2.20.2 刺激/响应序列](#32202-刺激响应序列)
            - [3.2.20.3 相关功能需求](#32203-相关功能需求)
        - [3.2.21 查看经营历程表](#3221-查看经营历程表)
            - [3.2.21.1 特性描述](#32211-特性描述)
            - [3.2.21.2 刺激/响应序列](#32212-刺激响应序列)
            - [3.2.21.3 相关功能需求](#32213-相关功能需求)
        - [3.2.22 红冲](#3222-红冲)
            - [3.2.22.1 特性描述](#32221-特性描述)
            - [3.2.22.2 刺激/响应序列](#32222-刺激响应序列)
            - [3.2.22.3 相关功能需求](#32223-相关功能需求)
        - [3.2.23 查看经营情况表](#3223-查看经营情况表)
            - [3.2.23.1 特性描述](#32231-特性描述)
            - [3.2.23.2 刺激/响应序列](#32232-刺激响应序列)
            - [3.2.23.3 相关功能需求](#32233-相关功能需求)
        - [3.2.24 期初建账](#3224-期初建账)
            - [3.2.24.1 特性描述](#32241-特性描述)
            - [3.2.24.2 刺激/响应序列](#32242-刺激响应序列)
            - [3.2.24.3 相关功能需求](#32243-相关功能需求)
        - [3.2.25 财务人员响应通知](#3225-财务人员响应通知)
            - [3.2.25.1 特性描述](#32251-特性描述)
            - [3.2.25.2 刺激/响应序列](#32252-刺激响应序列)
            - [3.2.25.3 相关功能需求](#32253-相关功能需求)
        - [3.2.26 财务人员管理草稿箱](#3226-财务人员管理草稿箱)
            - [3.2.26.1 特性描述](#32261-特性描述)
            - [3.2.26.2 刺激/响应序列](#32262-刺激响应序列)
            - [3.2.26.3 相关功能需求](#32263-相关功能需求)
        - [3.2.27 单据审批](#3227-单据审批)
            - [3.2.27.1 特性描述](#32271-特性描述)
            - [3.2.27.2 刺激/响应序列](#32272-刺激响应序列)
            - [3.2.27.3 相关功能需求](#32273-相关功能需求)
        - [3.2.28 制定促销策略](#3228-制定促销策略)
            - [3.2.28.1 特性描述](#32281-特性描述)
            - [3.2.28.2 刺激/响应序列](#32282-刺激响应序列)
            - [3.2.28.3 相关功能需求](#32283-相关功能需求)
        - [3.2.29 查看日志](#3229-查看日志)
            - [3.2.29.1 特性描述](#32291-特性描述)
            - [3.2.29.2 刺激/响应序列](#32292-刺激响应序列)
            - [3.2.29.3 相关功能需求](#32293-相关功能需求)
        - [3.2.30 总经理管理草稿箱](#3230-总经理管理草稿箱)
            - [3.2.30.1 特性描述](#32301-特性描述)
            - [3.2.30.2 刺激/响应序列](#32302-刺激响应序列)
            - [3.2.30.3 相关功能需求](#32303-相关功能需求)
        - [3.2.31 管理用户账户](#3231-管理用户账户)
            - [3.2.31.1 特性描述](#32311-特性描述)
            - [3.2.31.2 刺激/响应序列](#32312-刺激响应序列)
            - [3.2.31.3 相关功能需求](#32313-相关功能需求)
    - [3.3  非功能需求](#33--非功能需求)
        - [3.3.1 安全性](#331-安全性)
        - [3.3.2 可维护性](#332-可维护性)
        - [3.3.3 易用性](#333-易用性)
        - [3.3.4 可靠性](#334-可靠性)
        - [3.3.5 业务规则](#335-业务规则)
        - [3.3.6 约束](#336-约束)
    - [3.4 数据需求](#34-数据需求)
        - [3.4.1 数据定义](#341-数据定义)
        - [3.4.2 数据格式](#342-数据格式)
    - [3.5 其他需求](#35-其他需求)
        - [3.5.1 安装需求](#351-安装需求)

<!-- /TOC -->

By Trap x00

# 0. 更新历史

| 修改人员 | 日期         | 变更原因      | 版本号  |
| ---- | ---------- | --------- | ---- |
| 全体成员 | 2017/9/26  | 完成模板      | V0.0 |
| 陈俊达  | 2017/10/2  | 完成非功能需求   | V0.1 |
| 陈俊达  | 2017/10/2  | 完成，第一个正式版 | V1.0 |
| 陈俊达  | 2017/10/17 | 修改响应通知用例  | V1.1 |

# 1. 引言

## 1.1 引言

本文档描述了用于某从事灯具照明行业的民营企业的进销存系统的功能需求以及非功能需求。

## 1.2 范围

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。现公司规模扩大，企业业务量、办公场所、员工数量都发生增加，需要适应新的环境，从而提高效率和用户满意度。

因此，本产品的目标为帮助这个企业为适应新的环境，提高工作效率和用户满意度。

# 2. 总体描述

## 2.1 商品前景

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。现公司规模扩大，企业业务量、办公场所、员工数量都发生增加，需要适应新的环境，从而提高效率和用户满意度。

本产品针对这一需求，提出一套相对科学有效的解决方案。这套系统包括一个服务器以及数个客户端，前者管理维护系统的所有数据。用户通过客户端远程与服务器交互，完成公司的各种事务。

## 2.2 业务需求

BR1. 系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

## 2.3 商品功能

SF1.  库存管理人员能进行商品分类管理、商品管理、库存查看和盘点，以及制定库存赠送单、库存报溢单、库存报损单和库存报警单的工作。

SF2. 进货销售人员能进行客户管理、制定进货单、进货退货单、销售单和销售退货单的工作。

SF3. 财务人员能进行账户管理、制定收款单、付款单、现金费用单、查看销售明细表、经营历程表、经营情况表、进行红冲和期初建账的工作。

SF4. 总经理能进行审批单据、查看销售明细表、经营历程表、经营情况表，还可以制定促销策略。

SF5. 管理员能管理用户账户的信息。

SF6. 系统主要操作都有日志进行记录，并对经理和财务人员提供查询功能。

SF7. 系统任何单据通过审批，就自动修改响应的数据，并发送消息通知有关人员。有关人员响应消息后，进行进一步操作。

SF8. 系统中所有单据都可以导出。

SF9. 所有用户都有属于自己的草稿箱用于存放未提交的草稿单据。所有用户可以在草稿箱中删除草稿、继续填写单据的操作。

## 2.4 用户特征

### 2.4.1 库存管理人员

库存管理人员有1到2名，他们负责对商品分类和商品的信息的管理。他们能够简单使用办公信息化系统。他们对新系统基本持积极态度，但不希望增加现有工作量。

### 2.4.2 进货销售人员

进货销售人员有4到8名，他们负责完成进货单和销售单。他们对新系统基本持积极态度，同样也不希望增加现有工作量。同时，销售人员分为销售员和销售经理。

### 2.4.3 财务人员

财务人员有1到2名，他们操作办公信息化系统的能力较强。他们对新系统基本持积极态度，不希望增加现有工作量。

### 2.4.4 总经理

总经理有2名，他们能熟练地使用办公信息化系统。他们对新系统持积极态度。

### 2.4.5 管理员

管理员有1名。他是专业的计算机相关人员，操作信息系统能力相当强。

## 2.5 约束

C1. 采用Java语言开发
C2. 用户远程使用系统
C3. 使用图形化界面操作

## 2.6 假设

AE1. 系统只有一个仓库。

# 3. 详细需求描述

## 3.1 对外接口需求

### 3.1.1 公用UI元素

UI1.1. 用户登录：每个用户（职员）都有自己的姓名、工号和密码，登录界面是打开系统显示的第一个界面，重新打开系统都需要登录。登录界面左方是公司的标志，下方表明本软件使用权归属。

![用户登录](/UI/登录界面.png)

UI1.3. 办公功能选择：用户登录后，根据职位不同，左栏功能选择只提供本职位可以进行的操作；当某一个功能有多个子功能可供选择时，子功能将在界面右边的业务选择里列出。上方菜单栏也提供相同的功能选择，以及文件处理，个人基础资料设置和帮助；当单据审批不通过时，右上方的通知按钮会提醒相关人员进行处理；搜索栏方便查询单据或日志。主界面最下方分别显示该操作人员上一次主要操作，当天时间，以及操作人员姓名。

![办公功能选择](/UI/主界面.png)

UI1.4. 系统消息提示：当系统需要告知用户一些信息时，消息对话框会弹出。用户阅读完提示消息后点击确认关闭对话框。

![系统消息提示](/UI/消息对话框.png)

UI1.5. 确认提交：当用户提交输入的信息时，确认对话框会弹出。确认对话框显示当前提交的信息，并询问是否确认提交。

![确认提交](/UI/确认对话框.png)

UI1.6. 查看单据详情：当双击某一条简略信息时，系统将弹出窗口显示信息的详情。下方会有多个按钮，若有进一步操作，将在这里显示。

![单据查看详情](UI/查表查看详情.png)



### 3.1.2 查看日志

UI2.1. 查看日志列表：用户在草稿箱主界面点击继续填写按钮，系统将会弹出确认继续填写的界面，里面会有草稿单据的详细信息。确认后，系统将引导进入对应单据的填写页面，并预先填充草稿信息。按下取消将会返回草稿列表界面。

![查看日志列表](/UI/查看日志列表.png)



UI2.2. 查看日志详情：用户双击某一条操作日志，系统将会弹出操作详情界面。中间的内容将是操作内容的所有信息（如果是对单据的操作则列出单据）），用户不能对操作日志进行修改，下方有返回按钮，点击返回按钮会关闭操作详情界面。参考UI1.6.



### 3.1.3 填写单据

UI3. 制定单据：库存管理人员、进货销售人员、财务人员都需要进行单据的制定，单据的制定样式，以下面的UI图为准。

UI3.1.填写/修改单据：用户在文本框中填写单据。

![修改单据](/UI/修改单据.png)

UI3.2.数据类型错误：当数据类型不正确时，会在响应的文本框之后出现红字提示“错误的数据类型”。

![修改单据（错误）](/UI/修改单据（错误）.png)

UI3.3.取消制定单据：当在**制定单据**页面点击**取消**按钮，会出现以下的弹出框，询问是否要存入草稿箱，若点击**存入**按钮，则本单据存入草稿箱，若点击**不存入**按钮，则回到**人员功能**主界面，若点击**取消**按钮，则回到**制定单据**页面。参考UI1.4.

![是否存入草稿箱](/UI/是否存入草稿箱.png)

UI3.3.1.存入成功：若存入成功，则弹出以下提示框，用户点击确认后回到**人员功能**主界面。参考UI1.4.

![存入成功](/UI/存入成功.png)

UI3.3.1.存入失败：若存入失败，则弹出以下提示框，用户点击确认后回到**人员功能**主界面。参考UI1.4.

![存入失败](/UI/存入失败.png)

UI2.4.确认提交单据：当在**制定单据**页面点击**提交**按钮，会出现以下的**确认提交单据**页面，询问是否确认提交，若点击**确认提交**按钮，则保存本单据，若点击**编辑**按钮，则回到**制定单据**界面。

![修改单确认提交单据据](/UI/确认提交单据.png)

UI2.4.1.提交成功：若提交成功，则弹出以下提示框，用户点击确认后回到**人员功能**主界面。参考UI1.4.

![提交成功](/UI/提交成功.png)

UI2.4.2.提交失败：若提交失败，则弹出以下提示框，用户点击确认后回到**人员功能**主界面。参考UI1.4.

![提交失败](/UI/提交失败.png)

### 3.1.4 查看单据

UI4. 查看单据：用户需要查看单据时，中间部分会列出所有单据的简要信息，用户可以选择一或多个单据进行导出报表操作。也可以双击某个单据，弹出单据详细信息，参考UI1.6.

![查看单据](/UI/查看单据.png)

### 3.1.5 处理通知

 UI5. 消息通知：所有用户都有自己的消息通知功能，从主界面点击上边栏消息进入消息通知主界面。其中中间列表显示所有通知信息。
 ![消息通知主界面](/UI/消息通知主界面.png)

 UI5.1. 查看通过单据的内容：用户点击分栏左侧的已通过，可得到通过单据列表，双击某一条单据，系统将在右侧分栏显示详细内容，并将单据状态转换为已读，下方有完成以及取消两个按钮。按下完成按钮，系统将通知删除。按下取消将会清空右边文本框内容，回到左侧单据列表。

 ![通过单据内容查看](/UI/已通过审批详细页面.png)

 UI5.2. 查看未通过单据的内容：用户点击分栏左侧的未通过，可得到未通过单据列表，双击某一条单据，系统将在右侧分栏显示详细内容，并将单据状态转换为已读，下方有修改以及废弃两个按钮。按下修改按钮，系统将跳转到单据填写页面修改单据内容。按下废弃按钮，系统弹出窗口提示“是否确认废弃”。

 ![未通过单据内容查看](/UI/未通过审批详细界面.png)

 UI5.2.1. 废弃单据：按下修改按钮，系统将跳转到单据填写页面修改单据内容。按下废弃按钮，系统弹出窗口提示“是否确认废弃”。系统显示未通过单据详细情况，用户点击确认废弃按钮。系统删除单据。参考UI1.5.
 ![确认废弃对话框](/UI/废弃确认框.png)
 UI5.2.1.1 废弃成功：将弹出如下消息通知框，并返回消息通知主界面。参考UI1.4.

 

 ![废弃成功](UI/废弃成功.png)

 UI5.2.1.2. 若废弃失败，将显示如下消息通知框，并返回消息通知主界面。参考UI1.4.

 

 ![废弃失败](UI/废弃失败.png)

 ### 3.1.6 管理草稿箱

UI6. 管理草稿箱：所有用户都有自己的草稿箱，从主界面选择草稿箱进入草稿箱主界面。其中中间列表为目前所有草稿单据。若单据有ID，则ID项将会显示单据；若无，ID项不显示。

![草稿箱主界面](/UI/草稿箱主界面.png)

UI6.1. 查看单据详细信息：用户双击某一条单据，系统将会弹出单据详情界面。中间的内容将是草稿单据的所有信息，下方有继续填写以及取消两个按钮。按下继续填写按钮，系统将会直接引导进入对应单据的填写界面，并预先填充草稿信息。按下取消将会返回草稿列表界面。参考UI1.6.

![单据详情](/UI/单据详情.png)

UI6.2. 继续填写：用户在草稿箱主界面点击继续填写按钮，系统将会弹出确认继续填写的界面，里面会有草稿单据的详细信息。确认后，系统将引导进入对应单据的填写页面，并预先填充草稿信息。按下取消将会返回草稿列表界面。参考UI1.6.

![继续填写确认](/UI/确认继续填写单据.png)

UI6.3. 删除草稿单据：用户在草稿箱主界面选中单据的复选框，然后点击删除选中，系统弹出以外确认删除对话框。在列表中双击某一项单据，将会弹出UI1.1的单据详情界面。按下取消将返回草稿箱主界面，并且保留选中项。

![确认删除对话框](/UI/确认删除单据.png)

UI6.3.1. 删除成功：将弹出如下消息通知框，并返回草稿箱主界面。参考UI1.4.

![草稿删除成功](UI/草稿删除成功.png)

UI6.3.2. 若删除失败，将显示如下消息通知框，并返回草稿箱主界面。参考UI1.4.

![草稿删除失败](UI/草稿删除失败.png)



UI6.4. 若继续填写单据，删除草稿单据失败时，将会弹出以下消息框。返回时将会回到单据填写界面。参考UI1.4.

![草稿单据删除失败](UI\草稿单据删除失败.png)





## 3.2 功能需求


### 3.2.1 商品分类管理

#### 3.2.1.1 特性描述
当库存管理人员需要进行商品分类管理，在库存管理人员得到识别和认证后，可以使用系统对商品进行分类管理，完成更新、添加或修改商品分类操作并且系统会自动保存变更日志。优先级为高

#### 3.2.1.2 刺激/响应序列

刺激：库存管理人员进入商品分类页面
响应：系统以列表形式显示所有商品分类
刺激：库存管理人员选择商品分类，进行删除操作
响应：系统更新商品分类信息和列表
刺激：库存管理人员在叶节点处添加新商品分类
响应：系统更新商品分类信息和列表
刺激：库存管理人员选择商品分类，修改该商品信息
响应：系统更新商品分类信息和列表
刺激：库存管理人员添加已存在的商品分类
响应:系统提示该分类已存在
刺激：库存管理人员在非叶节点处添加新商品分类
响应：系统提示不能在非叶节点处添加分类
刺激：库存管理人员删除含有商品的商品分类
响应：系统提示不能删除非空商品分类

#### 3.2.1.3 相关功能需求

| 编号                                     | 需求描述与度量                               |
| -------------------------------------- | ------------------------------------- |
| ProductManagement.Initialiation        | 系统首先应允库存管理人员进行商品分类管理（**输出**：商品分类管理界面） |
| ProductManagement.Initialiation.Cancel | 库存管理人员点击“返回”按键（**查询**），退出商品分类管理界面     |
| ProductManagement.Initialization.Log   | 记录日志（**逻辑文件**）                        |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| ProductManagement.Display                | 系统应允库存管理人员进行商品分类查看功能，并且进入商品分类管理时自动显示商品分类列表（按照分类创建顺序怕列）（**输出**） |
| ProductManagement.Display.Return         | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |
| **编号**                                   | **需求描述与度量**                              |
| ProductManagement.Detial                 | 当库存管理人员查看某一商品分类的信息时，选择该商品分类并点击商品分类名后(**输入**），系统将显示所选商品分类的名称、添加与最后修改时间、添加人员编号与名称、商品分类备注、商品分类的子类与父类名称以及一个包含此商品分类下所有所属商品的列表（**输出**）（逻辑文件） |
| ProductManagement.Detial.Modify          | 库存管理人员进入详细信息界面后修改商品分类信息 （**输入**）         |
| ProductManagement.Detial.Modify.Success  | 库存管理人员修改商品分类信息（**输入**）后点击保存，保存成功，系统弹出窗口提示“修改成功”（**输出**） |
| ProductManagement.Detial.Modify. Success.Log | 记录日志（**逻辑文件**）                           |
| ProductManagement.Detial.Modify.NullChoice.Wrong | 库存管理人员未选择商品分类即选择商品分类信息查看按键（**查询**），系统将弹窗"请选择商品分类"窗口提示（**输出**） |
| ProductManagement.Detail.Modify.NullName.Wrong | 库存管理人员在修改商品分类信息时，修改名称为空（**输入**），系统将弹窗“未命名”窗口提示（**输出**） |
| ProductManagement.Deatil.Modify.SameName.Wrong | 库存管理人员在修改商品分类信息时，填写已存在名称（**输入**），系统将弹窗“命名重复”窗口提示（**输出**） |
| 编号                                       | 需求描述与度量                                  |
| ProductManagement.Query                  | 库存管理人员输入筛选信息后查询商品分类(**查询**），系统以列表形式显示相关商品分类信息（**输出**） |
| 编号                                       | 需求描述与度量                                  |
| ProductManagement.Add                    | 系统应允库存管理人员进行添加新商品分类（**输出**：添加商品分类界面），库存管理人员选择某一商品分类后并在聚合按钮处点击“添加新商品分类”进入添加商品分类界面（**查询**） |
| ProductManagement.Add.Suceess            | 库存管理人员完成输入新商品分类信息（**输入**）后点击确定，系统弹出窗口提示“创建新分类成功”（**输出**） 并更新信息（逻辑文件） |
| ProductManagement.Add.Error              | 库存管理人员选择非叶节点商品分类并点击“添加新商品分类”按键(**插叙**），系统提示“不能在非叶节点处添加商品分类”（**输出**） |
| ProductManagement.Add.Cancel             | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（商品分类管理界面） |
| ProductManagement.Add.Samename.Wrong     | 库存管理人员输入已存在商品分类名称后点击确定。系统弹出窗口提示“已存在”（**输出**） |
| ProductManagement.Add.Success.Log        | 记录日志（**逻辑文件**）                           |
| 编号                                       | 需求描述与度量                                  |
| ProductManagement.Delete                 | 库存管理人员选择某一商品分类，并点击“删除商品分类”按键（**查询**）     |
| ProductManagement.Delete.Success         | 若此商品分类下无商品且无子分类，系统提示“删除成功！”（**输出**），更新商品分类信息（**逻辑文件**）。 |
| ProductManagement.Delete.Wrong           | 若此商品分类下有商品或有子分类，系统提示“删除失败！”（**输出**）      |
| ProductManagement.Delete.Success.Log     | 记录日志（**逻辑文件**）                           |
| ProductManagement.Delete.Cancel          | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（商品分类管理界面） |





### 3.2.2 商品管理

#### 3.2.2.1 特性描述

&emsp;当库存管理人员需要进行商品管理，在库存管理人员得到识别和认证后，可以使用系统对商品进行管理，完成增加、删除、修改或查询操作，完善操作并且系统会自动保存变更日志。
&emsp;优先级为高

#### 3.2.2.2 刺激/响应序列

&emsp;刺激：库存管理人员进入商品分类页面
&emsp;&emsp;响应：系统以列表形式显示所有商品分类
&emsp;刺激：库存管理人员选择进入某个叶节点商品分类
&emsp;&emsp;响应：系统以列表形式显示该叶节点下的所有商品
&emsp;刺激：库存管理人员在叶节点处添加新商品
&emsp;&emsp;响应：系统更新商品信息和列表
&emsp;刺激：库存管理人员选择某一商品，修改该商品信息
&emsp;&emsp;响应：系统更新商品信息和列表
&emsp;刺激：库存管理人员选择某一商品，删除该商品信息
&emsp;&emsp;响应: 系统更新商品信息和列表
&emsp;刺激：库存管理人员输入某一商品名称，进行查询操作
&emsp;&emsp;响应：系统弹出该商品信息窗口
&emsp;刺激：库存管理人员叶节点处添加已存在商品
&emsp;&emsp;响应：系统提示该商品已存在不能添加
&emsp;刺激:：库存管理人员查询某一不存在商品
&emsp;&emsp;响应：系统提示该商品不存在
&emsp;刺激：库存管理人员取消增加、删除、修改操作
&emsp;&emsp;响应：系统弹出确认窗口
&emsp;刺激：库存管理人员确认输入取消
&emsp;&emsp;响应： 系统提示取消成功

#### 3.2.2.3 相关功能需求

| 编号                                   | 需求描述与度量                           |
| ------------------------------------ | --------------------------------- |
| GoodsManagement.Initialiation        | 系统首先应允库存管理人员进行商品管理（**输出**：商品管理界面） |
| GoodsManagement.Initialiation.Cancel | 库存管理人员点击取消操作（**查询**），退出商品管理界面     |
| GoodsManagement.Initialization.Log   | 记录日志（**逻辑文件**）                    |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| GoodsManagement.Display                  | 系统应允库存管理人员进行商品查看功能，并且进入商品管理页面时自动显示商品分类和其所含商品列表（按照商品创建日期排列）（**输出**） |
| GoodsManagement.Display.Return           | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |
| 编号                                       | 需求描述与度量                                  |
| GoodsManagement.Detial                   | 当库存管理人员查看某一商品的信息时，选择该商品并点击商品名后(**查询**）,系统将显示所选商品的名称、商品编号、商品型号、商品库存数量、进价、零售价、最近进价、最近零售价、添加与最后修改时间、添加人员编号与名称、商品备注、警戒值、一个包含此商品最近进出货的列表以及一个包含此商品最近销售情况的列表（**输出**）(逻辑文件) |
| GoodsManagement.Detial.Modify            | 库存管理人员进入详细信息界面修改商品信息                     |
| GoodsManagement.Detial.Modify.Success    | 库存管理人员修改商品信息（**输**入）后点击保存，保存成功，系统弹出窗口提示“修改成功”（**输出**） |
| GoodsManagement.Detial. Success.Log      | 记录日志（**逻辑文件**）                           |
| GoodsManagement.Detial..NullChoice.Wrong | 库存管理人员未选择商品即选择商品信息查看按键，系统将弹窗"请选择商品"窗口提示（**输出**） |
| GoodsManagement.Detial.NullName.Wrong    | 库存管理人员在修改商品信息时，修改名称为空（**输入**），系统将弹窗“未命名”窗口提示（**输出**） |
| GoodsManagement.Detial.SameName.Wrong    | 库存管理人员在修改商品信息时，修改已存在名称（**输入**），系统将弹窗“命名重复”窗口提示（**输出**） |
| 编号                                       | 需求描述与度量                                  |
| GoodsManagement. Query                   | 库存管理人员输入筛选信息（**输入**）后查询商品，系统以列表形式显示相关商品信息（**输出**） |
| 编号                                       | 需求描述与度量                                  |
| GoodsManagement. Add                     | 系统应允库存管理人员进行添加新商品（**输出**：添加商品分类界面），库存管理人员选择某一商品分类后并在聚合按钮处点击“添加新商品”进入添加商品界面（**查询**） |
| GoodsManagement. Add.Suceess             | 库存管理人员完成输入新商品信息和警戒值（**输入**）后点击确定，系统弹出窗口提示“创建新商品成功”（**输出**） 并更新信息（逻辑文件） |
| GoodsManagement. Add.Error               | 库存管理人员未选择叶节点商品分类并点击“添加新商品分类”按键，系统提示“不能在非叶节点处添加商品”（**输出**） |
| GoodsManagement. Add.Cancel              | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（商品管理界面） |
| GoodsManagement. Add.Samename.Wrong      | 库存管理人员输入已存在商品名称后点击确定。系统弹出窗口提示“已存在”（**输出**） |
| GoodsManagement. Add.Success.Log         | 记录日志（**逻辑文件**）                           |
| 编号                                       | 需求描述与度量                                  |
| GoodsManagement. Delete                  | 库存管理人员选择某一商品，并点击“删除商品”按键（**查询**）         |
| GoodsManagement. Delete.Success          | 系统提示“删除成功！”（**输出**），更新商品分类信息（逻辑文件）。      |
| GoodsManagement. Delete.Wrong            | 未选择商品就点击“删除商品”按键（**查询**），提示“未选择需要删除商品”（**输出**） |
| GoodsManagement. Delete.Success.Log      | 记录日志（**逻辑文件**）                           |
| GoodsManagement. Delete.Cancel           | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（商品管理界面） |





### 3.2.3 库存查看

#### 3.2.3.1 特性描述

当库存管理人员需要进行库存查看，在库存管理人员得到识别和认证后，可以使用系统进行库存查看，并得到此时间段内库存数据和库存数量合计
优先级为中等

#### 3.2.3.2 刺激/相应序列

刺激：库存管理人员进入库存查看页面
响应：系统弹出时间段输入窗口
刺激：库存管理人员输入需要查询的时间段
响应：系统以列表形式显示当前时间段内的出/入库数量/金额，销售/进货的数量/金额并对库存数量进行合计
刺激：库存管理人员选择查看库存数量
响应：系统弹出系统数量显示框
刺激：库存管理人员输入不合法时间段
响应：系统提示输入时间段不合法，请重新输入

#### 3.2.3.3 相关功能需求

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InventoryCheck.Initialiation        | 系统首先应允库存管理人员进行库存查看（**输出**：库存查看界面）        |
| InventoryCheck.Initialiation.Cancel | 库存管理人员点击取消操作（**查询**），退出库存查看界面            |
| InventoryCheck.Initialization.Log   | 记录日志（**逻辑文件**）                           |
| 编号                                  | 需求描述与度量                                  |
| InventoryCheck.Display              | 系统应允库存管理人员进行库存查看功能，并且进入库存查看页面时自动所有日期库存文件（按照日期排列）（**输出**） |
| InventoryCheck.Display.Return       | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |
| 编号                                  | 需求描述与度量                                  |
| InventoryCheck.Check                | 系统应允库存管理人员设定一个时间段，查看此时间段内的出/入库数量/金额，销售/进货的数量/金额，并进行库存数量的合计 |
| InventoryCheck.Check .Success       | 库存管理人员设定时间段（**输入**）后点击保存，系统显示此时间段内的出/入库数量/金额，销售/进货的数量/金额（**输出**） |
| InventoryCheck.Check .Success.Sum   | 库存管理人员继续点击库存数量按键（**查询**），弹出当前时间段库存数量窗口（**输出**） |
| InventoryCheck.Check .Success.Log   | 记录日志（逻辑文件）                               |
| InventoryCheck.Check.Wrong          | 库存管理人员输入不合法的时间段，系统将弹窗“时间段不合法”窗口提示（**输出**） |
| InventoryCheck.Check.Cancel         | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（库存查看界面） |



### 3.2.4 库存盘点

#### 3.2.4.1 特性描述

当库存管理人员需要进行库存盘点，在库存管理人员得到识别和认证后，可使用系统进行库存盘点，并且导出Excel
优先级为中等

#### 3.2.4.2 刺激/相应序列

刺激：库存管理人员经过认证和识别后进入库存盘点页面
响应：系统以列表形式显示当日库存盘点
刺激：库存管理人员选择导出Excel
响应：系统弹出Excel保存位置窗口
刺激：库存管理人员输入导出位置
响应：系统导出Excel
刺激：库存管理人员输入不合法路径
响应：系统提示输入路径不合法，请重新输入

#### 3.2.4.3 相关功能需求

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InventoryCheck.Initialiation        | 系统首先应允库存管理人员进行库存盘点（**输出**：库存盘点界面）        |
| InventoryCheck.Initialiation.Cancel | 库存管理人员点击取消操作（**查询**），退出库存盘点界面            |
| InventoryCheck.Initialization.Log   | 记录日志（**逻辑文件**）                           |
| 编号                                  | 需求描述与度量                                  |
| InventoryCheck.Display              | 系统应允库存管理人员进行库存盘点功能，系统显示当天的库存快照，包括当天的各种库存的名称，型号，库存数量，实际数量、数量差额、库存均价、批次，批号，出场日期以及行号（**输出**）（逻辑文件） |
| InventoryCheck.Display.Return       | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |
| 编号                                  | 需求描述与度量                                  |
| InventoryCheck.Output               | 系统应允库存管理人员导出Excel表格，系统弹出导出位置窗口（**输出**）   |
| InventoryCheck.Output.Success       | 库存管理人员确定导出位置后（**输入**），系统导出Excel表格（**对外接口**） |
| InventoryCheck.Output.Error         | 库存管理人员输入不合法导出路径，系统提示“不合法路径”（**输出**）      |
| InventoryCheck.Output.Success.Log   | 记录日志（**逻辑文件**）                           |
| InventoryCheck.Output.Cancel        | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（库存盘点界面） |



### 3.2.5 商品赠送

#### 3.2.5.1 特性描述

当商品赠送策略制定完成，赠品条件促发后，在库存管理人员得到识别和认证后，收到消息提醒，进行商品赠送。
优先级为中等

#### 3.2.5.2 刺激/相应序列

刺激：库存管理人员进入消息页面
响应：系统以列表形式显示消息列表
刺激：库存管理人员打开审批通过的库存赠送单
响应：系统显示库存赠送单
刺激：库存管理人员进入商品页面
响应：系统显以列表显示商品
刺激：库存管理人员按照库存赠送单勾选需要赠送的赠品
响应：系统将该商品设置为赠送状态
刺激：库存管理人员取消勾选某一商品分类或某一商品
响应：系统将该商品分类全部商品或某一商品状态设置为未赠送状态
刺激：库存管理人员输入需要赠送商品的数量
响应：系统保存需要赠送的商品数量
刺激：库存管理人员选择需要赠送的客户
响应：系统保存需要赠送的客户
刺激：库存管理人员选择取消库存赠送单
响应：系统提示是否要取消库存赠送单
刺激: 库存管理人员选择确定取消库存赠送单
响应：系统不保存信息，直接退出
刺激：库存管理人员选择不取消库存赠送单
响应：系统返回，继续赠送商品
刺激：库存管理人员提交赠送商品
响应：系统弹出当前库存赠送商品列表和确认窗口
刺激:库存管理人员确定提交
响应：系统将赠品赠送出去，减去赠送数量更新库存，并显示成功信息，记录日志，
刺激:库存管理人员选择不确定提交
响应：系统返回，让库存管理人员继续进行赠送操作



#### 3.2.5.3 相关功能需求



| 编号                           | 需求描述与度量                                  |
| ---------------------------- | ---------------------------------------- |
| InventoryStaffReponse.Notify | 当有商品赠送单通过审批并且触发赠送条件后，系统应提示库存管理员（**输出**）。 |
| InventoryStaffReponse.Show   | 库存管理人员点开库存赠送单消息后（**查询**），系统以列表的形式显示需要的赠品和数量（**输出**）。 |

| 编号                        | 需求描述与度量                             |
| ------------------------- | ----------------------------------- |
| Gift.Initialiation        | 系统首先应允库存管理人员进行商品赠送界面（**输出**：商品赠送界面） |
| Gift.Initialiation.Cancel | 库存管理人员点击取消操作（**查询**），退出商品赠送界面       |
| Gift.Initialization.Log   | 记录日志（**逻辑文件**）                      |

| 编号                  | 需求描述与度量                                  |
| ------------------- | ---------------------------------------- |
| Gift.Display        | 系统应允库存管理人员进行商品赠送，系统显示所有商品分类以及其下属商品（**输出**）和通过自动生成的库存增送单（**输出**） |
| Gift.Display.Return | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| Gift.Choose              | 系统应允库存管理人员选择商品进行赠送                       |
| Gift.Choose.Undo         | 库存管理人员可以撤回上一步赠送的商品，系统更新当前商品赠送列表（**输出**）  |
| Gift.Choose.Redo         | 库存管理人员可以重做上一步撤回到赠送的商品，系统更新当前商品赠送列表（**输出**） |
| Gift.Choose.Number       | 库存管理人员输入需要赠送的商品数量（**输入**）,系统记录数量         |
| Gift.Choose.Number.Error | 输入数量超过当前库存中该商品数量，提示“数量不符合实际”（**输出**）     |
| Gift.Choose.Success      | 库存管理人员确定赠送商品，系统提示“赠送成功”（**输出**）并更新库存减去赠送商品数量 |
| Gift.Choose.Success.Log  | 记录文件（**逻辑文件**）                           |
| Gift.Choose.Cancel       | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（库存赠送单界面） |





### 3.2.6 库存监控

#### 3.2.6.1 特性描述

当库存数量比实际数量多/低，或者低于警戒数量时，提醒库存管理人员保持库存数量与实际数量相同，并提醒及时进货
优先级为高

#### 3.2.6.2 刺激/相应序列

刺激：库存管理人员进入消息页面
响应：系统以列表形式显示消息列表
刺激：库存管理人员打开消息
响应：系统显示消息内容
刺激：库存管理人员进入库存监控界面
响应：系统以列表形式显示各商品库存数量、现实数量与警戒值
刺激：库存选中某一数量比实际多的商品进行报溢并输入实际数量
响应：系统将该商品添加进报溢单，更新商品数量
刺激：库存选中某一数量比实际少的商品进行报损并输入实际数量
响应：系统将该商品添加进报损单，更新商品数量
刺激：库存选中某一数量比警戒值少的商品进货处理
响应：系统将该商品添加进报警单，更新商品数量
刺激：库存管理人员选择为进货商品设置警戒值
响应：系统更新该商品信息，记录警戒值
刺激：库存管理人员提交报溢/报损/报警单
响应：系统弹出当前库存报溢/报损/报警单和确认窗口
刺激：库存管理人员确定提交
响应：系统建立库存报溢/报损/报警单，并显示成功信息，记录日志，并将单送至总经理审核
刺激：库存管理人员选择不确定提交
响应：系统返回，让用户继续填写
刺激：库存管理人员保存草稿
响应：系统保存草稿，记录日志，并返回主界面
刺激：库存管理人员保存草稿出错
响应：系统提示保存出错，并返回库存监控页面，保留所有信息
刺激：库存管理人员不保存草稿
响应：系统丢弃报损/报溢/报警单信息，返回人员功能主界面
刺激：库存管理人员取消退出
响应：系统返回库存监控界面，保留所有信息
刺激：库存管理人员按下撤回键
响应：系统撤回刚刚操作
刺激：库存管理人员按下重做键
响应：系统重做刚才操作



#### 3.2.6.3 相关功能需求

| 编号                                    | 需求描述与度量                                  |
| ------------------------------------- | ---------------------------------------- |
| InventoryWarning.Initialiation        | 系统首先应允库存管理人员进行库存监控（**输出**：库存监控界面）        |
| InventoryWarning.Initialiation.Cancel | 库存管理人员点击取消操作（**查询**），退出库存监控界面            |
| InventoryWarning.Initialization.Log   | 记录日志（**逻辑文件**）                           |
| 编号                                    | 需求描述与度量                                  |
| InventoryWarning.Display              | 系统应允库存管理人员建立库存报溢/报损/报警单，系统显示所有商品的实际数量、库存数量、警戒值（**输出**），并显示报溢/报损/报警单（**输出**） |
| InventoryWarning.Display.Return       | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |
| 编号                                    | 需求描述与度量                                  |
| InventoryWarning.Choose.Lower         | 系统应允库存管理人员选择系统数量少于实际数量的商品，完成进货，修改数量 （**输入**），系统自动将其加入报损单（**逻辑文件**），更新报损单（**输出**） |
| InventoryWarning.Choose.Higher        | 系统应允库存管理人员选择系统数量多于实际数量的商品，修改数量 （**输入**），系统自动将其加入报溢单（**逻辑文件**） ，更新报溢单（**输出**） |
| InventoryWarning.Choose.Warning       | 系统应允库存管理人员选择低于警戒值的商品，完成进货，修改数量（**输入**），系统自动将其加入报警单（**逻辑文件**），更新报警单（**输出**） |
| InventoryWarning.Choose.Success       | 库存管理人员确定提交报溢/报损/报警单，系统提示“提交成功”（**输出**）并发送总经理审批 |
| InventoryWarning.Choose.Success.Log   | 记录文件（**逻辑文件**）                           |
| InventoryWarning.Choose.Cancel        | 库存管理人员点击“取消”（**查询**），并确认取消后，返回上一级界面（库存报警单界面） |
| 编号                                    | 需求描述与度量                                  |
| InventoryWarning.Modify               | 库存管理人员可以选择商品，修改警戒值（**输入**），系统更新商品信息和列表（**输出**） |
| InventoryWarning.Modify.Undo          | 库存管理人员点击Undo(**查询**)可以撤回上一步修改警戒值的商品和其恢复原有警戒数量（**输出**） |
| InventoryWarning.Modify.Redo          | 库存管理人员点击Redo(**查询**）可以重做上一步设置的警戒值，系统更新（**输出**） |
| 编号                                    | 需求描述与度量                                  |
| InventoryWarning.Cancel               | 当库存管理人员返回并未提交报损/报溢/报警单操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| InventoryWarning.Cancel.Backup        | 当库存管理人员选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| InventoryWarning.Cancel.Backup.Failed | 当库存管理人员需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。库存管理人员确认后，应保留信息，退回库存监控页面。 |
| InventoryWarning.Cancel.Backup.Log    | 当库存管理人员确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |
| InventoryWarning.Cancel.NoBackup      | 当库存管理人员户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| InventoryWarning.Cancel.Back          | 当库存管理人员放弃放弃操作时（**查询**），系统应回到库存监控页面。      |



### 3.2.7 库存管理人员响应通知

#### 3.2.7.1 特性描述

当进出货单通过审批时，在库存管理人员得到识别和认证后，库存管理人员可进行进出货操作
优先级为较高

#### 3.2.7.2 刺激/相应序列

刺激：库存管理人员点击**通知**按钮
响应：系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果或者内容。

刺激：库存管理人员点击刷新按钮。

响应：系统更新库存信息并显示。

刺激：库存管理人员双击进出货通知，点开阅读
响应：系统显示**进出货单详细情况**页面，将该消息设置为已读。
刺激：库存管理人员确认完成进出货，点击**完成**按钮
响应：系统将通知删除，系统记录进出货日志



#### 3.2.7.3 相关功能需求

| 编号                           | 需求描述与度量                                  |
| ---------------------------- | ---------------------------------------- |
| InventoryStaffReponse.Update | 用户进入界面或者点击刷新按钮（**查询**）后，系统应更新库存信息（**逻辑文件**）并显示（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InventoryStaffResponse.Show              | 用库存管理人员点击信息按键（**查询**），系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果（**输出**）。 |
| InventoryStaffResponse.Show.Success      | 系统显示**已通过进出货单详细情况**或者**通知内容**页面,显示该单的所有信息或者消息内容（**输出**）。 |
| InventoryStaffResponse.Show.Operate      | 库存管理人员完成进出货操作，并在完成后点击确认“**进出货完成**”按键（**查询**），系统将通知删除（**逻辑文件**） 。 |
| InventoryStaffResponse.Show.Operate.Success | 系统提示进出货完成（**输出**） 。                      |
| InventoryStaffResponse.Show.Fail.Abandon | 当库存管理人员选择丢弃某一进出货单据时（**查询**），系统让库存管理人员确认丢弃进出货单据操作（**输出**）。 |
| InventoryStaffResponse.Show.Fail.Abandon.Confirmed | 当用户确认操作时（**查询**），系统应丢弃单据（**逻辑文件**），并给出操作完成信息（**输出**）。 |
| InventoryStaffResponse.Show.Fail.Abandon.Back | 当用户放弃丢弃操作时，系统返回上一个界面。                    |
| InventoryStaffResponse.Show.Fail.Abandon.Log | 当进行丢弃操作后，系统记录日志（**逻辑文件**）。               |
| InventoryStaffResponse.Show.Return       | 库存管理人员点击“返回”按钮（**查询**），返回主界面（库存管理人员管理首页） |



### 3.2.8 库存管理人员管理草稿箱

#### 3.2.8.1 特性描述

库存管理人员可以在登录后，进入到草稿箱，查看并修改草稿内容。
优先级为中等

#### 3.2.8.2刺激/相应序列

刺激：库存管理人员点击草稿箱按钮进入页面后，输入筛选信息以查询未填写的报损/报溢/报警单
响应：系统返回符合筛选条件的单据信息
刺激：库存管理人员点击一条备份信息
响应：系统弹出一个备份详细信息页面，页面显示该备份的详细信息
刺激：库存管理人员点击取消按钮
响应：系统回到草稿箱界面
刺激：库存管理人员点击继续填写按钮
响应：系统应尝试读取后，删除备份信息，若成功，进入到库存监控界面继续进行商品添加，若失败，系统应弹出错误提示，库存管理人员点击确认按钮后，回到草稿箱界面
刺激：处于草稿箱界面，库存管理人员选择多选框后点击删除按钮
响应：系统显示确认备份删除界面弹出窗口显示预计删除备份的简略信息，并提示库存管理人员确认删除
刺激：处于确认备份删除界面，库存管理人员点击一条备份
响应：系统弹出一个备份删除详细信息页面，页面显示该备份的详细信息
刺激：处于备份删除详细信息界面，库存管理人员点击确认按钮
响应：系统回到确认备份删除界面
刺激：处于确认备份删除界面，库存管理人员点击确认删除按钮
响应：系统删除被选中的备份信息，若成功删除，则弹出提示框，提示成功删除，并计入日志，库存管理人员点击确认后返回草稿箱界面，若库存管理人员确认删除备份但是操作失败，系统应弹出错误提示，库存管理人员点击确认后返回草稿箱界面

#### 3.2.8.3 相关功能需求

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InventoryDraftBackup.Show                | 库存管理人员点击**草稿箱**按钮，系统显示**草稿箱**界面（**逻辑文件**），包含**库存报损单、库存报溢单、库存报警单** {列举你的所有需要填写的单据或者表}，并在每一项前显示多选框，其中单据显示**时间，单据名，ID** （**查询、输出**）。 |
| InventoryDraftBackup.Show.Select         | 库存管理人员点击一条备份，系统弹出一个**备份详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**继续填写**和**取消**按钮 |
| InventoryDraftBackup.Show.Select.Cancel  | 库存管理人员点击**取消**按钮（**查询**）后，系统关闭本窗口，并回到**草稿箱**界面。 |
| InventoryDraftBackup.Show.Select.Confirmed | 库存管理人员点击**继续填写**按钮（**查询**）后，系统应尝试读取后，删除备份信息（**逻辑文件**）。 |
| InventoryDraftBackup.Show.Select.Confirmed.Success | 如果删除成功，应恢复这个备份信息（**输出**），进入到**库存监控**界面，参见3.2.6。 |
| InventoryDraftBackup.Show.Select.Confirmed.Failed | 如果系统在读取备份单据时出现错误，或者读取后删除失败时，系统应弹出错误提示（**输出**），并让库存管理人员确认。库存管理人员确认后退出恢复备份的流程，进入**草稿箱**界面。 |
| InventoryDraftBackup.Show.Delete         | 库存管理人员选择多选框点击删除（**查询**）按钮，系统显示**确认备份删除**界面弹出窗口显示预计删除备份的简略信息，（**输出**），并提示库存管理人员**确认删除**。 |
| InventoryDraftBackup.Show.Delete.Detail  | 库存管理人员点击一条备份，系统弹出一个**备份删除详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**确认**按钮。 |
| InventoryDraftBackup.Show.Delete.Detail.Back | 库存管理人员点击**确认**按钮（查询），系统回到**确认备份删除**界面。   |
| InventoryDraftBackup.Show.Delete.Confirmed | 若库存管理人员点击**确认删除**（**查询**）按钮，系统删除被选中的备份信息（**逻辑文件**）。 |
| InventoryDraftBackup.Show.Delete.Confirmed.Success | 若系统成功删除，则弹出提示框（**输出**），提示成功删除，库存管理人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| InventoryDraftBackup.Show.Delete.Confirmed.Failed | 若库存管理人员确认删除备份但是操作失败，系统应弹出错误提示（**输出**），库存管理人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| InventoryDraftBackup.Show.Delete.Confirmed.Failed | 若库存管理人员确认删除备份但是操作失败，系统应弹出错误提示（**输出**），库存管理人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| InventoryDraftBackup.Show.Delete.Confirmed.Log | 库存管理人员确认了删除备份，则无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |

### 3.2.9 客户管理

#### 3.2.9.1 特性描述

进货销售人员可以在登录后，对客户信息进行增删改查的管理。

优先级=低

#### 3.2.9.2 刺激/响应序列

刺激：进货销售人员点击**客户管理**按钮进入页面后，输入筛选信息以查询客户

响应：系统进入**客户信息**页面，显示符合筛选条件的简略客户信息（分类、级别、姓名、电话）

刺激：处于**客户信息**页面，进货销售人员点击一条客户信息

响应：系统进入**客户详细信息**页面，显示该客户的所有信息，包括**分类（进货商、销售商）、级别（五级，一级普通客户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员**

刺激：处于**客户详细信息**页面，进货销售人员点击**确认**按钮

响应：系统返回**客户信息**页面

刺激：进货销售人员勾选客户信息前的多选框后，点击**删除**按钮

响应：系统进入**确认删除客户**页面，显示客户简略信息

刺激：处于**确认删除客户**页面，进货销售人员点击一条客户信息

响应：系统进入**客户删除详细信息**页面，显示该客户的所有信息

刺激：处于**客户删除详细信息**页面，进货销售人员点击**确定**按钮

响应：系统返回**确认删除客户**页面

刺激：处于**确认删除客户**页面，进货销售人员点击**确认删除**按钮

响应：系统删除选中的客户信息，若成功，则系统弹出提示框，提示成功删除，进货销售人员点击**确认**按钮，回到**客户信息**页面，若失败，则系统弹出提示框，提示删除失败，进货销售人员点击**确认**按钮，回到**客户信息**页面

刺激：处于**客户信息**页面，进货销售人员点击**添加客户**按钮

响应：系统进入**修改客户信息**页面，显示一张空白可修改的客户信息表

刺激：处于**客户信息**页面，进货销售人员点击**修改信息**按钮

响应：系统进入到**修改客户信息**页面，以可修改的方式显示所有客户信息

刺激：处于**修改客户信息**页面，进货销售人员点击**取消**按钮

响应：系统弹出提示框，提示是否要存入存入草稿箱，若点击**存入**按钮，则将此客户信息表存入草稿箱，系统弹出提示框，提示存入是否成功，进货销售人员点击**确认**按钮，系统回到**客户信息**页面，若点击**不存入**按钮，则回到**客户信息**页面，若点击**取消**按钮，则回到**修改客户信息**界面

刺激：处于**修改客户信息**页面，进货销售人员修改客户信息

响应：系统检查输入数据格式，若错误，则在该项旁显示错误，若正确，不显示

刺激：处于**修改客户信息**页面，进货销售人员修改完客户信息，点击**提交**按钮

响应：系统检查输入数据格式，若错误，则弹出提示框，提示错误的客户信息格式，若正确，进入**确认客户信息**页面

刺激：处于**确认客户信息**页面，进货销售人员点击**编辑**按钮

响应：系统返回**修改客户信息**页面

刺激：处于**确认客户信息**页面，进货销售人员点击**确认提交**按钮

响应：系统保存修改的客户信息，若保存成功，则系统弹出提示框，提示保存成功，进货销售人员点击**确认**按钮后，返回到**客户信息**页面，若保存失败，则系统弹出提示框，提示保存失败，进货销售人员点击**确认**按钮后，返回到**客户信息**页面

#### 3.2.9.3 相关功能需求

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| ClientManagement.Show       | 系统进入**客户信息**页面，显示所有客户简略信息，包括**分类（进货商、销售商）、级别（五级，一级普通客户，五级VIP客户）、姓名、电话** （**输出**、**查询**、**逻辑文件**） |
| ClientManagement.Show.Query | 进货销售人员在搜索栏输入筛选信息后即时查询客户，在**客户信息**页面筛选出需要的那一条或几条（**逻辑文件**、**查询**、**输出**） |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| ClientManagement.Show.Detail      | 进货销售人员点击一条客户信息后，系统显示单个客户的详细信息，包括**分类（进货商、销售商）、级别（五级，一级普通客户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员，以及修改记录的销售人员编号** （**查询**、**输出**、**逻辑文件**） |
| ClientManagement.Show.Detail.Back | 进货销售人员点击**确认**按钮（**查询**），系统返回**客户信息**页面(**输出**) |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| ClientManagement.Show.Modify             | 进货销售人员点击**修改信息**按钮，进入**修改客户信息**界面后修改客户信息（**输出**、**输入**） |
| ClientManagement.Show.Modify.Cancel      | 进货销售人员进入**修改客户信息**界面后，点击**取消**按钮（**查询**），系统弹出提示框（**输出**），提示是否要存入存入草稿箱 |
| ClientManagement.Show.Modify.Cancel.Backup | 若点击**存入**按钮（**查询**），则将此客户信息表存入草稿箱（**逻辑文件**） |
| ClientManagement.Show.Modify.Cancel.Backup.Success | 若系统成功将客户信息表存入草稿箱，则弹出提示框（**输出**），提示存入成功，进货销售人员点击**确认**按钮（**查询**），则回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Cancel.Backup.Success.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Modify.Cancel.Backup.Failure | 若系统将客户信息表存入草稿箱失败，则弹出提示框（**输出**），提示存入失败，进货销售人员点击**确认**按钮（**查询**），则回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Cancel.Backup.Failure.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Modify.Cancel.Nobackup | 点击**不存入**按钮（**查询**），回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Cancel.Back | 点击**取消**按钮（**查询**），回到**修改客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Validate    | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。 |
| ClientManagement.Show.Modify.WrongFormat | 进货销售人员修改客户信息后点击保存，但是数据类型错误，系统弹出窗口提示“数据类型错误，保存失败，请正确输入”（**输出**） |
| ClientManagement.Show.Modify.Success     | 进货销售人员修改客户信息后点击**提交**按钮（**查询**），系统进入**确认客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Success.Confirm | 进货销售人员处于**确认客户信息**界面，点击**确认提交**按钮（**查询**） |
| ClientManagement.Show.Modify.Success.Confirm.Success | 系统成功保存客户信息（**逻辑文件**），则弹出提示框（**输出**），提示成功保存，进货销售人员点击**确认**按钮后回到**客户信息**界面（**查询**） |
| ClientManagement.Show.Modify.Success.Confirm.Success.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Modify.Success.Confirm.Failure | 系统保存客户信息失败（**逻辑文件**），则弹出提示框（**输出**），提示保存失败，进货销售人员点击**确认**按钮后回到**客户信息**界面（**查询**） |
| ClientManagement.Show.Modify.Success.Confirm.Failure.Log | 记录日志（**逻辑文件**）                           |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| ClientManagement.Show.Delete             | 进货销售人员处于**客户信息**界面，在勾选多选框后点击**删除**按钮（**查询**），系统进入**确认删除客户**界面，显示客户简略信息（**输出**） |
| ClientManagement.Show.Delete.Detail      | 进货销售人员处于**确认删除客户**界面，进货销售人员点击一条客户信息（**查询**）,系统进入**客户删除详细信息**页面，显示该客户的所有信息（**输出**） |
| ClientManagement.Show.Delete.Detail.Back | 进货销售人员处于**客户删除详细信息**界面，进货销售人员点击**确认**按钮（**查询**），系统回到**确认删除客户**界面（**输出**） |
| ClientManagement.Show.Delete.Success     | 进货销售人员处于**确认删除客户**界面，点击**确认删除按钮**按钮，并系统成功删除，则系统弹出窗口提示“删除成功”（**逻辑文件**、**查询**、**输出**），进货销售人员点击**确认**按钮后（**查询**），回到**客户信息**页面（**输出**） |
| ClientManagement.Show.Delete.Success.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Delete.Failure     | 进货销售人员处于**确认删除客户**界面，点击**确认删除按钮**按钮，但系统删除失败，则系统弹出窗口提示“删除失败”（**逻辑文件**、**查询**、**输出**），进货销售人员点击**确认**按钮后（**查询**），回到**客户信息**页面（**输出**） |
| ClientManagement.Show.Delete.Failure.Log | 记录日志（**逻辑文件**）                           |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| ClientManagement.Show.Add                | 进货销售人员处于**客户信息**界面，点击**添加客户**按钮，系统进入**修改客户信息**界面（**查询**、**输出**） |
| ClientManagement.Show.Add.Cancel         | 进货销售人员进入**修改客户信息**界面后，点击**取消**按钮（**查询**），系统弹出提示框（**输出**），提示是否要存入存入草稿箱 |
| ClientManagement.Show.Add.Cancel.Backup  | 若点击**存入**按钮（**查询**），则将此客户信息表存入草稿箱（**逻辑文件**） |
| ClientManagement.Show.Add.Cancel.Backup.Success | 若系统成功将客户信息表存入草稿箱，则弹出提示框（**输出**），提示存入成功，进货销售人员点击**确认**按钮（**查询**），则回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Add.Cancel.Backup.Success.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Add.Cancel.Backup.Failure | 若系统将客户信息表存入草稿箱失败，则弹出提示框（**输出**），提示存入失败，进货销售人员点击**确认**按钮（**查询**），则回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Add.Cancel.Backup.Failure.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Modify.Cancel.Nobackup | 点击**不存入**按钮（**查询**），回到**客户信息**界面（**输出**） |
| ClientManagement.Show.Modify.Cancel.Back | 点击**取消**按钮（**查询**），回到**修改客户信息**界面（**输出**） |
| ClientManagement.Show.Add.Validate       | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。 |
| ClientManagement.Show.Add.WrongFormat    | 进货销售人员修改客户信息后点击保存，但是数据类型错误，系统弹出窗口提示“数据类型错误，保存失败，请正确输入”（**输出**） |
| ClientManagement.Show.Add.Success        | 进货销售人员修改客户信息后点击**提交**按钮（**查询**），系统进入**确认客户信息**界面（**输出**） |
| ClientManagement.Show.Add.Success.Confirm | 进货销售人员处于**确认客户信息**界面，点击**确认提交**按钮（**查询**） |
| ClientManagement.Show.Add.Success.Confirm.Success | 系统成功保存客户信息（**逻辑文件**），则弹出提示框（**输出**），提示成功保存，进货销售人员点击**确认**按钮后回到**客户信息**界面（**查询**） |
| ClientManagement.Show.Add.Success.Confirm.Success.Log | 记录日志（**逻辑文件**）                           |
| ClientManagement.Show.Add.Success.Confirm.Failure | 系统保存客户信息失败（**逻辑文件**），则弹出提示框（**输出**），提示保存失败，进货销售人员点击**确认**按钮后回到**客户信息**界面（**查询**） |
| ClientManagement.Show.Add.Success.Confirm.Failure.Log | 记录日志（**逻辑文件**）                           |

### 3.2.10 制定进货单

#### 3.2.10.1 特性描述

进货销售人员可以在登录后，制定新的进货单。

优先级=高

#### 3.2.10.2 刺激/响应序列

刺激：进货销售人员要求填写进货单。

响应：系统提供已经填写了编号和操作员信息的进货单。

刺激：进货销售人员输入信息。

响应：系统检查数据格式。

刺激：进货销售人员点击提交。

响应：系统弹出确认窗口。

刺激：进货销售人员确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：进货销售人员不确认，返回继续输入。

响应：系统返回，让进货销售人员继续填写。

刺激：进货销售人员取消输入。

响应：系统询问进货销售人员是否要保存草稿。

刺激：进货销售人员保存草稿。

响应：系统保存草稿，记录日志，并返回人员功能主界面。

刺激：进货销售人员保存草稿出错。

响应：系统提示保存出错，并返回填写界面，保留所有信息。

刺激：进货销售人员不保存草稿。

响应：系统丢弃单据信息，返回人员功能主界面。

刺激：进货销售人员取消退出。

响应：系统返回填写界面，保留所有信息。

刺激：系统点击复位按钮。

响应：系统提示进货销售人员是否撤销修改。

刺激：进货销售人员确认。

响应：系统撤销进货销售人员的修改。

刺激：进货销售人员不确认。

响应：系统返回。

刺激：进货销售人员按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：进货销售人员按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.10.3 相关功能需求

| 编号                           | 需求描述与度量                             |
| ---------------------------- | ----------------------------------- |
| PurchaseBill.Prompt          | 进货销售人员进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| PurchaseBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。       |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| PurchaseBill.Input          | 系统应允许进货销售人员填写信息（**输入**）。                 |
| PurchaseBill.Input.Validate | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。进货销售人员输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| PurchaseBill.Cancel               | 当进货销售人员放弃操作时（**查询**），系统弹出窗口，应提示进货销售人员进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| PurchaseBill.Cancel.Backup        | 当进货销售人员选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| PurchaseBill.Cancel.Backup.Failed | 当进货销售人员需要保存草稿单据但是操作失败后，系统应弹出窗口提示进货销售人员操作失败，并显示具体原因（**输出**）。进货销售人员确认后，应保留信息，退回填写单据页面。 |
| PurchaseBill.Cancel.Backup.Log    | 当进货销售人员确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |
| PurchaseBill.Cancel.NoBackup      | 当进货销售人员选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| PurchaseBill.Cancel.Back          | 当进货销售人员放弃放弃操作时（**查询**），系统应回到填写单据页面。      |

| 编号                                    | 需求描述与度量                                  |
| ------------------------------------- | ---------------------------------------- |
| PurchaseBill.Submit.Review            | 当进货销售人员填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让进货销售人员复查。 |
| PurchaseBill.Submit.Confirmed         | 当进货销售人员确认时（**查询**），系统应提交当前单据（**逻辑文件**）。  |
| PurchaseBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| PurchaseBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| PurchaseBill.Submit.Confirmed.Log     | 进货销售人员确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**） |
| PurchaseBill.Submit.Back              | 当进货销售人员需要继续修改时（**查询**），系统应返回填表页面让进货销售人员继续填写。 |

| 编号                           | 需求描述与度量                                  |
| ---------------------------- | ---------------------------------------- |
| PurchaseBill.Reset           | 当进货销售人员点击复位按钮的时候（**查询**），系统应提示进货销售人员是否要复位全部信息（**输出**）。 |
| PurchaseBill.Reset.Confirmed | 当进货销售人员点击确认按钮时（**查询**），系统应复位当前信息。        |
| PurchaseBill.Reset.Back      | 当进货销售人员点击返回按钮的时候（**查询**），系统应返回到填表页面让进货销售人员继续填写。 |

| 编号                | 需求描述与度量                                  |
| ----------------- | ---------------------------------------- |
| PurchaseBill.Undo | 进货销售人员按下回撤快捷键（**查询**）时，系统应回撤进货销售人员刚才做的修改。 |

| 编号                | 需求描述与度量                                  |
| ----------------- | ---------------------------------------- |
| PurchaseBill.Redo | 进货销售人员按下重做快捷键（**查询**）时，系统应重做进货销售人员刚才做的修改。 |

### 3.2.11 制定进货退货单

#### 3.2.11.1 特性描述

进货销售人员可以在登录后，制定新的进货退货单。

优先级=高

#### 3.2.11.2 刺激/响应序列

刺激：进货销售人员要求填写进货退货单。

响应：系统提供已经填写了编号和操作员信息的进货退货单。

刺激：进货销售人员输入信息。

响应：系统检查数据格式。

刺激：进货销售人员点击提交。

响应：系统弹出确认窗口。

刺激：进货销售人员确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：进货销售人员不确认，返回继续输入。

响应：系统返回，让进货销售人员继续填写。

刺激：进货销售人员取消输入。

响应：系统询问进货销售人员是否要保存草稿。

刺激：进货销售人员保存草稿。

响应：系统保存草稿，记录日志，并返回人员功能主界面。

刺激：进货销售人员保存草稿出错。

响应：系统提示保存出错，并返回填写界面，保留所有信息。

刺激：进货销售人员不保存草稿。

响应：系统丢弃单据信息，返回人员功能主界面。

刺激：进货销售人员取消退出。

响应：系统返回填写界面，保留所有信息。

刺激：系统点击复位按钮。

响应：系统提示进货销售人员是否撤销修改。

刺激：进货销售人员确认。

响应：系统撤销进货销售人员的修改。

刺激：进货销售人员不确认。

响应：系统返回。

刺激：进货销售人员按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：进货销售人员按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.11.3 相关功能需求

| 编号                                 | 需求描述与度量                             |
| ---------------------------------- | ----------------------------------- |
| PurchaseRefundBill.Prompt          | 进货销售人员进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| PurchaseRefundBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。       |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| PurchaseRefundBill.Input          | 系统应允许进货销售人员填写信息（**输入**）。                 |
| PurchaseRefundBill.Input.Validate | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。进货销售人员输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                      | 需求描述与度量                                  |
| --------------------------------------- | ---------------------------------------- |
| PurchaseRefundBill.Cancel               | 当进货销售人员放弃操作时（**查询**），系统弹出窗口，应提示进货销售人员进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| PurchaseRefundBill.Cancel.Backup        | 当进货销售人员选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| PurchaseRefundBill.Cancel.Backup.Failed | 当进货销售人员需要保存草稿单据但是操作失败后，系统应弹出窗口提示进货销售人员操作失败，并显示具体原因（**输出**）。进货销售人员确认后，应保留信息，退回填写单据页面。 |
| PurchaseRefundBill.Cancel.Backup.Log    | 当进货销售人员确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |
| PurchaseRefundBill.Cancel.NoBackup      | 当进货销售人员选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| PurchaseRefundBill.Cancel.Back          | 当进货销售人员放弃放弃操作时（**查询**），系统应回到填写单据页面。      |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| PurchaseRefundBill.Submit.Review         | 当进货销售人员填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让进货销售人员复查。 |
| PurchaseRefundBill.Submit.Confirmed      | 当进货销售人员确认时（**查询**），系统应提交当前单据（**逻辑文件**）。  |
| PurchaseRefundBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| PurchaseRefundBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| PurchaseRefundBill.Submit.Confirmed.Log  | 进货销售人员确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**） |
| PurchaseRefundBill.Submit.Back           | 当进货销售人员需要继续修改时（**查询**），系统应返回填表页面让进货销售人员继续填写。 |

| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| PurchaseRefundBill.Reset           | 当进货销售人员点击复位按钮的时候（**查询**），系统应提示进货销售人员是否要复位全部信息（**输出**）。 |
| PurchaseRefundBill.Reset.Confirmed | 当进货销售人员点击确认按钮时（**查询**），系统应复位当前信息。        |
| PurchaseRefundBill.Reset.Back      | 当进货销售人员点击返回按钮的时候（**查询**），系统应返回到填表页面让进货销售人员继续填写。 |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| PurchaseRefundBill.Undo | 进货销售人员按下回撤快捷键（**查询**）时，系统应回撤进货销售人员刚才做的修改。 |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| PurchaseRefundBill.Redo | 进货销售人员按下重做快捷键（**查询**）时，系统应重做进货销售人员刚才做的修改。 |

### 3.2.12 制定销售单

#### 3.2.12.1 特性描述

进货销售人员可以在登录后，制定新的销售单。

优先级=高

#### 3.2.12.2 刺激/响应序列

刺激：进货销售人员要求填写销售单。

响应：系统提供已经填写了编号和操作员信息的销售单。

刺激：进货销售人员输入信息。

响应：系统检查数据格式。

刺激：进货销售人员点击提交。

响应：系统弹出确认窗口。

刺激：进货销售人员确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：进货销售人员不确认，返回继续输入。

响应：系统返回，让进货销售人员继续填写。

刺激：进货销售人员取消输入。

响应：系统询问进货销售人员是否要保存草稿。

刺激：进货销售人员保存草稿。

响应：系统保存草稿，记录日志，并返回人员功能主界面。

刺激：进货销售人员保存草稿出错。

响应：系统提示保存出错，并返回填写界面，保留所有信息。

刺激：进货销售人员不保存草稿。

响应：系统丢弃单据信息，返回人员功能主界面。

刺激：进货销售人员取消退出。

响应：系统返回填写界面，保留所有信息。

刺激：系统点击复位按钮。

响应：系统提示进货销售人员是否撤销修改。

刺激：进货销售人员确认。

响应：系统撤销进货销售人员的修改。

刺激：进货销售人员不确认。

响应：系统返回。

刺激：进货销售人员按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：进货销售人员按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.12.3 相关功能需求

| 编号                       | 需求描述与度量                             |
| ------------------------ | ----------------------------------- |
| SaleBill.Prompt          | 进货销售人员进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| SaleBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。       |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| SaleBill.Input          | 系统应允许进货销售人员填写信息（**输入**）。                 |
| SaleBill.Input.Validate | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。进货销售人员输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| SaleBill.Cancel               | 当进货销售人员放弃操作时（**查询**），系统弹出窗口，应提示进货销售人员进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| SaleBill.Cancel.Backup        | 当进货销售人员选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| SaleBill.Cancel.Backup.Failed | 当进货销售人员需要保存草稿单据但是操作失败后，系统应弹出窗口提示进货销售人员操作失败，并显示具体原因（**输出**）。进货销售人员确认后，应保留信息，退回填写单据页面。 |
| SaleBill.Cancel.Backup.Log    | 当进货销售人员确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |
| SaleBill.Cancel.NoBackup      | 当进货销售人员选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| SaleBill.Cancel.Back          | 当进货销售人员放弃放弃操作时（**查询**），系统应回到填写单据页面。      |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| SaleBill.Submit.Review            | 当进货销售人员填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让进货销售人员复查。 |
| SaleBill.Submit.Confirmed         | 当进货销售人员确认时（**查询**），系统应提交当前单据（**逻辑文件**）。  |
| SaleBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| SaleBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| SaleBill.Submit.Confirmed.Log     | 进货销售人员确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**） |
| SaleBill.Submit.Back              | 当进货销售人员需要继续修改时（**查询**），系统应返回填表页面让进货销售人员继续填写。 |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| SaleBill.Reset           | 当进货销售人员点击复位按钮的时候（**查询**），系统应提示进货销售人员是否要复位全部信息（**输出**）。 |
| SaleBill.Reset.Confirmed | 当进货销售人员点击确认按钮时（**查询**），系统应复位当前信息。        |
| SaleBill.Reset.Back      | 当进货销售人员点击返回按钮的时候（**查询**），系统应返回到填表页面让进货销售人员继续填写。 |

| 编号            | 需求描述与度量                                  |
| ------------- | ---------------------------------------- |
| SaleBill.Undo | 进货销售人员按下回撤快捷键（**查询**）时，系统应回撤进货销售人员刚才做的修改。 |

| 编号            | 需求描述与度量                                  |
| ------------- | ---------------------------------------- |
| SaleBill.Redo | 进货销售人员按下重做快捷键（**查询**）时，系统应重做进货销售人员刚才做的修改。 |

### 3.2.13 制定销售退货单

#### 3.2.13.1 特性描述

进货销售人员可以在登录后，制定新的销售退货单。

优先级=高

#### 3.2.13.2 刺激/响应序列

刺激：进货销售人员要求填写销售退货单。

响应：系统提供已经填写了编号和操作员信息的销售退货单。

刺激：进货销售人员输入信息。

响应：系统检查数据格式。

刺激：进货销售人员点击提交。

响应：系统弹出确认窗口。

刺激：进货销售人员确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：进货销售人员不确认，返回继续输入。

响应：系统返回，让进货销售人员继续填写。

刺激：进货销售人员取消输入。

响应：系统询问进货销售人员是否要保存草稿。

刺激：进货销售人员保存草稿。

响应：系统保存草稿，记录日志，并返回人员功能主界面。

刺激：进货销售人员保存草稿出错。

响应：系统提示保存出错，并返回填写界面，保留所有信息。

刺激：进货销售人员不保存草稿。

响应：系统丢弃单据信息，返回人员功能主界面。

刺激：进货销售人员取消退出。

响应：系统返回填写界面，保留所有信息。

刺激：系统点击复位按钮。

响应：系统提示进货销售人员是否撤销修改。

刺激：进货销售人员确认。

响应：系统撤销进货销售人员的修改。

刺激：进货销售人员不确认。

响应：系统返回。

刺激：进货销售人员按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：进货销售人员按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.13.3 相关功能需求

| 编号                             | 需求描述与度量                             |
| ------------------------------ | ----------------------------------- |
| SaleRefundBill.Prompt          | 进货销售人员进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| SaleRefundBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。       |

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| SaleRefundBill.Input          | 系统应允许进货销售人员填写信息（**输入**）。                 |
| SaleRefundBill.Input.Validate | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。进货销售人员输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| SaleRefundBill.Cancel               | 当进货销售人员放弃操作时（**查询**），系统弹出窗口，应提示进货销售人员进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| SaleRefundBill.Cancel.Backup        | 当进货销售人员选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| SaleRefundBill.Cancel.Backup.Failed | 当进货销售人员需要保存草稿单据但是操作失败后，系统应弹出窗口提示进货销售人员操作失败，并显示具体原因（**输出**）。进货销售人员确认后，应保留信息，退回填写单据页面。 |
| SaleRefundBill.Cancel.Backup.Log    | 当进货销售人员确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |
| SaleRefundBill.Cancel.NoBackup      | 当进货销售人员选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| SaleRefundBill.Cancel.Back          | 当进货销售人员放弃放弃操作时（**查询**），系统应回到填写单据页面。      |

| 编号                                      | 需求描述与度量                                  |
| --------------------------------------- | ---------------------------------------- |
| SaleRefundBill.Submit.Review            | 当进货销售人员填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让进货销售人员复查。 |
| SaleRefundBill.Submit.Confirmed         | 当进货销售人员确认时（**查询**），系统应提交当前单据（**逻辑文件**）。  |
| SaleRefundBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| SaleRefundBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。进货销售人员确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| SaleRefundBill.Submit.Confirmed.Log     | 进货销售人员确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**） |
| SaleRefundBill.Submit.Back              | 当进货销售人员需要继续修改时（**查询**），系统应返回填表页面让进货销售人员继续填写。 |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| SaleRefundBill.Reset           | 当进货销售人员点击复位按钮的时候（**查询**），系统应提示进货销售人员是否要复位全部信息（**输出**）。 |
| SaleRefundBill.Reset.Confirmed | 当进货销售人员点击确认按钮时（**查询**），系统应复位当前信息。        |
| SaleRefundBill.Reset.Back      | 当进货销售人员点击返回按钮的时候（**查询**），系统应返回到填表页面让进货销售人员继续填写。 |

| 编号                  | 需求描述与度量                                  |
| ------------------- | ---------------------------------------- |
| SaleRefundBill.Undo | 进货销售人员按下回撤快捷键（**查询**）时，系统应回撤进货销售人员刚才做的修改。 |

| 编号                  | 需求描述与度量                                  |
| ------------------- | ---------------------------------------- |
| SaleRefundBill.Redo | 进货销售人员按下重做快捷键（**查询**）时，系统应重做进货销售人员刚才做的修改。 |

### 3.2.14 进货销售人员响应通知

#### 3.2.14.1 特性描述

进货销售人员可以在登录后，查看到审批消息，并作出响应。

优先级=中

#### 3.2.14.2 刺激/响应序列

刺激：进货销售人员点击**通知**按钮。

响应：系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果或者内容。

刺激：进货销售人员点击刷新按钮。

响应：系统刷新审批信息并显示。

刺激：进货销售人员双击一条单据信息。

响应：系统显示**单据详细情况**页面。

刺激：系统显示已通过单据详细情况，进货销售人员点击**完成**按钮。

响应：系统将通知删除。

刺激：系统显示已通过单据详细情况，进货销售人员点击**取消**按钮。

响应：系统回到**审批信息**页面。

刺激：系统显示未通过单据详细情况，进货销售人员点击**修改**按钮。

响应：系统进入**修改单据**界面。

刺激：系统显示**修改单据**页面，进货销售人员完成修改单据，点击**提交**按钮。

响应：系统显示**确认提交表单**页面。

刺激：进货销售人员点击**确认提交**按钮。

响应：系统保存表单，并弹出窗口提示保存信息。

刺激：系统显示未通过单据详细情况，进货销售人员点击**废弃**按钮。

响应：系统弹出窗口提示**“是否确认废弃”。**

刺激：系统显示未通过单据详细情况，进货销售人员点击**确认废弃**按钮。

响应：系统删除单据。

#### 3.2.14.3 相关功能需求

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| SaleStaffReponse.Update | 用户进入界面或者点击刷新按钮（**查询**）后，系统应更新库存信息（**逻辑文件**）并显示（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| SaleStaffResponse.Show                   | 根据通知类型，系统显示**审批信息**或者**消息内容**页面，审批信息页面显示单据编号和审批结果，消息内容页面显示消息内容（**输出**）。 |
| SaleStaffResponse.Show.Success           | 系统显示**已通过单据详细情况**页面,显示该单据的所有信息或者消息内容（**输出**）。 |
| SaleStaffResponse.Show.Success.Finish    | 系统进入**已通过单据详细情况**页面,进货销售人员点击**完成**按钮（**查询**），系统将通知删除（**逻辑文件**）。 |
| SaleStaffResponse.Show.Failed            | 系统显示**未通过单据详细情况**页面,显示该单据的所有信息（**输出**） 。 |
| SaleStaffResponse.Show.Failed.Modify     | 系统进入**修改单据**界面，系统显示可修改的单据信息（**输出**）。进货销售人员输入新内容（**输入**）。 |
| SaleStaffResponse.Show.Failed.Modify.Validate | 在进货销售人员填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。进货销售人员输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |
| SaleStaffResponse.Show.Failed.Modify.Submit.Review | 进货销售人员修改完单据后，点击提交按钮（**查询**）后，系统显示单据，进入**确认提交表单**页面。 |
| SaleStaffResponse.Show.Failed.Modify.Submit.Confirm | 进货销售人员确认提交表单（**查询**），系统提交单据（**逻辑文件**），并显示成功信息（**输出**）。 |
| SaleStaffResponse.Show.Failed.Modify.Submit.Back | 进货销售人员不确认提交，系统返回上一个页面。                   |
| SaleStaffResponse.Show.Failed.Modify.Submit.Log | 如果进货销售人员提交了单据，则记录日志（**逻辑文件**）。           |
| SaleStaffResponse.Show.Failed.Abandon    | 当进货销售人员选择丢弃某一单据时（**查询**），系统让进货销售人员确认丢弃单据操作（**输出**）。 |
| SaleStaffResponse.Show.Failed.Abandon.Confirmed | 当进货销售人员确认操作时（**查询**），系统应丢弃单据（**逻辑文件**），并给出操作完成信息（**输出**）。 |
| SaleStaffResponse.Show.Failed.Abandon.Back | 当进货销售人员放弃丢弃操作时，系统返回上一个界面。                |
| SaleStaffResponse.Show.Failed.Abandon.Log | 当进行丢弃操作后，系统记录日志（**逻辑文件**）。               |

### 3.2.15 进货销售人员管理草稿箱

#### 3.2.15.1 特性描述

进货销售人员可以在登录后，进入到草稿箱，查看并修改草稿内容。

优先级=中

#### 3.2.15.2 刺激/响应序列

刺激：进货销售人员点击**草稿箱**按钮进入页面后，输入筛选信息以查询客户

响应：系统返回符合筛选条件的客户信息

刺激：进货销售人员 点击一条备份信息

响应：系统弹出一个**备份详细信息**页面，页面显示该备份的详细信息

刺激：进货销售人员点击**取消**按钮

响应：系统回到**草稿箱**界面

刺激：进货销售人员点击**继续填写**按钮

响应：系统应尝试读取后，删除备份信息，若成功，进入到**继续填写信息**界面，若失败，系统应弹出错误提示，进货销售人员点击**确认**按钮后，回到**草稿箱**界面

刺激：处于**草稿箱**界面，进货销售人员选择多选框后点击**删除**按钮

响应：系统显示**确认备份删除**界面弹出窗口显示预计删除备份的简略信息，并提示进货销售人员**确认删除**

刺激：处于**确认备份删除**界面，进货销售人员点击一条备份

响应：系统弹出一个**备份删除详细信息**页面，页面显示该备份的详细信息

刺激：处于**备份删除详细信息**界面，进货销售人员点击**确认**按钮

响应：系统回到**确认备份删除**界面

刺激：处于**确认备份删除**界面，进货销售人员点击**确认删除**按钮

响应：系统删除被选中的备份信息，若成功删除，则弹出提示框，提示成功删除，并计入日志，进货销售人员点击确认后返回**草稿箱**界面，若进货销售人员确认删除备份但是操作失败，系统应弹出错误提示，进货销售人员点击确认后返回**草稿箱**界面

#### 3.2.15.3 相关功能需求

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| SaleStaffDraftBackup.Show                | 进货销售人员点击**草稿箱**按钮，系统显示**草稿箱**界面（**逻辑文件**），包含**客户信息草稿、进货单草稿、进货销售单草稿、销售单草稿、销售退货单草稿** {列举你的所有需要填写的单据或者表}，并在每一项前显示多选框，其中单据显示**时间，单据名，ID** ，客户信息显示**客户姓名，分类**（**查询、输出**）。 |
| SaleStaffDraftBackup.Show.Select         | 进货销售人员点击一条备份，系统弹出一个**备份详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**继续填写**和**取消**按钮 |
| SaleStaffDraftBackup.Show.Select.Cancel  | 进货销售人员点击**取消**按钮（**查询**）后，系统关闭本窗口，并回到**草稿箱**界面。 |
| SaleStaffDraftBackup.Show.Select.Confirmed | 进货销售人员点击**继续填写**按钮（**查询**）后，系统应尝试读取后，删除备份信息（**逻辑文件**）。 |
| SaleStaffDraftBackup.Show.Select.Confirmed.Success | 如果删除成功，应恢复这个备份信息（**输出**），进入到**继续填写信息**界面，参见{列举你的填表的功能点编号，根功能点就行}。 |
| SaleStaffDraftBackup.Show.Select.Confirmed.Failed | 如果系统在读取备份单据时出现错误，或者读取后删除失败时，系统应弹出错误提示（**输出**），并让进货销售人员确认。进货销售人员确认后退出恢复备份的流程，进入**草稿箱**界面。 |
| SaleStaffDraftBackup.Show.Delete         | 进货销售人员选择多选框点击删除（**查询**）按钮，系统显示**确认备份删除**界面弹出窗口显示预计删除备份的简略信息，（**输出**），并提示进货销售人员**确认删除**。 |
| SaleStaffDraftBackup.Show.Delete.Detail  | 进货销售人员点击一条备份，系统弹出一个**备份删除详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**确认**按钮。 |
| SaleStaffDraftBackup.Show.Delete.Detail.Back | 进货销售人员点击**确认**按钮（查询），系统回到**确认备份删除**界面。   |
| SaleStaffDraftBackup.Show.Delete.Confirmed | 若进货销售人员点击**确认删除**（**查询**）按钮，系统删除被选中的备份信息（**逻辑文件**）。 |
| SaleStaffDraftBackup.Show.Delete.Confirmed.Success | 若系统成功删除，则弹出提示框（**输出**），提示成功删除，进货销售人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| SaleStaffDraftBackup.Show.Delete.Confirmed.Failed | 若进货销售人员确认删除备份但是操作失败，系统应弹出错误提示（**输出**），进货销售人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| SaleStaffDraftBackup.Show.Delete.Confirmed.Failed | 若进货销售人员确认删除备份但是操作失败，系统应弹出错误提示（**输出**），进货销售人员点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| SaleStaffDraftBackup.Show.Delete.Confirmed.Log | 若进货销售人员确认了删除备份，则无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |


### 3.2.16 账户管理

#### 3.2.16.1 特性描述

财务人员可以在登录后，可以查询公司账户；如果当前财务人员具有最高权限，那么用户可以进行增删改的操作。

优先级=高

#### 3.2.16.2 刺激/响应序列

刺激：用户输入筛选信息以查询账户。

响应：系统返回符合筛选条件的账户信息。

刺激：用户选定一个账户进行删除操作。

响应：系统删除账户，并记录日志。

刺激：用户修改账户属性。

响应：系统修改账户属性，并记录日志。

刺激：用户输入账户信息，并增加一个账户。

响应：系统根据这些信息新建一个账户，并记录日志。

刺激：用户点击取消按钮。

响应：系统返回人员功能主界面。

#### 3.2.16.3 相关功能需求

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Select.Prompt   | 系统首先应允许用户选择所需操作（**输出**：选择操作界面）。          |
| AccountManagement.Select.Selected | 用户选择操作后（**查询**），应进入相关操作界面，参见AccountManagement.Create, AccountManagement.Modify以及AccountMnagement.Delete（**输出**）。 |
| AccountManagement.Cancel          | 用户点击取消操作（**查询**），应退回人员功能主界面。             |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| AccountManagement.Query.Start  | 进入查询界面后，系统应给出可用的筛选条件选项让用户填写（**输出**）。     |
| AccountManagement.Query.Input  | 用户应可以输出筛选条件（**输入**）。                     |
| AccountManagement.Query.Error  | 若用户输入的筛选条件不合法，系统应给予错误提示并拒绝处理（**输出**）。    |
| AccountManagement.Query.Output | 用户填写筛选条件后，系统应输出符合条件的账户信息（**输出**）。        |
| AccountManagement.Query.Select | 用户应可以选择某个账户（**查询**）以进行下一步操作，并且对选择操作进行响应，参见AccountManagement.Delete, AccountMangement.Modify。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AccountManagement.Create.NoAccess        | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Create.Start           | 进入新增账户界面后，系统应弹出窗口，应给出需要填写的信息（**账户名称和余额**）让用户填写（**输出**）。 |
| AccountManagement.Create.Input           | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Create.Validate        | 在用户填写的过程中，系统应实时检查用户输入的数据格式是否正确。若不正确，应立刻在输入框旁边提示用户（**输出**）。 |
| AccountManagement.Create.Submit.Review   | 用户填写完毕点击确认按钮（**查询**）后，系统应弹出一个窗口显示新账户信息（**输出**），并请求用户确认。 |
| AccountManagement.Create.Submit.Confirmed | 当用户确认（**查询**）后，系统应保存修改的账户信息（**逻辑文件**）。   |
| AccountManagement.Create.Submit.Confirmed.Success | 若系统保存成功，则弹出操作成功窗口（**输出**）。用户确认后，关闭总览弹出窗口，回到主窗口。 |
| AccountManagement.Create.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| AccountManagement.Create.Submit.Confirmed.Log | 若用户确认了新增账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AccountManagement.Create.Submit.Back     | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到账号创建的窗口。    |
| AccountManagement.Create.Cancel          | 用户取消操作（**查询**）后，系统应丢弃所有修改，直接关闭创建账户窗口，退回到账户查询页面。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AccountManagement.Modify.NoAccess        | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Modify.Start           | 用户选择一个账户（参见AccountManagement.Query.Select）并点击修改按钮（**查询**），系统应弹出窗口，显示账户信息（**账户名称**），让客户修改（**输出**）。 |
| AccountManagement.Modify.Input           | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Modify.Validate        | 在用户填写的过程中，系统应实时检查用户输入的数据格式是否正确。若不正确，应立刻在输入框旁边提示用户（**输出**）。 |
| AccountManagement.Modify.Submit.Review   | 用户填写完毕点击确认按钮（**查询**）后，系统应弹出一个窗口显示新账户信息（**输出**），并请求用户确认。 |
| AccountManagement.Modify.Submit.Confirmed | 当用户确认后，系统应保存修改的账户信息（**逻辑文件**）。           |
| AccountManagement.Modify.Submit.Confirmed.Success | 若系统保存成功，则弹出操作成功窗口（**输出**）。用户确认后，关闭所有弹出窗口，回到查询账户页面。 |
| AccountManagement.Modify.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。 |
| AccountManagement.Modify.Submit.Confirmed.Log | 若用户确认了修改账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AccountManagement.Modify.Submit.Back     | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到修改账户页面。     |
| AccountManagement.Modify.Cancel          | 用户取消操作（**查询**）后，系统应关闭修改账户窗口，退回到查询账户页面。   |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AccountManagement.Delete.NoAccess        | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Delete.Confirm         | 用户选择一个账户（参见AccountManagement.Query.Select）并点击删除按钮（**查询**），系统应弹出窗口，显示账户信息以及提示，让用户确认操作（**输出**）。 |
| AccountManagement.Delete.Confirm.Confirmed | 用户确认（**查询**）后，系统删除相关账户信息（**逻辑文件**）。      |
| AccountManagement.Delete.Confirm.Confirmed.Success | 如果系统操作成功完成，则系统应弹出窗口提示删除成功（**输出**）。       |
| AccountManagement.Delete.Confirm.Confirmed.Failure | 如果系统操作没有完成，则系统应弹出窗口提示删除失败，并显示具体的错误原因（包括余额不为0等错误）（**输出**）。 |
| AccountManagement.Delete.Confirm.Confirmed.Log | 若用户确认了删除账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AccountManagement.Delete.Confirm.Back    | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到查询账户的页面。    |

### 3.2.17 制定收款单

#### 3.2.17.1 特性描述

财务人员可以在登录后，制定新的收款单并提交审核。

优先级=高

#### 3.2.17.2 刺激/响应序列

刺激：用户要求填写收款单。

响应：系统提供已经填写了编号和操作员信息的收款单。如果有备份保存，则恢复备份。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示操作成功或者失败信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，回到人员功能主界面。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.17.3 相关功能需求

| 编号                           | 需求描述与度量                         |
| ---------------------------- | ------------------------------- |
| ReceivalBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| ReceivalBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。   |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| ReceivalBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| ReceivalBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| ReceivalBill.Cancel                | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| ReceivalBill.Cancel.Backup         | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| ReceivalBill.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写单据页面。 |
| ReceivalBill.Cancel.NoBackup       | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| ReceivalBill.Cancel.Back           | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |

| 编号                                    | 需求描述与度量                                  |
| ------------------------------------- | ---------------------------------------- |
| ReceivalBill.Submit.Review            | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| ReceivalBill.Submit.Confirmed         | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**）。      |
| ReceivalBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。用户确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| ReceivalBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| ReceivalBill.Submit.Confirmed.Log     | 用户确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**）   |
| ReceivalBill.Submit.Back              | 当用户需要继续修改时（**查询**），系统应返回填表页面让用户继续填写。     |

| 编号                | 需求描述与度量                           |
| ----------------- | --------------------------------- |
| ReceivalBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号                | 需求描述与度量                           |
| ----------------- | --------------------------------- |
| ReceivalBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

| 编号                           | 需求描述与度量                                  |
| ---------------------------- | ---------------------------------------- |
| ReceivalBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| ReceivalBill.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| ReceivalBill.Reset.Back      | 当系统不确认（**查询**）的时候，系统应返回到填表页面让用户继续填写。     |



### 3.2.18 制定付款单

#### 3.2.18.1 特性描述

财务人员可以在登录后，制定新的付款单并提交审核。

优先级=中

#### 3.2.18.2 刺激/响应序列

刺激：用户要求填写付款单。

响应：系统提供已经填写了编号和操作员信息的付款单。如果有备份保存，则恢复备份。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示操作成功或者失败信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，回到人员功能主界面。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.18.3 相关功能需求

| 编号                          | 需求描述与度量                         |
| --------------------------- | ------------------------------- |
| PaymentBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| PaymentBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。   |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| PaymentBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| PaymentBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| PaymentBill.Cancel                | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| PaymentBill.Cancel.Backup         | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| PaymentBill.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写单据页面。 |
| PaymentBill.Cancel.NoBackup       | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| PaymentBill.Cancel.Backup.Log     | 当用户确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。  |
| PaymentBill.Cancel.Back           | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |

| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| PaymentBill.Submit.Review            | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| PaymentBill.Submit.Confirmed         | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**）。      |
| PaymentBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。用户确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| PaymentBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| PaymentBill.Submit.Confirmed.Log     | 用户确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**）   |
| PaymentBill.Submit.Back              | 当用户需要继续修改时（**查询**），系统应返回填表页面让用户继续填写。     |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| PaymentBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| PaymentBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| PaymentBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| PaymentBill.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| PaymentBill.Reset.Back      | 当系统不确认（**查询**）的时候，系统应返回到填表页面让用户继续填写。     |

### 3.2.19 制定现金费用单

#### 3.2.19.1 特性描述

财务人员可以在登录后，制定新的现金费用单并提交审核。

优先级=中

#### 3.2.19.2 刺激/响应序列

刺激：用户要求填写现金费用单。

响应：系统提供已经填写了编号和操作员信息的现金费用单。如果有备份保存，则恢复备份。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交账，并显示操作成功或者失败信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统询问用户是否要保存草稿。

刺激：用户保存草稿。

响应：系统保存草稿，记录日志，并返回人员功能主界面。

刺激：用户保存草稿出错。

响应：系统提示保存出错，并返回填写界面，保留所有信息。

刺激：用户不保存草稿。

响应：系统丢弃单据信息，返回人员功能主界面。

刺激：用户取消退出。

响应：系统返回填写界面，保留所有信息。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.19.3 相关功能需求

| 编号                       | 需求描述与度量                         |
| ------------------------ | ------------------------------- |
| CashBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| CashBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。   |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| CashBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| CashBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| CashBill.Cancel                | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| CashBill.Cancel.Backup         | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| CashBill.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写单据页面。 |
| CashBill.Cancel.Backup.Log     | 当用户确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。  |
| CashBill.Cancel.NoBackup       | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| CashBill.Cancel.Back           | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| CashBill.Submit.Review            | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| CashBill.Submit.Confirmed         | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**）。      |
| CashBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。用户确认后，关闭总览弹出窗口，回到填写单据界面并重新加载。 |
| CashBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| CashBill.Submit.Confirmed.Log     | 用户确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**）   |
| CashBill.Submit.Back              | 当用户需要继续修改时（**查询**），系统应返回填表页面让用户继续填写。     |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| CashBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| CashBill.Reset.Confirmed | 当用户点击确认按钮时（**查询**），系统应复位当前信息。            |
| CashBill.Reset.Back      | 当用户点击返回按钮的时候（**查询**），系统应返回到填表页面让用户继续填写。  |

| 编号            | 需求描述与度量                           |
| ------------- | --------------------------------- |
| CashBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号            | 需求描述与度量                           |
| ------------- | --------------------------------- |
| CashBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

### 3.2.20 查看销售明细表

#### 3.2.20.1 特性描述

财务人员或总经理可以在登录后，查看销售明细表。

优先级=中

#### 3.2.20.2 刺激/响应序列

刺激：用户要求查询销售明细表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户填写筛选条件信息

响应；系统检查条件信息数据合法性，如果不合法，在旁边显示提示。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的销售出货单据记录，显示**时间（精确到天），商品名，型号，数量，单价，总额。**。

刺激：用户双击某条记录。

响应：系统弹出记录的详细信息，包含单据的所有内容，包括**时间（精确到天），商品名，型号，数量，单价，总额。**。

刺激：用户点击确认。

响应：系统退回表单页面。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表，并记录日志。如果导出出错，系统弹出错误信息，并继续流程。

#### 3.2.20.3 相关功能需求

| 编号                | 需求描述与度量                                  |
| ----------------- | ---------------------------------------- |
| SaleDetail.Prompt | 用户进入相关界面后，系统应给出需要填写的筛选信息（时间区间，商品名，客户，业务员，仓库）（**输出**）。 |

| 编号                        | 需求描述与度量                                  |
| ------------------------- | ---------------------------------------- |
| SaleDetail.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| SaleDetail.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                | 需求描述与度量                   |
| ----------------- | ------------------------- |
| SaleDetail.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| SaleDetail.Output        | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的商品销售记录（**逻辑文件**），并显示给用户（需要包含**时间（精确到天），商品名，型号，数量，单价，总额。**）（**输出**）。 |
| SaleDetail.Output.Select | 当用户选择一个单据并双击时（**查询**），系统应弹出窗口，显示商品销售记录的详细信息（需要包含**时间（精确到天），商品名，型号，数量，单价，总额。**）（**输出**）。用户确认后，系统应回到列表界面。 |

| 编号                               | 需求描述与度量                                  |
| -------------------------------- | ---------------------------------------- |
| SaleDetail.Export.Prompt         | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| SaleDetail.Export.Select         | 系统应允许用户选择需要导出的条目（**输入**）。                |
| SaleDetail.Export.Export         | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| SaleDetail.Export.Export.Success | 若导出文件成功，系统应提示导出成功（**输出**）。用户确认后，系统返回表格界面。 |
| SaleDetail.Export.Export.Failure | 若导出文件出现错误，系统应弹出提示框提示操作失败以及失败原因（**输出**）。用户确认后，系统返回表格界面。 |
| SaleDetail.Export.Log            | 用户导出后，无论有没有出现错误，系统应记录日志（**逻辑文件**）。       |
| SaleDetail.Export.Cancel         | 当用户取消操作后（**查询**），系统应返回列表。                |

### 3.2.21 查看经营历程表

#### 3.2.21.1 特性描述

财务人员或总经理可以在登录后，查看经营历程表。

优先级=中

#### 3.2.21.2 刺激/响应序列

刺激：用户要求查询经营历程表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户填写筛选条件信息（时间区间，单据类型，客户，业务员，仓库）。

响应；系统检查条件信息数据合法性，如果不合法，在旁边显示提示。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的单据记录，显示简略信息（时间，单据类型以及ID）。

刺激：用户双击某条单据记录。

响应：系统弹出单据记录的详细信息，包含单据的所有内容。

刺激：用户点击确认。

响应：系统退回表单页面。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表，并记录日志。如果导出出错，系统弹出错误信息，并继续流程。

#### 3.2.21.3 相关功能需求

| 编号                  | 需求描述与度量                                  |
| ------------------- | ---------------------------------------- |
| TradeHistory.Prompt | 用户进入相关界面后，系统应给出需要填写的筛选信息（时间区间，单据类型，客户，业务员，仓库）（**输出**）。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| TradeHistory.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| TradeHistory.Input.Validate | 在用户填写的时候，系统检查条件信息数据合法性，如果不合法，在旁边显示提示（**输出**）。 |

| 编号                  | 需求描述与度量                   |
| ------------------- | ------------------------- |
| TradeHistory.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| TradeHistory.Output        | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的单据（**逻辑文件**），并显示给用户（在表中显示单据的简略信息（时间，类型，ID））（**输出**）。 |
| TradeHistory.Output.Select | 当用户选择一个单据并双击时（**查询**），系统应弹出窗口，显示单据的详细信息（**输出**）。用户确认后，系统应回到列表界面。 |

| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| TradeHistory.Export.Prompt         | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目以及导出目录（**输出**）。 |
| TradeHistory.Export.Select         | 系统应允许用户选择需要导出的条目（**输入**）。                |
| TradeHistory.Export.Export         | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| TradeHistory.Export.Export.Success | 若导出文件成功，系统应提示导出成功（**输出**）。用户确认后，系统返回表格界面。 |
| TradeHistory.Export.Export.Failure | 若导出文件出现错误，系统应弹出提示框提示操作失败以及失败原因（**输出**）。用户确认后，系统返回表格界面。 |
| TradeHistory.Export.Log            | 用户导出后，无论有没有出现错误，系统应记录日志（**逻辑文件**）。       |
| TradeHistory.Export.Cancel         | 当用户取消操作后（**查询**），系统应返回列表。                |

### 3.2.22 红冲

#### 3.2.22.1 特性描述

财务人员可以选择执行红冲。

优先级=高

#### 3.2.22.2 刺激/响应序列

刺激：用户选定一条单据，并点击执行红冲按钮。

响应：系统生成一个一模一样但是数量取反的新单据并显示给用户。

刺激：用户在红冲单据的界面上点击红冲并复制按钮。

响应：系统让红冲单据可以修改。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示操作成功或者失败信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统撤销用户的所有修改。

#### 3.2.22.3 相关功能需求

| 编号                 | 需求描述与度量                                  |
| ------------------ | ---------------------------------------- |
| RevertBill.Produce | 用户在经营历程表界面点击红冲按钮（**查询**），系统应产生红冲单据，并弹出红冲单据窗口等待用户确认、修改或者退出（**输出**）。 |

| 编号                                      | 需求描述与度量                                  |
| --------------------------------------- | ---------------------------------------- |
| RevertBill.Modify                       | 用户在红冲单据窗口中点击修改（**查询**）后，系统应弹出新的红冲单据修改窗口（**输出**），用户可以进行修改（**输入**）。 |
| RevertBill.Modify.Validate              | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |
| RevertBill.Modify.Reset                 | 当用户点击复位按钮时（**查询**），系统应提示用户是否重置（**输出**）。  |
| RevertBill.Modify.Reset.Confirmed       | 当用户确认时（**查询**），系统应复位当前信息。                |
| RevertBill.Modify.Reset.Back            | 当系统不确认（**查询**）的时候，系统应返回到红冲单据修改窗口让用户继续填写。 |
| RevertBill.Modify.Cancel                | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| RevertBill.Modify.Cancel.Backup         | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| RevertBill.Modify.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写单据页面。 |
| RevertBill.Modify.Cancel.Backup.Log     | 当用户确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。  |
| RevertBill.Modify.Cancel.NoBackup       | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| RevertBill.Modify.Cancel.Back           | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |
| RevertBill.Modify.Undo                  | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。        |
| RevertBill.Modify.Redo                  | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。        |
| RevertBill.Modify.Submit                | 当用户点击提交按钮时（**查询**），系统应保存当前更改到红冲单据窗口，窗口中应显示新单据数据。 |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| RevertBill.Submit.Review            | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| RevertBill.Submit.Confirmed         | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**）。      |
| RevertBill.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。用户确认后，应关掉所有弹出窗口，回到查看经营历程表界面。 |
| RevertBill.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，应回到红冲单据窗口。 |
| RevertBill.Submit.Confirmed.Log     | 用户确认提交后，无论操作是否成功，系统记录当前操作的日志（**逻辑文件**）   |
| RevertBill.Submit.Back              | 当用户需要继续修改时（**查询**），系统应返回到红冲单据窗口。         |

### 3.2.23 查看经营情况表

#### 3.2.23.1 特性描述

财务人员或总经理可以在登录后，查看经营情况表。

优先级=中

#### 3.2.23.2 刺激/响应序列

刺激：用户要求查询经营情况表。

响应：系统要求填入时间段。

刺激：用户填入时间段。

响应：系统显示消息。包括

1. 收入类：销售收入、商品类收入（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示折让后总收入，并显示折让了多少。
2. 支出类：销售成本、商品类支出（商品报损 商品赠出）。支出类显示总支出。
3. 利润：折让后总收入-总支出。

刺激：用户需要导出报表。

响应：系统导出报表，并记录日志。如果导出出错，系统弹出错误信息，并继续流程。

#### 3.2.23.3 相关功能需求

| 编号                    | 需求描述与度量                                |
| --------------------- | -------------------------------------- |
| TradeSituation.Prompt | 用户进入相关界面后，系统应给出需要填写的筛选信息（时间段）（**输出**）。 |

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| TradeSituation.Input          | 系统应允许用户填写筛选条件（时间段）（**输入**）。              |
| TradeSituation.Input.Validate | 在用户填写的时候，系统检查条件信息数据合法性，如果不合法，在旁边显示提示（**输出**）。 |

| 编号                    | 需求描述与度量                                  |
| --------------------- | ---------------------------------------- |
| TradeSituation.Output | 当用户进入后，系统显示消息。包括：<br/>1. 收入类：销售收入、商品类收入（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示折让后总收入，并显示折让了多少。<br/>2. 支出类：销售成本、商品类支出（商品报损 商品赠出）。支出类显示总支出。<br/>3. 利润：折让后总收入-总支出。 |

| 编号                                      | 需求描述与度量                                  |
| --------------------------------------- | ---------------------------------------- |
| TradeSituation.Export.Prompt            | 当用户点导出报表（**查询**）时，系统应提示用户确认导出。（**输出**）。  |
| TradeSituation.Export.Confirmed.Success | 若导出文件成功，系统应提示导出成功（**输出**）。用户确认后，系统返回表格界面。 |
| TradeSituation.Export.Confirmed.Failure | 若导出文件出现错误，系统应弹出提示框提示操作失败以及失败原因（**输出**）。用户确认后，系统返回表格界面。 |
| TradeSituation.Export.Confirmed.Log     | 用户导出后，无论有没有出现错误，系统应记录日志（**逻辑文件**）。       |
| TradeSituation.Export.Cancel            | 当用户取消操作后（**查询**），当用户取消操作后（**查询**），系统应返回列表。 |

### 3.2.24 期初建账

#### 3.2.24.1 特性描述

财务人员可以在登录后，进行期初建账操作。

优先级=中

#### 3.2.24.2 刺激/响应序列

刺激：用户进入期初建账界面。

响应：系统显示需要填写的信息。如果哟备份保存，恢复保存的信息。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交账，并显示操作成功或者失败信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

#### 3.2.24.3 相关功能需求

| 编号                                   | 需求描述与度量                          |
| ------------------------------------ | -------------------------------- |
| InitialEstablishment.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。  |
| InitialEstablishment.Prompt.Autofill | 系统给出相关信息的同时，应根据前一个时期的账，自动完善账的信息。 |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InitialEstablishment.Input          | 系统应允许用户填写信息（**输入**）。                     |
| InitialEstablishment.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InitialEstablishment.Cancel              | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| InitialEstablishment.Cancel.Backup       | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| InitialEstablishment.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写单据页面。 |
| InitialEstablishment.Cancel.Backup.Log   | 当用户确认保存草稿后，无论操作是否成功，系统都应记录日志（**逻辑文件**）。  |
| InitialEstablishment.Cancel.NoBackup     | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| InitialEstablishment.Cancel.Back         | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InitialEstablishment.Input          | 系统应允许用户填写信息（**输入**）。                     |
| InitialEstablishment.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InitialEstablishment.Cancel              | 当用户放弃操作时（**查询**），系统弹出窗口，应提示用户进行确认确定，并在保存草稿、不保存草稿以及（**输出**）。 |
| InitialEstablishment.Cancel.Backup       | 当用户选择保存草稿时（**查询**），系统应保存当前单据内容（**逻辑文件**），并退回人员功能主界面。 |
| InitialEstablishment.Cancel.Backup.Failure | 当用户需要保存草稿单据但是操作失败后，系统应弹出窗口提示用户操作失败，并显示具体原因（**输出**）。用户确认后，应退回填写单据页面。 |
| InitialEstablishment.Cancel.NoBackup     | 当用户选择不保存草稿时（**查询**），系统应丢弃当前单据内容，并退回人员功能主界面。 |
| InitialEstablishment.Cancel.Back         | 当用户放弃放弃操作时（**查询**），系统应回到填写单据页面。          |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | :--------------------------------------- |
| InitialEstablishment.Submit.Review       | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出新账的总览（**输出**）让用户复查。 |
| InitialEstablishment.Submit.Confirmed    | 当用户确认时（**查询**），系统应提交新账（**逻辑文件**）。        |
| InitialEstablishment.Submit.Confirmed.Success | 如果系统提交成功，系统应弹出窗口提示操作成功（**输出**）。用户确认后，系统关掉所有弹出窗口，回到填写账信息的主页面并重新加载。 |
| InitialEstablishment.Submit.Confirmed.Failure | 如果系统提交失败，系统应弹出窗口提示操作失败，并显示操作失败的具体原因（**输出**）。用户确认后，系统关掉所有弹出窗口，回到填写账信息的主页面但保留填写的信息，不重新加载。 |
| InitialEstablishment.Submit.Confirmed.Log | 如果用户确认操作，无论操作是否成功，系统应记录日志（**逻辑文件**）。     |
| InitialEstablishment.Submit.Back         | 当用户需要继续修改时（**查询**），系统应返回填写账信息的页面让用户继续填写。 |

| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| InitialEstablishment.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| InitialEstablishment.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| InitialEstablishment.Reset.Back      | 当系统不确认的时候（**查询**），系统应返回到之前的界面。           |

| 编号                        | 需求描述与度量                           |
| ------------------------- | --------------------------------- |
| InitialEstablishment.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号                        | 需求描述与度量                           |
| ------------------------- | --------------------------------- |
| InitialEstablishment.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

### 3.2.25 财务人员响应通知

#### 3.2.25.1 特性描述

财务人员可以在登录后，查看到审批消息，并作出响应。

优先级=中

#### 3.2.25.2 刺激/响应序列

刺激：用户点击**通知**按钮。

响应：系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果或者内容。

刺激：用户点击刷新按钮。

响应：系统刷新审批信息。

刺激：用户双击一条单据信息。

响应：系统显示**单据详细情况**页面。

刺激：系统显示已通过单据详细情况，用户点击**完成**按钮。

响应：系统将通知删除。

刺激：系统显示已通过单据详细情况，用户点击**取消**按钮。

响应：系统回到**审批信息**页面。

刺激：系统显示未通过单据详细情况，用户点击**修改**按钮。

响应：系统进入**修改单据**界面。

刺激：系统引导用户进入对应单据填写界面。

刺激：系统显示未通过单据详细情况，用户点击**废弃**按钮。

响应：系统弹出窗口提示**“是否确认废弃”**。

刺激：系统显示未通过单据详细情况，用户点击**确认废弃**按钮。

响应：系统删除单据。

#### 3.2.25.3 相关功能需求

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| FinancialStaffResponse.Update | 用户进入界面或者点击刷新按钮（**查询**）后，系统应更新库存信息（**逻辑文件**）并显示（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| FinancialStaffResponse.Show              | 系统显示**审批信息**或者**消息内容**页面，审批信息页面显示单据编号和审批结果，消息内容显示消息内容（**输出**）。 |
| FinancialStaffResponse.Show.Success      | 系统显示**已通过单据详细情况**页面,显示该单据的所有信息或者消息内容（**输出**）。 |
| FinancialStaffResponse.Show.Success.Acknowledged | 财务人员在**已通过单据详细情况**页面点击**已读**按钮（**查询**），系统将通知删除（**逻辑文件**）。 |
| FinancialStaffResponse.Show.Success.Ignored | 财务人员在**已通过单据详细情况**页面点击**忽略**按钮（**查询**），系统返回通知列表界面，不删除通知。 |
| FinancialStaffResponse.Show.Failure      | 系统显示**未通过单据详细情况**页面,显示该单据的所有信息（**输出**）以及未通过审批的原因 。 |
| FinancialStaffResponse.Show.Failure.Modify | 系统进入**修改单据**界面，系统引导用户进入对应单据填写界面，参见ReverseBill, CashBill, InitialEstablishment, ReceivalBill, PaymentBill。 |
| FinancialStaffResponse.Show.Failure.Abandon.Confirmed | 当用户确认操作时（**查询**），系统应把单据标记为**已丢弃**（**逻辑文件**）。 |
| FinancialStaffResponse.Show.Failure.Abandon.Confirmed.Success | 如果丢弃成功，系统弹出窗口称保存成功（**输出**）。系统还应删除通知（**逻辑文件**），并退回通知列表。 |
| FinancialStaffResponse.Show.Failure.Abandon.Confirmed.Failure | 如果丢弃失败，系统弹出窗口称保存失败（**输出**）以及保存失败的具体原因。系统应不删除通知，退回通知详情界面。 |
| FinancialStaffResponse.Show.Failure.Abandon.Confirmed.Log | 如果用户确认了丢弃，无论操作是否成功，系统应记录日志（**逻辑文件**）。    |
| FinancialStaffResponse.Show.Failure.Abandon.Back | 当用户放弃丢弃操作（**查询**）时，系统返回**未通过审批单据详细情况**页面。 |

### 3.2.26 财务人员管理草稿箱

#### 3.2.26.1 特性描述

财务人员可以在登录后，进入到草稿箱，查看并修改草稿内容。

优先级=中

#### 3.2.26.2 刺激/响应序列

刺激：用户点击**草稿箱**按钮进入页面后，输入筛选信息以查询客户

响应：系统返回符合筛选条件的客户信息

刺激：用户点击一条备份信息

响应：系统弹出一个**备份详细信息**页面，页面显示该备份的详细信息

刺激：用户点击**取消**按钮

响应：系统回到**草稿箱**界面

刺激：用户点击**继续填写**按钮

响应：系统应尝试读取后，删除备份信息，若成功，进入到**继续填写信息**界面，若失败，系统应弹出错误提示，用户点击**确认**按钮后，回到**草稿箱**界面

刺激：处于**草稿箱**界面，用户选择多选框后点击**删除**按钮

响应：系统显示**确认备份删除**界面弹出窗口显示预计删除备份的简略信息，并提示用户**确认删除**

刺激：处于**确认备份删除**界面，用户点击一条备份

响应：系统弹出一个**备份删除详细信息**页面，页面显示该备份的详细信息

刺激：处于**备份删除详细信息**界面，用户点击**确认**按钮

响应：系统回到**确认备份删除**界面

刺激：处于**确认备份删除**界面，用户点击**确认删除**按钮

响应：系统删除被选中的备份信息，若成功删除，则弹出提示框，提示成功删除，并计入日志，用户点击确认后返回**草稿箱**界面，若用户确认删除备份但是操作失败，系统应弹出错误提示，用户点击确认后返回**草稿箱**界面

#### 3.2.26.3 相关功能需求

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| FinancialStaffDraftBackup.Show           | 用户点击**草稿箱**按钮，系统显示**草稿箱**界面（**逻辑文件**），包含**客户信息草稿、进货单草稿、进货销售单草稿、销售单草稿、销售退货单草稿** {列举你的所有需要填写的单据或者表}，并在每一项前显示多选框，其中单据显示**时间，单据名，ID** ，客户信息显示**客户姓名，分类**（**查询、输出**）。 |
| FinancialStaffDraftBackup.Show.Select    | 用户点击一条备份，系统弹出一个**备份详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**继续填写**和**取消**按钮 |
| FinancialStaffDraftBackup.Show.Select.Cancel | 用户点击**取消**按钮（**查询**）后，系统关闭本窗口，并回到**草稿箱**界面。 |
| FinancialStaffDraftBackup.Show.Select.Confirmed | 用户点击**继续填写**按钮（**查询**）后，系统应尝试读取后，删除备份信息（**逻辑文件**）。 |
| FinancialStaffDraftBackup.Show.Select.Confirmed.Success | 如果删除成功，应恢复这个备份信息（**输出**），引导用户进入相应单据填写界面，参见ReverseBill, CashBill, InitialEstablishment, ReceivalBill, PaymentBill。 |
| FinancialStaffDraftBackup.Show.Select.Confirmed.Failure | 如果系统在读取备份单据时出现错误，或者读取后删除失败时，系统应弹出错误提示（**输出**），并让用户确认。用户确认后退出恢复备份的流程，进入**草稿箱**界面。 |
| FinancialStaffDraftBackup.Show.Delete    | 用户选择多选框点击删除（**查询**）按钮，系统显示**确认备份删除**界面弹出窗口显示预计删除备份的简略信息，（**输出**），并提示用户**确认删除**。 |
| FinancialStaffDraftBackup.Show.Delete.Detail | 用户点击一条备份，系统弹出一个**备份删除详细信息**页面，页面显示该备份的详细信息（**逻辑文件**、**输出**），并提供**确认**按钮。 |
| FinancialStaffDraftBackup.Show.Delete.Detail.Back | 用户点击**确认**按钮（**查询**），系统回到**确认备份删除**界面。   |
| FinancialStaffDraftBackup.Show.Delete.Confirmed | 若用户点击**确认删除**（**查询**）按钮，系统删除被选中的备份信息（**逻辑文件**）。 |
| FinancialStaffDraftBackup.Show.Delete.Confirmed.Success | 若系统成功删除，则弹出提示框（**输出**），提示成功删除，用户点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| FinancialStaffDraftBackup.Show.Delete.Confirmed.Failure | 若用户确认删除备份但是操作失败，系统应弹出错误提示（**输出**），用户点击确认后返回**草稿箱**界面（**逻辑文件**、**查询**、**输出**）。 |
| FinancialStaffDraftBackup.Show.Delete.Confirmed.Log | 若用户确认了删除备份，则无论操作是否成功，系统都应记录日志（**逻辑文件**）。 |

### 3.2.27 单据审批

#### 3.2.27.1 特性描述

总经理可以在登录后，对所有提交的单据进行审批。

优先级=高

#### 3.2.27.2 刺激/响应序列

刺激：用户选择单据审批功能。

响应：系统按照提交顺序列表显示所有处于等待审批状态的单据。

刺激：用户全选单据。

响应：系统选中所有单据，显示勾选所有复选框。

刺激：用户选择多张单据并点击**通过**按钮。

响应：系统将单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据，并将批量审批操作记录在日志中。

刺激：用户点击某张单据进行查看。

响应：系统列出单据的具体内容。

刺激：用户点击**通过**按钮，通过该单据的审批。

响应：系统提示操作成功，将单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据，并将通过单据审批操作记录在日志中。

刺激：用户拒绝通过审批。

响应：系统提示填写拒绝理由。

刺激：用户填写拒绝理由并提交。

响应：系统提示是否确认提交。

刺激：用户放弃提交。

响应：系统回到填写拒绝理由界面。

刺激：用户确认提交。

响应：系统提示提交成功，发送消息给操作员，将单据状态设置为未通过审批，并将拒绝审批操作记录在日志中。

#### 3.2.27.3 相关功能需求

| 编号         | 需求描述与度量                                  |
| ---------- | ---------------------------------------- |
| Audit.Show | 当用户请求审批单据的时候，系统应按照提交顺序列表显示出所有处于等待审批状态的单据（**输出**） |

| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| Audit.Multipass                      | 当用户需要批量审批单据时，系统应该允许用户进行鼠标点击操作，参见Audit.Multipass.Choose |
| Audit.Multipass.Choose               | 当用户勾选某个复选框时，系统记录选择的单据（**逻辑文件**）          |
| Audit.Multipass.Choose.Checkall      | 当用户全选单据（**查询**）时，系统选中所有单据，显示勾选所有的复选框（**逻辑文件**） |
| Audit.Multipass.Choose.Cancel        | 当用户取消选择的多个单据时，系统撤销选中的复选框（**逻辑文件**）       |
| Audit.Multipass.Submit               | 当用户选择多个单据并通过审批时（**查询**）时，系统弹出窗口询问是否全部通过审批（**输出**） |
| Audit.Multipass.Submit.Confirmed     | 用户确认通过（**查询**），系统弹出窗口提示已通过审批（**输出**），将单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据（**逻辑文件**），用户确认该提示信息后系统回到单据审批页面 |
| Audit.Multipass.Submit.Confirmed.Log | 当用户批量审批成功时，系统应在操作日志记录批量审批操作（逻辑文件）        |
| Audit.Multipass.Submit.Cancel        | 当用户放弃确认通过审批时，系统应回到单据审批界面                 |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| Audit.Inspect                       | 当用户查看某张单据（**查询**）时，系统应弹出窗口显示该单据的全部内容（**输出**） |
| Audit.Inspect.Back                  | 当用户查看完单据详细信息退出时，系统关闭单据详情界面，回到单据审批界面      |
| Audit.Inspect.Pass                  | 当用户通过该单据审批（**查询**）时，系统弹出窗口提示已通过审批（**输出**），将单据状态设置为已入账，根据单据内容修改库存数据和客户应收应付数据（**逻辑文件**），用户确认该提示信息后系统回到单据审批页面 |
| Audit.Inspect.Log                   | 无论用户通过审批还是拒绝通过审批，系统都应记录相应的操作日志（**逻辑文件**） |
| Audit.Inspect.Reject                | 当用户拒绝通过某单据的审批（**查询**）时，系统弹出窗口要求用户填写拒绝通过的理由（**输出**） |
| Audit.Inspect.Reject.Reason         | 当用户填写完拒绝通过的理由（**输入**）并点击提交（**查询**）时，系统弹出窗口询问是否确认提交（**输出**） |
| Audit.Inspect.Reject.Reason.Confirm | 当用户再次确认时，系统将单据状态设置为未通过审批（**逻辑文件**），并弹出窗口提示已发送消息给相关人员（**输出**），用户确认该提示信息后系统应回到单据审批界面 |
| Audit.Inspect.Reject.Reason.Cancel  | 当用户选择放弃（**查询**）时，系统应回到填写拒绝通过理由界面         |

### 3.2.28 制定促销策略

#### 3.2.28.1 特性描述

总经理可以在登录后，制定不同的促销策略，促进销售。

优先级=中

#### 3.2.28.2 刺激/响应序列

刺激：用户点击制定促销策略按钮。

响应：系统显示6种具体促销策略（组合商品降价、满额赠送代金券、满额赠送礼品、客户赠送代金券、客户赠送礼品、客户价格折让）。

刺激：用户选择其中一种促销策略进行制定。

响应：系统显示相应界面（组合商品降价、满额赠送礼品、客户赠送礼品策略）或要求填写相应策略信息（满额赠代金券需要填写额度、代金券面值、开始日期和结束日期；客户赠代金券需要填写客户级别、代金券面值、开始日期和结束日期；客户价格折让需要填写客户级别、购买总额、折让价格、开始日期和结束日期；）。

刺激：用户输入格式正确的商品标识。

响应：系统显示商品信息（商品标识、描述和价格）。

刺激：用户输入格式不正确的商品标识。

响应：系统提示商品标识格式不正确。

刺激：用户选择该商品作为组合促销商品或者赠品。

响应：系统提示选择成功并记录当前商品。

刺激：用户删除某商品。

响应：系统提示删除成功并更新记录。

刺激：用户完成商品（或赠品）选择。

响应：系统要求填写相应的策略信息（组合商品降价需要填写降价金额、开始日期和结束日期；满额赠品需要填写额度、赠品标识、开始时间和结束时间；客户赠品需要填写客户级别、赠品标识、开始时间和结束时间；）

刺激：用户放弃策略信息填写。

响应：系统保存草稿，回到商品选择界面或者促销策略选择界面。

刺激：用户完成策略信息填写，点击提交。

响应：系统弹出确认窗口。

刺激：用户点击确认。

响应：若该策略与已有策略存在冲突，系统提示与已有策略存在冲突；若无冲突则记录促销策略信息并生成日志。

刺激：用户点击取消。

响应：系统询问用户是否要保存草稿。

刺激：用户保存草稿。

响应：系统保存草稿，记录日志，返回制定促销策略界面。

刺激：用户不保存草稿。

响应：系统丢弃促销策略信息，返回制定促销策略界面。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

刺激：用户删除某促销策略。

响应：若该策略已经生效，系统提示策略已经生效无法删除；若该策略处于等待生效状态则废弃该促销策略并生成日志。

刺激：用户修改等待生效的促销策略。

响应：系统显示相应的促销策略信息填写界面。

刺激：用户修改已经生效或者过期的促销策略。

响应：系统警告用户策略已经生效无法修改。

刺激：用户查看所有的促销策略。

响应：系统按照最后一次修改时间列表显示所有策略。

刺激：用户输入关键字进行促销策略的搜索。

响应：系统显示根据关键字筛选出的结果。

#### 3.2.28.3 相关功能需求

| 编号                    | 需求描述与度量                                  |
| --------------------- | ---------------------------------------- |
| Promotion.Show        | 当用户需要制定促销策略时，系统显示6种不同的促销策略（**输出**）       |
| Promotion.Show.Choose | 当用户选择其中一种促销策略进行制定（**查询**）时，系统显示相应界面（组合商品降价、满额赠送礼品、客户赠送礼品策略）或要求填写相应策略信息（满额赠代金券需要填写额度、代金券面值、开始日期和结束日期；客户赠代金券需要填写客户级别、代金券面值、开始日期和结束日期；客户价格折让需要填写客户级别、购买总额、折让价格、开始日期和结束日期）（**输出**） |

| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| Promotion.View                       | 当用户点击查看保存的促销策略（**查询**）时，系统按照最后一次修改时间列表显示所有促销策略简要信息（**输出**） |
| Promotion.View.Select                | 当用户选择某一个促销策略进行查看（**查询**）时，系统显示促销策略详细信息（**输出**） |
| Promotion.View.Select.Modify.Valid   | 当用户选择修改等待生效的促销策略（**查询**）时，系统弹出促销策略信息填写页面，并显示保存的信息（**输出**），参见Promotion.Input.Condition.Submit |
| Promotion.View.Select.Modify.Invalid | 当用户选择修改已经生效或者过期的促销策略（**查询**）时，系统弹出窗口警告用户“该促销策略无法修改”（**输出**） |
| Promotion.View.Select.Delete.Valid   | 当用户选择删除等待生效或已过期的促销策略（**查询**）时，系统提出窗口询问是否确认删除（**输出**），参见Promotion.Delete |
| Promotion.View.Select.Delete.Invalid | 当用户选择删除正在生效的促销策略（**查询**）时，系统弹出窗口警告用户该促销策略无法删除（**输出**） |
| Promotion.View.Filtrate              | 当用户输入关键字（**输入**）进行促销策略搜索（**查询**）时，系统按照最后一次修改时间列表显示所有符合条件的促销策略（输出） |

| 编号                               | 需求描述与度量                                  |
| -------------------------------- | ---------------------------------------- |
| Promotion.Input                  | 当用户制定促销策略时，系统应当允许用户进行鼠标点击和键盘输入           |
| Promotion.Input.Product.Valid    | 当用户输入目录中存在的商品标识时，系统应显示商品信息（商品标识、描述和价格）   |
| Promotion.Input.Product.Invalid  | 当用户输入其他标识时，系统应弹出窗口警告用户商品标识格式不正确          |
| Promotion.Input.Condition        | 当用户完成商品选择（**查询**）时，系统弹出窗口要求填写相应的策略信息（组合商品降价需要填写降价金额、开始日期和结束日期；满额赠品需要填写额度、赠品标识、开始时间和结束时间；客户赠品需要填写客户级别、赠品标识、开始时间和结束时间）（**输出**） |
| Promotion.Input.Condition.Cancel | 当用户放弃当前填写的策略信息时（**查询**），系统应弹出窗口询问是否保存草稿（**输出**），参见Promotion.Cancel |
| Promotion.Input.Condition.Submit | 当用户完成促销策略信息的填写（**输入**），需要提交时，参见Promotion.Submit |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| Promotionl.Cancel.Backup       | 当用户选择保存草稿时（**查询**），系统应保存当前促销策略内容（**逻辑文件**），并返回制定促销策略主界面 |
| Promotion.Cancel.Backup.Failed | 如果系统保存失败，应弹出窗口提示用户保存草稿失败，并显示具体原因（**输出**）。用户确认后，应保留信息，退回填写促销策略信息页面 |
| Promotion.Cancel.Backup.Log    | 当用户确认保存草稿时，无论操作是否成功，系统都应记录日志（**逻辑文件**）   |
| Promotion.Cancel.NoBackup      | 当用户选择不保存草稿时（**查询**），系统应丢弃当前促销策略信息，并返回制定促销策略主界面 |
| Promotion.Cancel.Back          | 当用户取消放弃当前的促销策略信息操作时（**查询**），系统应回到填写促销策略信息页面。 |

| 编号                                     | 需求描述与度量                                  |
| -------------------------------------- | ---------------------------------------- |
| Promotion.Submit.Review                | 当用户提交促销策略信息（**查询**）时，系统给出当前单据的总览（**输出**）让用户复查 |
| Promotion.Submit.Confirmed.Success     | 当用户确认无误（**查询**）时，若系统判断当前促销策略与已有促销策略无冲突（**逻辑文件**），则记录促销策略信息，提出窗口通知用户促销策略制定成功 |
| Promotion.Submit.Confirm.Failure       | 当用户确认无误（**查询**）时，若系统判断当前促销策略与已有促销策略存在冲突（**逻辑文件**），则提出窗口警告用户促销策略存在冲突（**输出**），用户确认该警告后返回促销策略信息填写界面 |
| Promotion.Submit.Confirmed.Success.Log | 当用户提交制定的促销策略成功时，系统记录当前操作在日志中（**逻辑文件**）   |
| Promotion.Submit.Back                  | 当用户需要返回做修改时（**查询**），系统应返回促销策略信息填写页面      |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| Promotion.Reset            | 当用户点击复位按钮的时候（**查询**），系统应弹出窗口询问用户是否要复位全部信息（**输出**）。 |
| Promotionl.Reset.Confirmed | 当用户确认复位填写的促销策略信息时（**查询**），系统应复位当前信息      |
| Promotion.Reset.Back       | 当用户点击返回按钮的时候（**查询**），系统应返回到促销策略信息填写页面让用户继续填写。 |

| 编号             | 需求描述与度量                          |
| -------------- | -------------------------------- |
| Promotion.Undo | 用户按下回撤快捷键（**查询**）时，系统应撤回用户刚才做的修改 |

| 编号             | 需求描述与度量                          |
| -------------- | -------------------------------- |
| Promotion.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改 |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| Promotion.Delete.Confirmed | 当用户确认删除促销策略（**查询**）时，系统丢弃该促销策略的信息，将状态设置为已废弃，并在日志中记录删除操作（**逻辑文件**） |
| Promotion.Delete.Cancel    | 当用户取消删除一个等待生效的促销策略的操作（**查询**）时，系统返回到该促销策略的详情页面 |



### 3.2.29 查看日志

#### 3.2.29.1 特性描述

总经理和财务人员可以在登录后，查看系统主要操作记录。                              

优先级=低

#### 3.2.29.2 刺激/响应序列

刺激：用户查看系统主要操作日志。

响应：系统按照操作时间列表显示主要操作的简要信息（包括时间、操作人员、操作类型）。

刺激：用户进行查询。

响应：系统给出需要填写的筛选条件信息（时间、操作人员、操作类型）。

刺激：用户填写有效筛选条件进行搜索。

响应：系统列表显示符合条件的操作记录，若无符合条件的记录则弹出窗口提示无符合条件的记录。

刺激：用户填写其他筛选条件进行搜索。

响应：系统弹出窗口警告用户筛选条件无效。

刺激：用户选择**时间段**进行查询。

响应：系统按照操作时间顺序显示所有该时间段内记录的主要操作。

刺激：用户双击一条日志。

响应：系统显示操作日志的详细信息。

#### 3.2.29.3 相关功能需求

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| Viewlog.Show             | 当用户查看主要操作日志（查询）时，系统按照操作时间列表显示主要操作的简要信息（包括时间、操作人员、具体操作）（输出） |
| Viewlog.Show.Detail      | 当用户双击一条操作日志（**查询**）时，系统弹出窗口，显示该操作日志的详细信息（**输出**） |
| Viewlog.Show.Detail.Back | 当用户查看玩详情点击返回（**查询**）时，系统返回查看日志界面         |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| Viewlog.Filtrate               | 当用户需要查询特定日志时，系统给出需要填写的筛选条件（时间、操作人员、具体操作名称） |
| Viewlog.Filtrate.Input.Vaild   | 当用户输入的筛选条件（**输入**）合法（时间、操作人员、具体操作名称）（**逻辑文件**）时，系统列表显示符合条件的操作记录，若无符合条件的记录则弹出窗口提示无符合条件的记录（**输出**） |
| Viewlog.Filtrate.Input.Invaild | 当输入其他内容（**逻辑文件**）时，系统警告用户筛选条件无效（**输出**）  |
| Viewlog.Filtrate.Input.Time    | 当用户选择时间段进行搜索时（**查询**），系统显示按操作时间顺序显示该时间段主要操作（**输出**） |



### 3.2.30 总经理管理草稿箱

#### 3.2.30.1 特性描述

总经理可以在登录后，进入到草稿箱，查看并修改草稿内容。

优先级=中

#### 3.2.30.2 刺激/响应序列

刺激：用户进入草稿箱。

响应：系统按照保存时间列表显示所有促销策略信息的草稿。

刺激：用户查看一条促销策略草稿的信息。

响应：系统显示保存的该促销策略的所有信息。

刺激：用户点击取消按钮。

响应：系统回到草稿箱界面。

刺激：用户选择编辑草稿。

响应：系统尝试读取并删除备份信息，若成功，进入到促销策略信息填写界面，若失败，系统提示错误，用户确认信息后，系统回到**草稿箱**界面

刺激：用户删除选中的草稿。

响应：系统询问是否确认删除，并列表显示草稿的简略信息。

刺激：用户查看需要删除的草稿详情后点击**确认**按钮。

响应：系统返回询问是否确认删除草稿界面

刺激：用户确认删除选中的草稿按钮

响应：系统丢弃该草稿保存的信息，在日志中记录删除草稿操作；

#### 3.2.30.3 相关功能需求

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| ManagerDraftBackup.Show        | 当用户进入草稿箱（**查询**）时，系统按照保存时间列表显示所有促销策略信息的草稿（包括修改时间、促销策略分类）（**输出**） |
| ManagerDraftBackup.Show.Select | 当用户点击一条草稿（**查询**）时，系统显示保存的该促销策略的所有信息，参见ManagerDraftBackup.Detail |
| ManagerDraftBackup.Show.Delete | 当用户删除选中的草稿（**查询**）时，系统弹出窗口询问是否确认删除，并显示选中草稿的简略信息（**输出**），参见ManagerDraftBackup.Delete |



| 编号                                     | 需求描述与度量                                  |
| -------------------------------------- | ---------------------------------------- |
| ManagerDraftBackup.Detail.Cancel       | 当用户取消查看（**查询**）时，系统返回草稿箱界面。              |
| ManagerDraftBackup.Detail.Edit         | 当用户选择编辑（**查询**）时，系统应尝试读取后，删除备份信息（**逻辑文件**）。 |
| ManagerDraftBackup.Detail.Edit.Success | 当用户选择编辑时，若系统成功读取草稿，显示相应促销策略制定界面（**输出**），恢复备份，删除在草稿箱中的草稿（**逻辑文件**），则参见Promotion.Input |
| ManagerDraftBackup.Detail.Edit.Failure | 当用户选择编辑时，若系统在读取备份单据时出现错误，或者读取后删除失败时，系统应弹出窗口提示相应的错误（**输出**），用户确认后系统返回草稿箱界面。 |



| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| ManagerDraftBackup.Delete.Detail         | 当用户选择一条备份（**查询**）时，系统弹出窗口显示该备份的详细信息（**输出**） |
| ManagerDraftBackup.Delete.Detail.Back    | 当用户确认草稿详情（**查询**）时，系统返回询问是否确认删除界面。       |
| ManagerDraftBackup.Delete.Confirmed      | 当用户确认删除选中的所有草稿（**查询**）时，系统应丢弃这些数据（**逻辑文件**） |
| ManagerDraftBackup.Delete.Confirmed.Success | 如果系统删除成功（**逻辑文件**），则弹出窗口提示删除成功（**输出**），用户确认信息后，系统返回草稿箱界面 |
| ManagerDraftBackup.Delete.Confirmed.Failure | 如果系统删除失败（**逻辑文件**），则弹出窗口提示删除失败（**输出**），用户确认信息后，系统返回草稿箱界面 |
| ManagerDraftBackup.Delete.Confirmed.Log  | 当用户确认删除草稿时，无论操作是否成功，系统都在日志中记录删除操作（**逻辑文件**） |

### 3.2.31 管理用户账户

#### 3.2.31.1 特性描述

管理员可以在登录后，新增、修改以及删除账户，还可以授予/取消最高权限。

优先级=高

#### 3.2.31.2 刺激/响应序列

刺激：用户输入筛选信息以查询账户。

响应：系统返回符合筛选条件的账户信息。

刺激：用户选定一个账户进行删除操作。

响应：系统删除账户，并记录日志。

刺激：用户修改账户属性。

响应：系统修改账户属性，并记录日志。

刺激：用户输入账户信息，并增加一个账户。

响应：系统根据这些信息新建一个账户，并记录日志。

#### 3.2.31.3 相关功能需求

| 编号                              | 需求描述与度量                                  |
| ------------------------------- | ---------------------------------------- |
| AdminManagement.Select.Prompt   | 系统首先应允许用户选择所需操作（**输出**：选择操作界面）。          |
| AdminManagement.Select.Selected | 用户选择操作后（**查询**），应进入相关操作界面，参见AdminManagement.Create,  AdminManagement.Modify, AdminManagement.Delete, AdminManagement.Query, AdminManagement.Authorize和AdminManagement.Unauthorize。（**输出**）。 |
| AdminManagement.Cancel          | 用户点击取消操作（**查询**），应退回人员功能主界面。             |

| 编号                           | 需求描述与度量                                  |
| ---------------------------- | ---------------------------------------- |
| AdminManagement.Query.Start  | 进入查询界面后，系统应给出可用的筛选条件选项让用户填写（**输出**）。     |
| AdminManagement.Query.Input  | 用户应可以输出筛选条件（**输入**）。                     |
| AdminManagement.Query.Error  | 若用户输入的筛选条件不合法，系统应给予错误提示并拒绝处理（**输出**）。    |
| AdminManagement.Query.Output | 用户填写筛选条件后，系统应输出符合条件的账户信息（**输出**）。        |
| AdminManagement.Query.Select | 用户应可以选择某个账户（**查询**）以进行下一步操作，并且对选择操作进行响应，参见AdminManagement.Modify, AdminManagement.Delete, AdminManagement.Authorize和AdminManagement.Unauthorize。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AdminManagement.Create.Start             | 进入新增账户界面后，系统应弹出窗口，应给出需要填写的信息（ 姓名，角色，工号，账户名、密码以及是否具有最高权限）。 |
| AdminManagement.Create.Input             | 用户应可以输出相关信息（**输入**）。                     |
| AdminManagement.Create.Validate          | 在用户填写的过程中，系统应实时检查用户输入的数据格式是否正确。若不正确，应立刻在输入框旁边提示用户（**输出**）。 |
| AdminManagement.Create.Submit.Review     | 用户填写完毕点击确认按钮（**查询**）后，系统应弹出一个窗口显示新账户信息（**输出**），并请求用户确认。 |
| AdminManagement.Create.Submit.Confirmed  | 当用户确认（**查询**）后，系统应保存修改的账户信息（**逻辑文件**）。   |
| AdminManagement.Create.Submit.Confirmed.Success | 若系统保存成功，则弹出操作成功窗口（**输出**）。用户确认后，关闭总览弹出窗口，回到主窗口。 |
| AdminManagement.Create.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。用户确认后，关闭总览弹出窗口，回到主界面但不重新加载。 |
| AdminManagement.Create.Submit.Confirmed.Log | 若用户确认了新增账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AdminManagement.Create.Submit.Back       | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到账号创建的窗口。    |
| AdminManagement.Create.Cancel            | 用户取消操作（**查询**）后，系统应丢弃所有修改，直接关闭创建账户窗口，退回到账户查询页面。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AdminManagement.Modify.Start             | 用户选择一个账户（参见AccountManagement.Query.Select）并点击修改按钮（**查询**），系统应弹出窗口，显示账户信息（**账户名称**），让客户修改（**输出**）。 |
| AdminManagement.Modify.Input             | 用户应可以输出相关信息（**输入**）。                     |
| AdminManagement.Modify.Validate          | 在用户填写的过程中，系统应实时检查用户输入的数据格式是否正确。若不正确，应立刻在输入框旁边提示用户（**输出**）。 |
| AdminManagement.Modify.Submit.Review     | 用户填写完毕点击确认按钮（**查询**）后，系统应弹出一个窗口显示新账户信息（**输出**），并请求用户确认。 |
| AdminManagement.Modify.Submit.Confirmed  | 当用户确认后，系统应保存修改的账户信息（**逻辑文件**）。           |
| AdminManagement.Modify.Submit.Confirmed.Success | 若系统保存成功，则弹出操作成功窗口（**输出**）。用户确认后，关闭所有弹出窗口，回到查询账户页面。 |
| AdminManagement.Modify.Submit.Confirmed.Failure | 若系统保存过程中遇到不可预料的错误，则弹出操作失败窗口，并显示具体操作失败的原因（**输出**）。 |
| AdminManagement.Modify.Submit.Confirmed.Log | 若用户确认了修改账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AdminManagement.Modify.Submit.Back       | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到修改账户页面。     |
| AdminManagement.Modify.Cancel            | 用户取消操作（**查询**）后，系统应关闭修改账户窗口，退回到查询账户页面。   |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| AdminManagement.Delete.Confirm           | 用户选择一个账户（参见AdminManagement.Query.Select）并点击删除按钮（**查询**），系统应弹出窗口，显示账户信息以及提示，让用户确认操作（**输出**）。 |
| AdminManagement.Delete.Confirm.Confirmed | 用户确认（**查询**）后，系统删除相关账户信息（**逻辑文件**）。      |
| AdminManagement.Delete.Confirm.Confirmed.Success | 如果系统操作成功完成，则系统应弹出窗口提示删除成功（**输出**）。       |
| AdminManagement.Delete.Confirm.Confirmed.Failure | 如果系统操作没有完成，则系统应弹出窗口提示删除失败，并显示具体的错误原因（**输出**）。 |
| AdminManagement.Delete.Confirm.Confirmed.Log | 若用户确认了删除账户的操作，无论操作是否成功，系统应保存此次操作的日志（**逻辑文件**）。 |
| AdminManagement.Delete.Confirm.Back      | 如用户不确认操作（**查询**），系统应关闭弹出窗口，回到查询账户的页面。    |

## 3.3  非功能需求

### 3.3.1 安全性

Security1. 系统只能允许已经登录的用户访问。

Security2. 相应用户只能进入其对应的功能界面。

### 3.3.2 可维护性

Maintainability1. 系统网络发生故障时，能够在2个人天内进行修复。

### 3.3.3 易用性

Usability1. 系统应能在3天以内让用户能够正常使用各项功能并开始工作。

### 3.3.4 可靠性

Reliability1. 如果读写逻辑文件的时候出现错误，系统应弹出提示，并根据情况（见功能规格）中止或继续操作。

Reliability2. 如果在一次操作中，读写逻辑文件出错超过3次（含），系统应提示网络中断并退回登录界面。

### 3.3.5 业务规则

BR1. 商品赠送促销策略在当前日期到达开始日期时开始生效，在超过结束日期后自动失效，并且不能重新开始。

BR2. 单据经过审批后，所有系统内能够做出的修改将会被自动修改。

BR3. 系统只有一个仓库。

### 3.3.6 约束

IC1. 系统由java语言开发，依赖本机java运行时。

IC2. 系统运行于Windows系统平台。

IC3. 系统为C/S结构。

## 3.4 数据需求

### 3.4.1 数据定义

DR1. 系统需要存储商品分类信息、商品信息、库存信息、警报类单据、经销货信息、单据信息、审批信息、财务信息、账信息、客户信息、促销策略、操作日志、账户信息以及单据草稿。

DR2. 单据审批通过后、商品删除后、促销策略提交后和过期后，系统均不删除相应信息，只进行状态标记，以便后续查对。

### 3.4.2 数据格式

Format1. 单据编号为{单据英文首字母大写}-yyyyMMDD-{五位数字编号}，数字编号自动累加，每天从00001开始，例如SKD-20171002-00001。

Format2. 商品单价、数量以及总价均为64位浮点数。

Format3. 日期存储UTC+8时间，存储精确至秒，显示时显示为yyyy/MM/DD，若需要继续显示具体时间，在后面追加HH:mm:ss。

## 3.5 其他需求

### 3.5.1 安装需求

Install1: 在安装系统时，要初始化管理员账户。

Install2: 系统在投入使用时，需要对用户进行5个工作日的集中培训。并且需要提供完备且简单易懂的说明书，供用户参考。