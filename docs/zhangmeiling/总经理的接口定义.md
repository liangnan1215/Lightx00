#  approvalblservice的接口规范

**approvalblservice.Audit的接口规范**

提供的接口

| 接口名称                               | 语法                                       | 前置条件          | 后置条件                  |
| ---------------------------------- | ---------------------------------------- | ------------- | --------------------- |
| approvalblservice.Audit.showBill   | `public ResultMessage  showBill (BillVO bill);` | 有处于提交状态的单据单据。 | 查看单据内容。               |
| Approvalblservice.Audit.rejectBill | `public ResultMessage rejectBill(BillVO bill);` | 用户已经查看了单据内容。  | 拒绝通过审批，持久化更新涉及的对象的数据。 |
| Approvalblservice.Audit.passBill   | `public ResultMessage passBill(BillVO bill);` | 用户已经查看了单据内容。  | 通过审批，持久化更新涉及的对象的数据。   |

需要的接口

| 接口名称                                     | 服务名       |
| ---------------------------------------- | --------- |
| `BillDataServic.getBill`                 | 得到所有持久化对象 |
| `logblservice.Logger.log(LogSeverity severity, String content);` | 记录日志      |

# approvaldataservice的接口规范

**approvaldataservice.Audit**

提供的接口

| 接口名称                        | 语法                           | 前置条件              | 后置条件                                     |
| --------------------------- | ---------------------------- | ----------------- | ---------------------------------------- |
| approvaldataservice.getBill | `public BillPO[] getBill();` | po中存在处于提交状态的单据数据。 | 按提交时间返回所有单据包括：   销售类单据（销售出货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付款单，收款单，现金费用单）4. 库存类单据（报溢单，报损单，赠送单）。 |

# prmotionblservice的接口规范

**promotionblservice.PromotionManagement**

提供的接口

| 接口名称                                     | 语法                                       | 前置条件                    | 后置条件                                    |
| ---------------------------------------- | ---------------------------------------- | ----------------------- | --------------------------------------- |
| promotionblservice.PromotionMangement.submit | `public ResultMessage submit(PromotionVO newPromotion);` | 促销策略所有属性有效。             | 持久化促销策略信息已经保存。                          |
| promotionblservice.PromotionMangement.saveAsDraft | `public ResultMessage saveAsDraft(PromotionVO promotion);` | 促销策略信息非空。               | 保存草稿，持久化信息已经保存。                         |
| promotionservice.PromotionMangement.resume | `public PromotionVO resume();`           | 开始填写。                   | 如果系统记录需要继续填写促销策略，那么返回值为继续填写的单据；反之为null； |
| promotionblservice.PromotionMangement.query | `public PromotionVO[] query(PromotionQueryVO query);` | 得到数据，筛选条件有效。            | 返回符合筛选条件的促销策略数据。                        |
| promotionblservice.PromotionMangement.delete | `public ResultMessage delete(PromotionPO promotion);` | 选择删除促销策略。               | 返回删除是否成功，持久化更新涉及的对象的数据。                 |
| promotionblservice.PromotionMangement.addCommodity | `public CommodityVO[] addCommodity(CommodityVO commodity);` | 促销策略开始制定，并且输入的商品标识符合规范。 | 记录选择的商品。                                |
| promotionblservice.PromotionMangement.removeCommodity | `public CommodityVO[] removeCommodity(CommodityVO commodity);` | 要移除的商品已经作为组合降价促销商品之一。   | 从当前记录中移除该商品。                            |
| promotionblservice.PromotionMangement.setBargianPrice | `public void setBargianPrice(double bargianPrice);` | 组合降价商品选择完成。             | 设置组合降价商品价格。                             |
| promotionblservice.PromotionMangement.setCashCoupon | `public void setCashCoupon(double cashCoupon);` | 促销策略开始制定，并且输入数值在有效范围。   | 设置赠送代金券策略的代金券面值。                        |
| promotionblservice.PromotionMangement.setTotalPrice | `public void setTotalPrice(double totalPrice);` | 促销策略开始制定，并且输入数值在有效范围。   | 设置满额促销策略的总价。                            |
| promotionblservice.PromotionMangement.setClient | `public void setClient(int clientLevel);` | 促销策略开始制定，并且输入数值在有效范围，   | 设置客户促销策略的客户级别。                          |

需要的接口

| 接口名称                                     | 服务名                    |
| ---------------------------------------- | ---------------------- |
| `promotiondataservice.Promotion.submit(PromotionPO promotion,PromotionItem[] items);` | 提交新促销策略。               |
| `promotiondataservice.Promotion.query(Date[] timeRange);` | 根据时间段查找促销策略。           |
| `promotiondataservice.Promotion.query(PromotionType promotionType);` | 根据促销策略类型查找促销策略。        |
| `promotiondataservice.Promotion.query(Client client);` | 根据客户级别查找促销策略。          |
| `promotiondataservice.Promotion.query(double totalPrice);` | 根据额度查找促销策略             |
| `promotiondataservice.Promotion.getPromotionItemsByIDs(String...ID);` | 通过ID集合拿到Promotion对象集合。 |
| `promotiondataservice.Promotion.delete(PromotionPO promotion);` | 删除单一持久化对象。             |
| `draftbl.DraftMangement.saveAsDraft(PromotionVO promotion);` | 保存草稿。                  |
| `logblservice.Logger.log(LogSeverity severity, String content);` | 记录日志。                  |

# promotiondataservice的接口规范

提供的接口

| 接口名称                                     | 语法                                       | 前置条件               | 后置条件                                   |
| ---------------------------------------- | ---------------------------------------- | ------------------ | -------------------------------------- |
| promotiondataserve.Promotion.submit      | `public ResultMessage submit(PromotionPO promotion,PromotionItemPO[] items);` | 用户已经登录，促销策略所有属性有效。 | 返回促销策略ID                               |
| promotiondataservice.Promotion.query     | `public PromotionItem[] query(Date[] timeRange);` | 筛选条件有效。            | 返回PromotionItem对象集合。输入有效。              |
| promotiondataservice.Promotion.query     | `public PromotionItem[] query(PromotionType promotionType);` | 筛选条件有效。            | 返回PromotionItem对象集合。输入有效。              |
| promotiondataservice.Promotion.query     | `public PromotionItem[] query(Client client);` | 筛选条件有效。            | 返回PromotionItem对象集合。输入有效。              |
| promotiondataservice.Promotion.query     | `public PromotionItem[] query(double totalPrcie);` | 筛选条件有效。            | 返回PromotionItem对象集合。输入有效。              |
| promotiondataservice.Promotion.getPromotionItemsByIDs | `public PromotionItem[] getPromotionItemsByIDs(String…ID);` | 输入有效。              | 返回PromotionItem对象集合，若ID为空或者null，返回空数组。 |
| promotiondataservice.Promotion.delete    | `public ResultMessage delete(PromotionPO promotion);` | 无。                 | 系统修改促销策略状态，更新并保存持久化信息。                 |
| promotiondataservice.Promotion.update    | `public void update(PromotionPO promotion);` | 无。                 | 系统更新并保存该持久化信息。                         |
| promotiondataservice.Promotion.init      |                                          |                    |                                        |
| promotiondataservice.Promotion.          |                                          |                    |                                        |

