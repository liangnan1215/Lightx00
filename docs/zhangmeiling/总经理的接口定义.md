# approvalblservice的接口规范

**approvalblservice.Audit的接口规范**

提供的接口

| 接口名称                               | 语法                                       | 前置条件          | 后置条件                  |
| ---------------------------------- | ---------------------------------------- | ------------- | --------------------- |
| approvalblservice.Audit.showBill   | `public ResultMessage  showBill (BillVO bill);` | 有处于提交状态的单据单据。 | 查看单据内容。               |
| Approvalblservice.Audit.rejectBill | `public ResultMessage rejectBill(BillVO bill);` | 用户已经查看了单据内容。  | 拒绝通过审批，持久化更新涉及的对象的数据。 |
| Approvalblservice.Audit.passBill   | `public ResultMessage passBill(BillVO bill);` | 用户已经查看了单据内容。  | 通过审批，持久化更新涉及的对象的数据。   |

需要的接口

| 接口名称                                     | 服务名       |
| ---------------------------------------- | --------- |
| `BillDataServic.getBill`                 | 得到所有持久化对象 |
| `logblservice.Logger.log(LogSeverity severity, String content);` | 记录日志      |

# approvaldataservice的接口规范

**approvaldataservice.Audit**

提供的接口

| 接口名称                        | 语法                           | 前置条件              | 后置条件                                     |
| --------------------------- | ---------------------------- | ----------------- | ---------------------------------------- |
| approvaldataservice.getBill | `public BillPO[] getBill();` | po中存在处于提交状态的单据数据。 | 按提交时间返回所有单据包括：   销售类单据（销售出货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付款单，收款单，现金费用单）4. 库存类单据（报溢单，报损单，赠送单）。 |

# prmotionblservice的接口规范

**promotionblservice.PromotionManagement**

提供的接口

| 接口名称                                     | 语法                                       | 前置条件                                | 后置条件                                    |
| ---------------------------------------- | ---------------------------------------- | ----------------------------------- | --------------------------------------- |
| promotionblservice.PromotionManagement.submit | `public ResultMessage submit(PromotionVO newPromotion);` | 促销策略所有属性有效。                         | 持久化促销策略信息已经保存。                          |
| promotionblservice.PromotionManagement.saveAsDraft | `public ResultMessage saveAsDraft(PromotionVO promotion);` | 促销策略信息非空。                           | 保存草稿，持久化信息已经保存。                         |
| promotionservice.PromotionManagement.resume | `public PromotionVO resume();`           | 开始填写。                               | 如果系统记录需要继续填写促销策略，那么返回值为继续填写的单据；反之为null； |
| promotionblservice.PromotionManagement.queryPromotion | `public PromotionVO[] queryPromotion(PromotionQueryVO query);` | 输入的query不为空，其中值为null字段的为不限制，筛选条件有效。 | 返回符合条件的商品。                              |
| promotionblservice.PromotionManagement.delete | `public ResultMessage delete(PromotionPO promotion);` | 选择删除促销策略。                           | 返回删除是否成功，持久化更新涉及的对象的数据。                 |
| promotionblservice.PromotionManagement.queryCommodity | `public CommodityVO[] queryCommodity(CommodityQueryVO query);` | 输入的query不为空，其中值为null字段的为不限制，筛选条件有效。 | 返回符合条件的商品。                              |

需要的接口

| 接口名称                                     | 服务名                    |
| ---------------------------------------- | ---------------------- |
| `promotiondataservice.PromotionManagement.submit(PromotionPO promotion,PromotionItem[] items);` | 提交新促销策略。               |
| `promotiondataservice.PromotionManagement.queryPromotion(Date[] timeRange,PromotionType promotionType,Client client,double totalPrice);` | 根据时间段查找促销策略。           |
| `promotiondataservice.Promotion.getPromotionItemsByIDs(String...ID);` | 通过ID集合拿到Promotion对象集合。 |
| `promotiondataservice.Promotion.delete(PromotionPO promotion);` | 删除单一持久化对象。             |
| `promotiondataservice.PromotionManagement.queryCommodity(CommodityType commodityType,String ID);` | 根据促销策略类型查找促销策略。        |
| `draftbl.DraftManagement.saveAsDraft(PromotionVO promotion);` | 保存草稿。                  |
| `logblservice.Logger.log(LogSeverity severity, String content);` | 记录日志。                  |

# promotiondataservice的接口规范

**promotiondataservice.PromotionManagement**

提供的接口

| 接口名称                                     | 语法                                       | 前置条件               | 后置条件                                   |
| ---------------------------------------- | ---------------------------------------- | ------------------ | -------------------------------------- |
| promotiondataserve.PromotionManagement.submit | `public ResultMessage submit(PromotionPO promotion,PromotionItemPO[] items);` | 用户已经登录，促销策略所有属性有效。 | 返回促销策略ID                               |
| promotiondataservice.PromotionManagement.getPromotionItemsByIDs | `public PromotionItem[] getPromotionItemsByIDs(String…ID);` | 输入有效。              | 返回PromotionItem对象集合，若ID为空或者null，返回空数组。 |
| promotiondataservice.PromotionManagement.delete | `public ResultMessage delete(PromotionPO promotion);` | 无。                 | 系统修改促销策略状态，更新并保存持久化信息。                 |
| promotiondataservice.PromotionManagement.getCommodityItemsByIDs | `public CommodityItems[] getCommodityItemsByIDs(String…ID);` | 输入有效。              | 返回CommodityItem对象集合，若ID为空或者null，返回空数组。 |



# logblservice的接口规范

**logblservice.Logger**

提供的接口

| 接口名称                     | 语法                          | 前置条件           | 后置条件          |
| ------------------------ | --------------------------- | -------------- | ------------- |
| logblservice.Logger.show | `public LogItems[] show()`; | 用户已经登录，具有最高权限。 | 返回LogItems数组。 |

需要的接口

| 接口名称                           | 服务名           |
| ------------------------------ | ------------- |
| logdataservice.Logger.getLogPO | 得到持久化的操作日志对象。 |

# logdataservice的接口规范

**logdataservice.Logger**

提供的接口

| 接口名称                         | 语法                           | 前置条件 | 后置条件          |
| ---------------------------- | ---------------------------- | ---- | ------------- |
| logblservice.Logger.getLogPO | `public LogPO[] getLogPO();` | 无。   | 返回持久化的操作日志对象。 |

