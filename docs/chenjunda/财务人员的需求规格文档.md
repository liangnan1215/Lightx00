#### 3.2.15 账户管理

##### 3.2.15.1 特性描述

财务人员可以在登录后，可以查询公司账户；如果当前财务人员具有最高权限，那么用户可以进行增删改的操作。

优先级=高

##### 3.2.15.2 刺激/响应序列

刺激：财务人员输入筛选信息以查询账户。

响应：系统返回符合筛选条件的账户信息。

刺激：财务人员选定一个账户进行删除操作。

响应：系统删除账户，并记录日志。

刺激：财务人员修改账户属性。

响应：系统修改账户属性，并记录日志。

刺激：财务人员输入账户信息，并增加一个账户。

响应：系统根据这些信息新建一个账户，并记录日志。

##### 3.2.15.3 相关功能需求

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Select.Prompt   | 系统首先应允许用户选择所需操作（**输出**：选择操作界面）。          |
| AccountManagement.Select.Selected | 用户选择操作后（**查询**），应进入相关操作界面，参见AccountManagement.Create, AccountManagement.Modify以及AccountMnagement.Delete（**输出**）。 |
| AccountManagement.Cancel          | 用户点击取消操作（**查询**），应退出相关界面。                |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| AccountManagement.Query.Start  | 进入查询界面后，系统应给出可用的筛选条件选项让用户填写（**输出**）。     |
| AccountManagement.Query.Input  | 用户应可以输出筛选条件（**输入**）。                     |
| AccountManagement.Query.Error  | 若用户输入的筛选条件不合法，系统应给予错误提示并拒绝处理（**输出**）。    |
| AccountManagement.Query.Output | 用户填写筛选条件后，系统应输出符合条件的账户信息（**输出**）。        |
| AccountManagement.Query.Select | 用户应可以选择某个账户（**查询**）以进行下一步操作，并且对选择操作进行响应，参见AccountManagement.Delete, AccountMangement.Modify。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Create.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Create.Start    | 进入新增账户界面后，系统应给出需要填写的信息让用户填写（**输出**）。     |
| AccountManagement.Create.Input    | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Create.Process  | 用户输入被接受后，系统应保存新的账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Create.Error    | 若用户输入的相关信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户（**输出**）。 |
| AccountManagement.Create.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |
| AccountManagement.Create.Log      | 若用户做出了新增账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Modify.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Modify.Start    | 用户选择一个账户（参见AccountManagement.Query.Select）并点击修改按钮（**查询**），系统应给出相关信息以让客户修改（**输出**）。 |
| AccountManagement.Modify.Input    | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Modify.Process  | 用户输入被接受后，系统应保存新的账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Modify.Error    | 若用户输入的信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户（**输出**）。 |
| AccountManagement.Modify.Log      | 若用户做出了修改账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |
| AccountManagement.Modify.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Delete.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Delete.Confirm  | 用户选择一个账户（参见AccountManagement.Query.Select）并点击删除按钮（**查询**），系统应弹出消息框让用户确认操作（**输出**）。 |
| AccountManagement.Delete.Process  | 用户确认（**查询**）后，系统删除相关账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Delete.Error    | 若用户输入的信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户。（**输出**） |
| AccountManagement.Modify.Log      | 若用户做出了删除账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |
| AccountManagement.Modify.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |

#### 3.2.16 制定收款单

##### 3.2.16.1 特性描述

财务人员可以在登录后，制定新的收款单并提交审核。

优先级=高

##### 3.2.16.2 刺激/响应序列

刺激：财务人员要求填写收款单。

响应：系统提供已经填写了编号和操作员信息的收款单。

刺激：财务人员填写信息。

响应：系统应检查数据结构正确性以及输出提示。

刺激：财务人员填写结束。

响应：系统应给出单据总览，让财务人员复查。

刺激：财务人员确认填写。

响应：系统提交信息，并给出操作提示，并记录日志。

刺激：财务人员重新填写。

响应：系统返回填写界面。

##### 3.2.16.3 相关功能需求

| 编号                          | 需求描述与度量                        |
| --------------------------- | ------------------------------ |
| ReceiptBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| ReceiptBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| ReceiptBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| ReceiptBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                           | 需求描述与度量                               |
| ---------------------------- | ------------------------------------- |
| ReceiptBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| ReceiptBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| ReceiptBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| ReceiptBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| ReceiptBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号              | 需求描述与度量                       |
| --------------- | ----------------------------- |
| ReceiptBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**） |

#### 3.2.17 制定付款单

##### 3.2.17.1 特性描述

财务人员可以在登录后，制定新的付款单并提交审核。

优先级=中

##### 3.2.17.2 刺激/响应序列

刺激：财务人员要求填写付款单。

响应：系统提供已经填写了编号和操作员信息的付款单。

刺激：财务人员填写信息。

响应：系统应检查数据结构正确性以及输出提示。

刺激：财务人员填写结束。

响应：系统应给出单据总览，让财务人员复查。

刺激：财务人员确认填写。

响应：系统提交信息，并给出操作提示，并记录日志。

刺激：财务人员重新填写。

响应：系统返回填写界面。

##### 3.2.17.3 相关功能需求

| 编号                          | 需求描述与度量                        |
| --------------------------- | ------------------------------ |
| PaymentBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| PaymentBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| PaymentBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| PaymentBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                           | 需求描述与度量                               |
| ---------------------------- | ------------------------------------- |
| PaymentBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| PaymentBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| PaymentBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| PaymentBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| PaymentBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号              | 需求描述与度量                       |
| --------------- | ----------------------------- |
| PaymentBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**） |

#### 3.2.18 制定现金费用单

##### 3.2.18.1 特性描述

财务人员可以在登录后，制定新的现金费用单并提交审核。

优先级=中

##### 3.2.18.2 刺激/响应序列

刺激：财务人员要求填写现金费用单。

响应：系统提供已经填写了编号和操作员信息的现金费用单。

刺激：财务人员填写信息。

响应：系统应检查数据结构正确性以及输出提示。

刺激：财务人员填写结束。

响应：系统应给出单据总览，让财务人员复查。

刺激：财务人员确认填写。

响应：系统提交信息，并给出操作提示，并记录日志。

刺激：财务人员重新填写。

响应：系统返回填写界面。

##### 3.2.18.3 相关功能需求

| 编号                       | 需求描述与度量                        |
| ------------------------ | ------------------------------ |
| CashBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| CashBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| CashBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| CashBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                        | 需求描述与度量                               |
| ------------------------- | ------------------------------------- |
| CashBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| CashBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| CashBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| CashBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| CashBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号           | 需求描述与度量                       |
| ------------ | ----------------------------- |
| CashBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**） |

#### 3.2.19 查看销售明细表

##### 3.2.19.1 特性描述

财务人员或总经理可以在登录后，查看销售明细表

优先级=中

##### 3.2.19.2 刺激/响应序列

刺激：用户要求查询销售明细表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的销售出货单据记录。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表。

##### 3.2.19.3 相关功能需求

| 编号                     | 需求描述与度量                         |
| ---------------------- | ------------------------------- |
| SaleDetailQuery.Prompt | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| SaleDetailQuery.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| SaleDetailQuery.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                     | 需求描述与度量                   |
| ---------------------- | ------------------------- |
| SaleDetailQuery.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                     | 需求描述与度量                                  |
| ---------------------- | ---------------------------------------- |
| SaleDetailQuery.Output | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的信息，并显示给用户（**输出**）。 |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| SaleDetailQuery.Export.Prompt  | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| SaleDetailQuery.Export.Select  | 系统应允许用户选择需要导出的条目（**输入**）。                |
| SaleDetailQuery.Export.Process | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| SaleDetailQuery.Export.Cancel  | 当用户取消操作后（**查询**），系统应直接退出。                |

#### 3.2.20 查看经营历程表

##### 3.2.19.1 特性描述

财务人员或总经理可以在登录后，查看销售明细表

优先级=中

##### 3.2.19.2 刺激/响应序列

刺激：用户要求查询销售明细表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的销售出货单据记录。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表。

##### 3.2.19.3 相关功能需求

| 编号                       | 需求描述与度量                         |
| ------------------------ | ------------------------------- |
| TradeHistoryQuery.Prompt | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |

| 编号                               | 需求描述与度量                                  |
| -------------------------------- | ---------------------------------------- |
| TradeHistoryQuery.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| TradeHistoryQuery.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                       | 需求描述与度量                   |
| ------------------------ | ------------------------- |
| TradeHistoryQuery.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| TradeHistoryQuery.Output | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的信息，并显示给用户（**输出**）。 |

| 编号                               | 需求描述与度量                                  |
| -------------------------------- | ---------------------------------------- |
| TradeHistoryQuery.Export.Prompt  | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| TradeHistoryQuery.Export.Select  | 系统应允许用户选择需要导出的条目（**输入**）。                |
| TradeHistoryQuery.Export.Process | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| TradeHistoryQuery.Export.Cancel  | 当用户取消操作后（**查询**），系统应直接退出。                |