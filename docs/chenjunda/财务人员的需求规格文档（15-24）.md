#### 3.2.15 账户管理

##### 3.2.15.1 特性描述

财务人员可以在登录后，可以查询公司账户；如果当前财务人员具有最高权限，那么用户可以进行增删改的操作。

优先级=高

##### 3.2.15.2 刺激/响应序列

刺激：用户输入筛选信息以查询账户。

响应：系统返回符合筛选条件的账户信息。

刺激：用户在进行增删改操作时没有最高权限。

响应：系统拒绝操作。

刺激：用户选定一个账户进行删除操作。

响应：系统删除账户，并记录日志。

刺激：用户修改账户属性。

响应：系统修改账户属性，并记录日志。

刺激：用户输入账户信息，并增加一个账户。

响应：系统根据这些信息新建一个账户，并记录日志。

##### 3.2.15.3 相关功能需求

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Select.Prompt   | 系统首先应允许用户选择所需操作（**输出**：选择操作界面）。          |
| AccountManagement.Select.Selected | 用户选择操作后（**查询**），应进入相关操作界面，参见AccountManagement.Create, AccountManagement.Modify以及AccountMnagement.Delete（**输出**）。 |
| AccountManagement.Cancel          | 用户点击取消操作（**查询**），应退出相关界面。                |

| 编号                             | 需求描述与度量                                  |
| ------------------------------ | ---------------------------------------- |
| AccountManagement.Query.Start  | 进入查询界面后，系统应给出可用的筛选条件选项让用户填写（**输出**）。     |
| AccountManagement.Query.Input  | 用户应可以输出筛选条件（**输入**）。                     |
| AccountManagement.Query.Error  | 若用户输入的筛选条件不合法，系统应给予错误提示并拒绝处理（**输出**）。    |
| AccountManagement.Query.Output | 用户填写筛选条件后，系统应输出符合条件的账户信息（**输出**）。        |
| AccountManagement.Query.Select | 用户应可以选择某个账户（**查询**）以进行下一步操作，并且对选择操作进行响应，参见AccountManagement.Delete, AccountMangement.Modify。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Create.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Create.Start    | 进入新增账户界面后，系统应给出需要填写的信息让用户填写（**输出**）。     |
| AccountManagement.Create.Input    | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Create.Process  | 用户输入被接受后，系统应保存新的账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Create.Error    | 若用户输入的相关信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户（**输出**）。 |
| AccountManagement.Create.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |
| AccountManagement.Create.Log      | 若用户做出了新增账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Modify.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Modify.Start    | 用户选择一个账户（参见AccountManagement.Query.Select）并点击修改按钮（**查询**），系统应给出相关信息以让客户修改（**输出**）。 |
| AccountManagement.Modify.Input    | 用户应可以输出相关信息（**输入**）。                     |
| AccountManagement.Modify.Process  | 用户输入被接受后，系统应保存新的账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Modify.Error    | 若用户输入的信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户（**输出**）。 |
| AccountManagement.Modify.Log      | 若用户做出了修改账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |
| AccountManagement.Modify.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| AccountManagement.Delete.NoAccess | 如果用户没有最高权限，那么系统应弹出错误信息（**输出**）并拒绝操作。     |
| AccountManagement.Delete.Confirm  | 用户选择一个账户（参见AccountManagement.Query.Select）并点击删除按钮（**查询**），系统应弹出消息框让用户确认操作（**输出**）。 |
| AccountManagement.Delete.Process  | 用户确认（**查询**）后，系统删除相关账户信息（**逻辑文件**），并给予用户正确提示（**输出**）。 |
| AccountManagement.Delete.Error    | 若用户输入的信息不合法或者处理过程中出现错误，系统应回滚操作并输出错误信息提示用户（**输出**）。 |
| AccountManagement.Delete.Log      | 若用户做出了删除账户的操作，系统应保存此次操作的日志（**逻辑文件**）。    |
| AccountManagement.Delete.Cancel   | 用户取消操作（**查询**）后，系统应首先弹出确认窗口（**输出**）；当用户确认（**查询**），系统应不保存任何信息并退出系统；若不确认，则继续操作。 |

#### 3.2.16 制定收款单

##### 3.2.16.1 特性描述

财务人员可以在登录后，制定新的收款单并提交审核。

优先级=高

##### 3.2.16.2 刺激/响应序列

刺激：用户要求填写收款单。

响应：系统提供已经填写了编号和操作员信息的收款单。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

##### 3.2.16.3 相关功能需求

| 编号                          | 需求描述与度量                        |
| --------------------------- | ------------------------------ |
| ReceiptBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| ReceiptBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| ReceiptBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| ReceiptBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                           | 需求描述与度量                               |
| ---------------------------- | ------------------------------------- |
| ReceiptBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| ReceiptBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |
| ReceiptBill.Cancel.Back      | 当用户放弃放弃操作时，系统应返回上一个界面 。               |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| ReceiptBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| ReceiptBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| ReceiptBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| ReceiptBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| ReceiptBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| ReceiptBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| ReceiptBill.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| ReceiptBill.Reset.Back      | 当系统不确认的时候，系统应返回到之前的界面。                   |



| 编号              | 需求描述与度量                        |
| --------------- | ------------------------------ |
| ReceiptBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**）。 |

#### 3.2.17 制定付款单

##### 3.2.17.1 特性描述

财务人员可以在登录后，制定新的付款单并提交审核。

优先级=中

##### 3.2.17.2 刺激/响应序列

刺激：用户要求填写付款单。

响应：系统提供已经填写了编号和操作员信息的付款单。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

##### 3.2.17.3 相关功能需求

| 编号                          | 需求描述与度量                        |
| --------------------------- | ------------------------------ |
| PaymentBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| PaymentBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| PaymentBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| PaymentBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                           | 需求描述与度量                               |
| ---------------------------- | ------------------------------------- |
| PaymentBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| PaymentBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |
| Payment.Bill.Cancel.Back     | 当用户放弃放弃操作时（**查询**），系统应回到上一个界面。        |

| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| PaymentBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| PaymentBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| PaymentBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| PaymentBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号               | 需求描述与度量                           |
| ---------------- | --------------------------------- |
| PaymentBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| PaymentBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| PaymentBill.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| PaymentBill.Reset.Back      | 当系统不确认的时候，系统应返回到之前的界面。                   |


| 编号              | 需求描述与度量                        |
| --------------- | ------------------------------ |
| PaymentBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**）。 |

#### 3.2.18 制定现金费用单

##### 3.2.18.1 特性描述

财务人员可以在登录后，制定新的现金费用单并提交审核。

优先级=中

##### 3.2.18.2 刺激/响应序列

刺激：用户要求填写现金费用单。

响应：系统提供已经填写了编号和操作员信息的现金费用单。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交账，并显示成功信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

##### 3.2.18.3 相关功能需求

| 编号                       | 需求描述与度量                        |
| ------------------------ | ------------------------------ |
| CashBill.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**） |
| CashBill.Prompt.Autofill | 系统给出相关信息的同时，应自动完善单据编号以及操作员信息。  |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | ---------------------------------------- |
| CashBill.Input          | 系统应允许用户填写信息（**输入**）。                     |
| CashBill.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                        | 需求描述与度量                               |
| ------------------------- | ------------------------------------- |
| CashBill.Cancel           | 当用户放弃操作时（**查询**），系统应提示用户进行确认（**输出**）。 |
| CashBill.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应放弃所有更改并退出当前界面。  |
| CashBill.Cancel.Back      | 当用户放弃放弃操作时，系统应返回。                     |

| 编号                      | 需求描述与度量                                  |
| ----------------------- | :--------------------------------------- |
| CashBill.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| CashBill.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| CashBill.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号                       | 需求描述与度量                                  |
| ------------------------ | ---------------------------------------- |
| CashBill.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| CashBill.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| CashBill.Reset.Back      | 当系统不确认的时候，系统应返回到之前的界面。                   |

| 编号            | 需求描述与度量                           |
| ------------- | --------------------------------- |
| CashBill.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号            | 需求描述与度量                           |
| ------------- | --------------------------------- |
| CashBill.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |


| 编号           | 需求描述与度量                        |
| ------------ | ------------------------------ |
| CashBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**）。 |

#### 3.2.19 查看销售明细表

##### 3.2.19.1 特性描述

财务人员或总经理可以在登录后，查看销售明细表。

优先级=中

##### 3.2.19.2 刺激/响应序列

刺激：用户要求查询销售明细表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的销售出货单据记录。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表。

##### 3.2.19.3 相关功能需求

| 编号                | 需求描述与度量                         |
| ----------------- | ------------------------------- |
| SaleDetail.Prompt | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |

| 编号                        | 需求描述与度量                                  |
| ------------------------- | ---------------------------------------- |
| SaleDetail.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| SaleDetail.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                | 需求描述与度量                   |
| ----------------- | ------------------------- |
| SaleDetail.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                | 需求描述与度量                                  |
| ----------------- | ---------------------------------------- |
| SaleDetail.Output | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的信息，并显示给用户（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| SaleDetail.Export.Prompt                 | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| SaleDetail.Export.SelectSaleDetail.Export.Select | 系统应允许用户选择需要导出的条目（**输入**）。                |
| SaleDetail.Export.Process                | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| SaleDetail.Export.Cancel                 | 当用户取消操作后（**查询**），系统应直接退出。                |

#### 3.2.20 查看经营历程表

##### 3.2.20.1 特性描述

财务人员或总经理可以在登录后，查看经营历程表。

优先级=中

##### 3.2.20.2 刺激/响应序列

刺激：用户要求查询经营历程表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的单据记录。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表。

##### 3.2.20.3 相关功能需求

| 编号                  | 需求描述与度量                         |
| ------------------- | ------------------------------- |
| TradeHistory.Prompt | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| TradeHistory.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| TradeHistory.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                  | 需求描述与度量                   |
| ------------------- | ------------------------- |
| TradeHistory.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                  | 需求描述与度量                                  |
| ------------------- | ---------------------------------------- |
| TradeHistory.Output | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的信息，并显示给用户（**输出**）。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | ---------------------------------------- |
| TradeHistory.Export.Prompt  | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| TradeHistory.Export.Select  | 系统应允许用户选择需要导出的条目（**输入**）。                |
| TradeHistory.Export.Process | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| TradeHistory.Export.Cancel  | 当用户取消操作后（**查询**），系统应直接退出。                |

#### 3.2.21 红冲

##### 3.2.21.1 特性描述

财务人员可以选择执行红冲。

优先级=高

##### 3.2.21.2 刺激/响应序列

刺激：用户选定一条单据，并点击执行红冲按钮。

响应：系统生成一个一模一样但是数量取反的新单据并显示给用户。

刺激：用户在红冲单据的界面上点击红冲并复制按钮。

响应：系统让红冲单据可以修改。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交单据，并显示成功信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统撤销用户的所有修改。

##### 3.2.21.3 相关功能需求

| 编号                 | 需求描述与度量                                  |
| :----------------- | ---------------------------------------- |
| RevertBill.Produce | 用户在经营历程表界面点击红冲按钮（**查询**），系统应产生红冲单据，并弹出红冲单据窗口等待用户确认、修改或者退出（**输出**）。 |

| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| RevertBill.Modify                  | 用户在红冲单据窗口中点击修改（**查询**）后，系统应弹出新的红冲单据修改窗口（**输出**），用户可以进行修改（**输入**）。 |
| RevertBill.Modify.Validate         | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |
| RevertBill.Modify.Reset            | 当用户点击复位按钮时（**查询**），系统应提示用户是否重置（**输出**）。  |
| RevertBill.Modify.Reset.Confirmed  | 当用户确认时（**查询**），系统应复位当前信息。                |
| RevertBill.Modify.Reset.Back       | 当系统不确认的时候，系统应返回到之前的界面。                   |
| RevertBill.Modify.Cancel           | 当用户点击取消按钮时（**查询**），系统应弹出窗口让用户确认是否取消当前操作（**输出**）， |
| RevertBill.Modify.Cancel.Confirmed | 当用户确认时（**查询**），系统应丢弃一切修改，返回到红冲单据窗口。      |
| RevertBill.Modify.Cancel.Back      | 若用户不确认，系统应回到红冲单据修改窗口，并保留用户做过的修改。         |
| RevertBill.Modify.Undo             | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。        |
| RevertBill.Modify.Redo             | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。        |
| RevertBill.Modify.Submit           | 当用户点击提交按钮时（**查询**），系统应保存当前更改到红冲单据窗口，窗口中应显示新单据数据。 |

| 编号                          | 需求描述与度量                                  |
| --------------------------- | :--------------------------------------- |
| RevertBill.Submit           | 用户点击提交按钮时（**查询**），系统应提示用户是否提交。           |
| RevertBill.Submit.Confirmed | 用户确认提交时（**查询**），系统应提交红冲单据（**逻辑文件**），并提示用户操作成功（**输出**）。 |
| RevertBill.Submit.Back      | 用户不确认提交时，系统应退回上一个界面。                     |


| 编号             | 需求描述与度量                        |
| -------------- | :----------------------------- |
| RevertBill.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**）。 |

#### 3.2.22 查看经营情况表

##### 3.2.22.1 特性描述

财务人员或总经理可以在登录后，查看经营情况表。

优先级=中

##### 3.2.22.2 刺激/响应序列

刺激：用户要求查询经营情况表。

响应：系统给出需要填写的筛选条件信息。

刺激：用户提交筛选条件信息。

响应：系统给出满足筛选条件的单据记录。

刺激：用户选择需要导出的报表，并要求导出报表。

响应：系统导出报表。

##### 3.2.22.3 相关功能需求

| 编号                    | 需求描述与度量                         |
| --------------------- | ------------------------------- |
| TradeSituation.Prompt | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| TradeSituation.Input          | 系统应允许用户填写筛选条件（**输入**）。                   |
| TradeSituation.Input.Validate | 在用户填写筛选条件结束后，系统应检查其有效性。如果信息无效，应弹出错误消息（**输出**）。 |

| 编号                    | 需求描述与度量                   |
| --------------------- | ------------------------- |
| TradeSituation.Cancel | 当用户放弃操作时（**查询**），系统应退出系统。 |

| 编号                    | 需求描述与度量                                  |
| --------------------- | ---------------------------------------- |
| TradeSituation.Output | 当用户填写结束、点击提交（**查询**），系统应查询符合条件的信息，并显示给用户（**输出**）。 |

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| TradeSituation.Export.Prompt  | 当用户点导出报表（**查询**）时，系统应提示用户选择需要导出的条目（**输出**）。 |
| TradeSituation.Export.Select  | 系统应允许用户选择需要导出的条目（**输入**）。                |
| TradeSituation.Export.Process | 用户提交后，系统应导出用户需要的信息（**对外接口**）。            |
| TradeSituation.Export.Cancel  | 当用户取消操作后（**查询**），系统应直接退出。                |

#### 3.2.23 期初建账

##### 3.2.23.1 特性描述

财务人员可以在登录后，进行期初建账操作。

优先级=中

##### 3.2.23.2 刺激/响应序列

刺激：用户进入期初建账界面。

响应：系统显示需要填写的信息。

刺激：用户输入信息。

响应：系统检查数据格式。

刺激：用户点击提交。

响应：系统弹出确认窗口。

刺激：用户确认输入。

响应：系统提交账，并显示成功信息，记录日志。

刺激：用户不确认，返回继续输入。

响应：系统返回，让用户继续填写。

刺激：用户取消输入。

响应：系统提示用户确认。

刺激：用户确认取消输入。

响应：系统不保存信息，直接退出。

刺激：用户不取消。

响应：系统返回，让用户继续填写。

刺激：系统点击复位按钮。

响应：系统提示用户是否撤销修改。

刺激：用户确认。

响应：系统撤销用户的修改。

刺激：用户不确认。

响应：系统返回。

刺激：用户按下回撤快捷键。

响应：系统回撤刚才的操作。

刺激：用户按下重做快捷键。

响应：系统重做刚才的回做。

##### 3.2.23.3 相关功能需求

| 编号                                   | 需求描述与度量                         |
| ------------------------------------ | ------------------------------- |
| InitialEstablishment.Prompt          | 用户进入相关界面后，系统应给出需要填写的信息（**输出**）。 |
| InitialEstablishment.Prompt.Autofill | 系统应复制当前系统的状态到报表里。               |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InitialEstablishment.Input          | 系统应允许用户输入相关信息（**输入**）。                   |
| InitialEstablishment.Input.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**） |

| 编号                                    | 需求描述与度量                              |
| ------------------------------------- | ------------------------------------ |
| InitialEstablishment.Cancel           | 当用户点击取消按钮（**查询**）的时候，系统应提示用户是否要放弃操作。 |
| InitialEstablishment.Cancel.Confirmed | 当用户确认放弃操作时（**查询**），系统应不保存任何信息，离开界面   |
| InitialEstablishment.Cancel.Back      | 当用户放弃放弃操作时，系统退回上一个界面。                |

| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | :--------------------------------------- |
| InitialEstablishment.Submit.Review  | 当用户填写结束、点击提交（**查询**），系统检查数据结构正确时，系统给出当前单据的总览（**输出**）让用户复查。 |
| InitialEstablishment.Submit.Confirm | 当用户确认时（**查询**），系统应提交当前单据（**逻辑文件**），并给出正确提示（**输出**）。 |
| InitialEstablishment.Submit.Back    | 当用户需要继续修改时（**查询**），系统应返回上一个界面让用户继续填写。    |

| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| InitialEstablishment.Reset           | 当用户点击复位按钮的时候（**查询**），系统应提示用户是否要复位全部信息（**输出**）。 |
| InitialEstablishment.Reset.Confirmed | 当用户确认时（**查询**），系统应复位当前信息。                |
| InitialEstablishment.Reset.Back      | 当系统不确认的时候，系统应返回到之前的界面。                   |

| 编号                        | 需求描述与度量                           |
| ------------------------- | --------------------------------- |
| InitialEstablishment.Undo | 用户按下回撤快捷键（**查询**）时，系统应回撤用户刚才做的修改。 |

| 编号                        | 需求描述与度量                           |
| ------------------------- | --------------------------------- |
| InitialEstablishment.Redo | 用户按下重做快捷键（**查询**）时，系统应重做用户刚才做的修改。 |


| 编号                       | 需求描述与度量                        |
| ------------------------ | ------------------------------ |
| InitialEstablishment.Log | 用户成功提交后，系统记录当前操作的日志（**逻辑文件**）。 |

#### 3.2.24 完成现实银行账户操作

##### 3.2.24.1 特性描述

财务人员可以在登录后，查看到审批消息，并作出响应。

优先级=中

##### 3.2.24.2 刺激/响应序列

刺激：用户点击**通知**按钮。

响应：系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果。

刺激：用户双击一条单据信息。

响应：系统显示**单据详细情况**页面。

刺激：系统显示已通过单据详细情况，用户点击**完成**按钮。

响应：系统将通知删除。

刺激：系统显示已通过单据详细情况，用户点击**取消**按钮。

响应：系统回到**审批信息**页面。

刺激：系统显示未通过单据详细情况，用户点击**修改**按钮。

响应：系统进入**修改单据**界面。

刺激：系统显示**修改单据**页面，用户完成修改单据，点击**提交**按钮。

响应：系统显示**确认提交表单**页面。

刺激：用户点击**确认提交**按钮。

响应：系统保存表单，并弹出窗口提示保存信息。

刺激：系统显示未通过单据详细情况，用户点击**废弃**按钮。

响应：系统弹出窗口提示**“是否确认废弃”**。

刺激：系统显示未通过单据详细情况，用户点击**确认废弃**按钮。

响应：系统删除单据。

##### 3.2.24.3 相关功能需求

| 编号                      | 需求描述与度量                    |
| ----------------------- | -------------------------- |
| SaleStuffReponse.Notify | 当有单据通过审批后，系统应提示用户（**输出**）。 |

| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| SaleStuffResponse.Show                   | 系统显示**审批信息**页面，审批信息页面显示单据编号和审批结果（**输出**）。 |
| SaleStuffResponse.Show.Success           | 系统显示**已通过单据详细情况**页面,显示该单据的所有信息（**输出**）。  |
| SaleStuffResponse.Show.Success.Finish    | 系统进入**已通过单据详细情况**页面,财务人员点击**完成**按钮（**查询**），系统将通知删除（**逻辑文件**）。 |
| SaleStuffResponse.Show.Fail              | 系统显示**未通过单据详细情况**页面,显示该单据的所有信息（**输出**） 。 |
| SaleStuffResponse.Show.Fail.Modify       | 系统进入**修改单据**界面，系统显示可修改的单据信息（**输出**）。用户输入新内容（**输入**）。 |
| SaleStuffResponse.Show.Fail.Modify.Validate | 在用户填写相关信息的过程中，系统应实时检查数据格式并给出输入提示以及错误提示（**输出**）。用户输入结束后，系统再次检查数据格式，若有错误，提示错误信息（**输出**）。 |
| SaleStuffResponse.Show.Fail.Modify.Submit.Review | 用户修改完单据后，点击提交按钮（**查询**）后，系统显示单据，进入**确认提交表单**页面。 |
| SaleStuffResponse.Show.Fail.Modify.Submit.Confirm | 用户确认提交表单（**查询**），系统提交单据（**逻辑文件**），并显示成功信息（**输出**）。 |
| SaleStuffResponse.Show.Fail.Modify.Submit.Back | 用户不确认提交，系统返回上一个页面。                       |
| SaleStuffResponse.Show.Fail.Modify.Submit.Log | 如果用户提交了表单，则记录日志（**逻辑文件**）。               |
| SaleStuffResponse.Show.Fail.Abandon      | 当用户选择丢弃某一单据时（**查询**），系统让用户确认丢弃单据操作（**输出**）。 |
| SaleStuffResponse.Show.Fail.Abandon.Confirmed | 当用户确认操作时（**查询**），系统应丢弃单据（**逻辑文件**），并给出操作完成信息（**输出**）。 |
| SaleStuffResponse.Show.Fail.Abandon.Back | 当用户放弃丢弃操作时，系统返回上一个界面。                    |
| SaleStuffResponse.Show.Fail.Abandon.Log  | 当进行丢弃操作后，系统记录日志（**逻辑文件**）。               |